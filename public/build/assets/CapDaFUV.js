import{r as e,j as s,A as a}from"./B1SaF5L1.js";import{c as t}from"./D7ruis_g.js";import{B as l}from"./CiSvF_sP.js";import{C as i,b as r,c as n,a as c}from"./DiAzyCyr.js";import{I as d}from"./4Si0Mwji.js";import{b as o}from"./P6GUTiDk.js";function m({response:m}){const[x,h]=e.useState(""),[u,j]=e.useState(null),[f,p]=e.useState(""),[b,g]=e.useState(!1),[w,v]=e.useState(null),N=t((e=>{(async e=>{g(!0),await fetch(route("dashboard.cui.detail",{name:e})).then((e=>{if(e.ok)return e.json();e.json().then((e=>{h(e.message),j(null)}))})).then((e=>{h(""),j(e.data)})).finally((()=>{g(!1)}))})(e)}),500);return e.useEffect((()=>{(async()=>{const e=u?.profil_url,s=await o(e,"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png");v(s)})()}),[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(i,{className:"",children:[s.jsx(r,{className:"flex flex-row items-center justify-between w-full pb-2 space-y-0",children:s.jsx(n,{className:"w-full text-lg font-bold text-center",children:"Absensi CUI Maba"})}),s.jsx(c,{className:"flex items-center justify-center mt-2",children:s.jsx(l,{onClick:()=>a.get(route("dashboard.cui.absensi")),children:"Mulai Absen Maba"})})]}),s.jsx(d,{disabled:b,value:f,onChange:e=>{p(e.target.value),N(e.target.value)},placeholder:"Cari Nama dan Kelompok. cth (Ujang 99)"}),x&&s.jsx("p",{className:"font-bold text-red-600",children:x}),u&&s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-bold text-green-500",children:u.message}),s.jsxs("div",{className:"flex w-full gap-5 mt-3",children:[s.jsxs("div",{children:[s.jsx("img",{className:"bg-fill object-cover w-56 h-64 mb-2 rounded-lg",src:w??"",alt:"Foto profil"}),"hijau"===u.pita&&s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-green-500",children:"Pita Hijau"}),"kuning"===u.pita&&s.jsxs("div",{children:[s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-yellow-400",children:"Pita Kuning"}),s.jsxs("p",{children:["Riwayat penyakit: ",u.riwayat]})]}),"merah"===u.pita&&s.jsxs("div",{children:[s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-red-600",children:"Pita Merah"}),s.jsxs("p",{children:["Riwayat penyakit: ",u.riwayat]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"ring-1 ring-black/30 rounded-xl p-2 text-xl",children:[s.jsx("p",{className:"font-bold",children:u.nama}),s.jsx("p",{children:u.prodi}),s.jsx("p",{children:u.nim}),s.jsx("p",{children:u.kelompok})]}),u.qr_code?s.jsx(l,{onClick:()=>{return e=u.qr_code??"",void a.post(route("cui.scan"),{qr_code:e});var e},className:"w-full mt-2",children:"Presensi"}):null]})]})]})]})}export{m as default};
