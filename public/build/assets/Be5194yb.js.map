{"version":3,"file":"Be5194yb.js","sources":["../../../resources/js/Pages/Dashboard/cui/absensi/Page.tsx"],"sourcesContent":["import QRScanner from \"./QRScanner\";\nimport { IDetectedBarcode, Scanner, outline } from \"@yudiel/react-qr-scanner\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { router, useForm } from \"@inertiajs/react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\n\nimport { Button } from \"@/Components/ui/button\";\n\n// import { Scanner as ScannerComp, IScannerProps, outline, boundingBox, centerText, useDevices } from '@yudiel/react-qr-scanner'\n\nfunction Page({ auth }) {\n  const [result, setResult] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const { data, setData, post, processing } = useForm({\n    qr_code: \"\",\n  });\n\n  const handleScan = (data: string) => {\n    if (data) {\n      setData(\"qr_code\", data);\n      setError(\"\");\n    }\n  };\n\n  useEffect(() => {\n    if (data.qr_code) {\n      post(route(\"cui.scan\"));\n    }\n  }, [data.qr_code]);\n\n  const handleError = (err: Error) => {\n    setError(err.message);\n  };\n\n  return (\n    <DashboardLayout user={auth.user}>\n      <div className=\"relative w-full h-full flex flex-col items-center justify-center\">\n        <div className=\"md:w-[100%] w-[75vw] h-[70vh] items-center justify-center\">\n          {/* <QRScanner\n                        onScan={handleScan}\n                        onError={handleError}\n                        scanDelay={3000}\n                        onBack={() => {\n                            router.get(\n                                route(\"dashboard.cui\", { tab: \"presensi\" }),\n                            );\n                        }}\n                        pause={processing}\n                    /> */}\n          <h1></h1>\n\n          {loading ? (\n            <div className=\"flex items-center justify-center h-full w-full border-b-purple-900\">\n              LOADING\n            </div>\n          ) : (\n            <div className=\"w-full flex justify-center items-center\">\n              <div className=\"md:w-64\">\n                <Scanner\n                  onScan={function (detectedCodes: IDetectedBarcode[]): void {\n                    //  //console.log(detectedCodes.at(-1)?.rawValue);\n                    handleScan(detectedCodes.at(-1)?.rawValue || \"\");\n                    //  //console.log(detectedCodes);\n                  }}\n                  components={{\n                    finder: true,\n                    tracker: outline,\n                    zoom: true,\n                  }}\n                  allowMultiple={true}\n                  scanDelay={2000}\n                  paused={loading}\n                  styles={{\n                    container: {\n                      width: \"100%\",\n                    },\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n        <Button\n          onClick={() =>\n            router.get(route(\"dashboard.cui\", { tab: \"presensi\" }))\n          }\n        >\n          Absensi Manual\n        </Button>\n\n        {result && <p className=\"hidden md:block\">Scanned Result: {result}</p>}\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport default Page;\n"],"names":["Page","auth","result","setResult","useState","error","setError","loading","setLoading","data","setData","post","processing","useForm","qr_code","useEffect","route","jsxRuntimeExports","jsx","DashboardLayout","user","children","jsxs","className","Scanner","onScan","detectedCodes","_a","at","rawValue","components","finder","tracker","outline","zoom","allowMultiple","scanDelay","paused","styles","container","width","Button","onClick","router","get","tab"],"mappings":"4aAaA,SAASA,GAAKC,KAAEA,IACd,MAAOC,EAAQC,GAAaC,WAAiB,KACtCC,EAAOC,GAAYF,WAAiB,KACpCG,EAASC,GAAcJ,YAAS,IACjCK,KAAEA,EAAMC,QAAAA,EAAAC,KAASA,EAAMC,WAAAA,GAAeC,EAAQ,CAClDC,QAAS,KAqBT,OAXFC,EAAAA,WAAU,KACJN,EAAKK,SACFH,EAAAK,MAAM,YACb,GACC,CAACP,EAAKK,UAOPG,EAAAC,IAACC,GAAgBC,KAAMnB,EAAKmB,KAC1BC,SAACC,EAAAA,KAAA,MAAA,CAAIC,UAAU,mEACbF,SAAA,GAACC,KAAA,MAAA,CAAIC,UAAU,4DAYbF,SAAA,CAAAJ,EAAAC,IAAC,KAAG,IAEHX,EACCW,EAAAA,IAAC,MAAI,CAAAK,UAAU,qEAAqEF,SAEpF,YAECH,EAAAA,IAAA,MAAA,CAAIK,UAAU,0CACbF,SAACH,EAAAA,IAAA,MAAA,CAAIK,UAAU,UACbF,SAAAJ,EAAAC,IAACM,EAAA,CACCC,OAAQ,SAAUC,SA1CdjB,MA4CS,OAAAkB,IAAcC,IAAG,SAAjB,EAAAD,EAAsBE,WAAY,MA1C3DnB,EAAQ,UAAWD,GACnBH,EAAS,IA2CG,EACAwB,WAAY,CACVC,QAAQ,EACRC,QAASC,EACTC,MAAM,GAERC,eAAe,EACfC,UAAW,IACXC,OAAQ9B,EACR+B,OAAQ,CACNC,UAAW,CACTC,MAAO,kBAQrBvB,EAAAC,IAACuB,EAAA,CACCC,QAAS,IACPC,EAAOC,IAAI5B,MAAM,gBAAiB,CAAE6B,IAAK,cAE5CxB,SAAA,mBAIAnB,GAAUe,EAAAK,KAAC,IAAE,CAAAC,UAAU,kBAAkBF,SAAA,CAAA,mBAAiBnB,SAInE"}