import{j as a,r as s}from"./C0ogrUV0.js";import{B as e,C as l}from"./COeSCIhO.js";import{D as i}from"./CAaEC1Pe.js";import{b as o,B as t}from"./CAIxH63E.js";import{D as n}from"./B9sFxu7z.js";import{S as r}from"./DeATUSMh.js";import{P as m,a as u,b as d,C as c,c as p,d as j,e as h,f as x}from"./hAXeQkXy.js";import{L as g}from"./CUb2Ia1p.js";import{S as k,a as f}from"./DN6GitAi.js";import{S as N,a as w,b,c as v,d as _,e as T,f as S}from"./DXKr8BDb.js";import{T as A}from"./BBBk12w8.js";import{u as y}from"./JMgYoWig.js";import{a as K}from"./FsSAmr9T.js";import{k as C}from"./BJEsKmnq.js";import"./Tn7g7n8e.js";import"./G_FS7mCp.js";import"./C5Xt_J23.js";import"./BQm6fuYD.js";import"./--QqQ-qs.js";import"./CRMvXd2g.js";import"./uY8XbadI.js";import"./Cl4xkest.js";import"./X5SUCL6B.js";import"./Cg0sJbPi.js";import"./BcyqcYtt.js";import"./DojKJdBC.js";import"./Uo13Au-D.js";import"./DPdBf6DS.js";import"./CGJ3NoEA.js";import"./V0C6PyZf.js";import"./BUYOxcSy.js";const E=({data:s})=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"flex gap-1 p-2",children:a.jsx("a",{href:`${s.tugas.jawaban??"#"}`,className:`${o({size:"sm"})}`,children:"Lihat Tugas"})})}),R=[{id:"no",header:"No",cell:({row:a})=>a.index+1},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:a})=>a.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:a})=>a.original.user.nim},{id:"judul",accessorKey:"tugas.judul",header:"Nama Tugas",cell:({row:a})=>a.original.tugas.judul},{id:"nama_kelompok",accessorKey:"user.nama_kelompok",header:"Kelompok",cell:({row:a})=>a.original.user.nama_kelompok},{id:"status",accessorKey:"status",header:"Status",cell:({row:a})=>a.original.status},{id:"actions",header:"Aksi",cell:({row:s})=>a.jsx(E,{data:s.original})}],P=({tugas_id:e,no_kelompok:l,status:i})=>{const[o,m]=s.useState({status:i||null,no_kelompok:l||null,tugas_id:e});s.useEffect((()=>{(o.no_kelompok||o.status||o.tugas_id)&&(async()=>{const a=route("dashboard.tugas.data",{no_kelompok:o.no_kelompok??0,status:o.status??0,tugas_id:o.tugas_id});console.log("Fetching data for:",a)})()}),[o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(t,{onClick:()=>{m({tugas_id:e,no_kelompok:l||null,status:i||null})},children:"Terapkan"}),a.jsx(t,{onClick:()=>{window.location.reload()},variant:"outline",children:"Reset Filter"})]}),a.jsx(r,{}),a.jsx(n,{searchKey:"Nama, Nim, Email",columns:R,apiEndpoint:route("dashboard.tugas.data",{tugas_id:o.tugas_id,no_kelompok:o.no_kelompok??0,status:o.status??0}),title:"Data Pengumpulan Tugas",description:"Gunakan sistem informasi ini untuk melihat data pengumpulan tugas mahasiswa baru!"})]})},O=[{title:"Dashboard",link:"/dashboard"},{title:"Pengumpulan Tugas",link:"/dashboard/pengumpulan-tugas"}],I=[{id:1,label:"DIRETRA",value:"1"},{id:2,label:"HARTATERA",value:"2"},{id:3,label:"COOLIN",value:"3"},{id:4,label:"GARTA MATERA",value:"4"},{id:5,label:"PORTAL DILOGI",value:"5"},{id:6,label:"REKASITERA",value:"6"},{id:7,label:"MOTLET CAKRAWALA",value:"7"}];function D({auth:o,response:n}){var r;y();const[E,R]=s.useState(!1),[D,L]=s.useState(""),[M,F]=s.useState("1"),[V,G]=s.useState(1),[z,B]=s.useState(""),[J,H]=s.useState([]);s.useEffect((()=>{(async()=>{const a=await fetch(route("dashboard.user.data.kelompok"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),s=await a.json();H(s)})()}),[]);return a.jsxs(a.Fragment,{children:[a.jsxs(i,{user:o.user,children:[a.jsx(e,{items:O}),a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Pengumpulan Tugas"}),a.jsx("h2",{children:"Filter berdasarkan..."}),a.jsxs("div",{className:"md:flex-row md:items-center flex flex-col items-start gap-1",children:[a.jsxs("div",{className:"grow w-full",children:[a.jsx(g,{className:"ml-[1px]",children:"Nama Tugas"}),a.jsxs(N,{onValueChange:a=>{F(a),G(a)},defaultValue:M,children:[a.jsx(w,{className:"w-full font-bold",children:a.jsx(b,{placeholder:"Pilih nama tugas"})}),a.jsx(v,{children:a.jsxs(_,{children:[a.jsx(T,{children:"Nama Tugas"}),I.map((s=>a.jsx(S,{value:s.value,children:s.label},s.id)))]})})]})]}),a.jsxs("div",{className:"grow w-full",children:[a.jsx(g,{className:"ml-[1px]",children:"Nama Kelompok"}),a.jsxs(m,{open:E,onOpenChange:R,children:[a.jsx(u,{asChild:!0,children:a.jsxs(t,{variant:"outline",role:"combobox","aria-expanded":E,className:"justify-between w-full font-normal shadow-none",size:"sm",children:[D?null==(r=J.find((a=>JSON.stringify(a.id)===D)))?void 0:r.id:"Pilih Kelompok",a.jsx(l,{className:"shrink-0 w-4 h-4 ml-2 opacity-50"})]})}),a.jsx(d,{children:a.jsxs(c,{children:[a.jsx(p,{placeholder:"Cari Kelompok...",className:"h-9"}),a.jsx(j,{children:"Data kelompok tidak ada."}),a.jsx(h,{children:a.jsxs(k,{className:"h-[calc(50vh-64px)]",children:[J.length>0?J.map(((s,e)=>a.jsxs(x,{value:JSON.stringify(s.id),onSelect:a=>{L(a===D?"":a),R(!1)},children:[s.no_kelompok,"-",s.nama_kelompok,a.jsx(C,{className:K("ml-auto h-4 w-4",D===JSON.stringify(s.id)?"opacity-100":"opacity-0")})]},e))):null,a.jsx(f,{orientation:"vertical"})]})})]})})]})]}),a.jsxs("div",{className:"grow w-full",children:[a.jsx(g,{className:"ml-[1px]",children:"Status Pengumpulan"}),a.jsxs(N,{onValueChange:a=>{B(a)},defaultValue:z,children:[a.jsx(w,{className:"w-full font-bold",children:a.jsx(b,{placeholder:"Pilih status pengumpulan"})}),a.jsx(v,{children:a.jsxs(_,{children:[a.jsx(T,{children:"Status Pengumpulan"}),a.jsx(S,{value:"1",children:"Sudah Mengumpulkan"}),a.jsx(S,{value:"2",children:"Telat Mengumpulkan"}),a.jsx(S,{value:"3",children:"Dikembalikan"}),a.jsx(S,{value:"4",children:"Belum Mengumpulkan"})]})})]})]})]}),a.jsx(P,{tugas_id:V,no_kelompok:parseInt(D),status:parseInt(z)})]}),a.jsx(A,{})]})}export{D as default};
