import{j as e,r as l}from"./lvICBb6_.js";import{N as a,M as s}from"./BR4NU20F.js";import{R as o}from"./BFu1_Eq-.js";import{u as t}from"./BdZJMAOE.js";import{l as r}from"./De0WodCH.js";import{c as n}from"./cODHpOt1.js";import{C as i}from"./B2udgETH.js";import"./Cx20bxnd.js";import"./Cj-lo_2M.js";import"./CYM4Nae5.js";import"./Cvaz1s_Q.js";import"./DJpOiGya.js";import"./DkXlYbmo.js";import"./z08mKKfS.js";const d={gold:"linear-gradient(to right, #FBDA3D, #FEF39A, #FBDB41, #FCDA3A, #FFF19F, #E4C242)",silver:"linear-gradient(to right, #B0B2BA, #F4F5F7, #BEC1CA, #F4F5F7, #BEC1CA)",bronze:"linear-gradient(to right, #632801, #B3773B, #7D3819, #B3773B, #7D3819)"};function c({children:l,className:a,color:s,maxHeightPx:o}){return e.jsx("div",{className:"overflow-clip flex flex-col w-full rounded-t-lg shadow-inner",children:e.jsx("div",{style:{background:d[s],height:`${o}px`},className:`${a}`,children:e.jsx("div",{className:"place-content-center grid w-full h-full","data-aos":"zoom-in","data-aos-duration":"1000",children:l})})})}function m({kelompok:a,rank:s,className:o,podiumHeight:i,score:d}){t();const[m,x]=l.useState(!1);return l.useEffect((()=>{setTimeout((()=>{x(!0)}),100)}),[]),e.jsxs("div",{style:{transform:m?"translateY(0)":`translateY(${i}px)`},className:`flex flex-col items-center gap-3 ${o} transition-all duration-1000`,children:[e.jsx("div",{className:"grow"}),a&&e.jsxs("div",{className:"md:w-24 md:h-24 relative w-20 h-20 rounded-full shadow-lg",children:[1==s?e.jsx("div",{className:"left-1/2 absolute z-10 w-12 h-12 -translate-x-1/2 -translate-y-1/2",children:e.jsx("img",{"data-aos":"zoom-in","data-aos-duration":"700","data-aos-delay":"300",src:n,alt:"crown",className:""})}):null,e.jsx("img",{src:a.logo_kelompok?a.logo_kelompok:r,alt:a.nama_kelompok,className:"z-0 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full w-full h-full object-contain object-center"})]}),a&&e.jsx("div",{className:"text-lg font-bold",children:a.nama_kelompok}),e.jsxs("p",{className:"bg-gray-400/50 md:px-2 px-0 text-sm rounded-full",children:[a&&e.jsx("span",{className:"font-bold",children:d})," Point"]}),{1:e.jsx(c,{color:"gold",maxHeightPx:i,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})}),2:e.jsx(c,{color:"silver",maxHeightPx:i,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})}),3:e.jsx(c,{color:"bronze",maxHeightPx:i,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})})}[s]]})}function x(){var n,d,c,x,f,u,h,p,j;t();const[k,g]=l.useState([]),[N,b]=l.useState(null),[w,v]=l.useState(!0),y=async()=>{try{const e=await fetch(route("scoreboard.top-score"),{method:"GET"}),l=await e.json();g(Array.isArray(l)?l:[])}catch(e){console.error("Gagal fetch top score:",e),g([])}},F=async()=>{try{const e=await fetch(route("scoreboard.kelompok"),{method:"GET"}),l=await e.json();b(l??null)}catch(e){console.error("Gagal fetch kelompok score:",e),b(null)}};return l.useEffect((()=>{Promise.all([y(),F()]).finally((()=>v(!1)))}),[]),e.jsxs(e.Fragment,{children:[e.jsx(a,{isFixed:!0}),e.jsx("div",{className:"h-screen relative min-h-[40vh] bg-mobile-hero-background bg-cover bg-bottom md:min-h-screen md:bg-desktop-hero-background lg:bg-desktop-hero-background",children:e.jsxs(s,{className:"md:justify-center flex flex-col items-center justify-center min-h-screen",children:[e.jsx("h1",{className:"text-jaffa-100 font-fesbud md:text-[48px] text-[20px] md:leading-none md:items-start flex flex-col items-center justify-center mt-8",children:"Leaderboard Kelompok"}),e.jsxs("div",{className:"md:max-w-2xl w-full max-w-sm mx-auto",children:[w?e.jsx(o,{className:"w-full h-full my-16 text-center text-white"}):k.length>=3?e.jsxs("div",{className:"sm:gap-4 md:max-w-2xl lg:gap-8 flex justify-center w-full max-w-lg gap-2 pt-4 overflow-y-hidden text-center",children:[e.jsx(m,{kelompok:null==(n=k[1])?void 0:n.kelompok,score:(null==(d=k[1])?void 0:d.total_score)??0,rank:2,podiumHeight:160,className:"w-full text-white"}),e.jsx(m,{kelompok:null==(c=k[0])?void 0:c.kelompok,score:(null==(x=k[0])?void 0:x.total_score)??0,rank:1,podiumHeight:196,className:"w-full text-white"}),e.jsx(m,{kelompok:null==(f=k[2])?void 0:f.kelompok,score:(null==(u=k[2])?void 0:u.total_score)??0,rank:3,podiumHeight:144,className:"w-full text-white"})]}):e.jsx("p",{className:"text-center text-white my-8",children:"Data belum tersedia"}),e.jsx("div",{className:"bg-moccaccino-700 w-full h-1"})]})]})}),e.jsxs("div",{className:"bg-pattern-white md:py-24 relative w-full h-full py-10 overflow-hidden border",children:[e.jsx("div",{"data-aos":"fade-up","data-aos-duration":"1000",className:"flex flex-col w-full h-full text-center",children:e.jsxs("div",{className:"z-10 py-5",children:[e.jsx("h1",{className:"font-greek text-[20px] z-10",children:"Top 10 Kelompok PPLK"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:0===k.length?null:e.jsx(i,{className:"w-full mt-8 bg-transparent border-none",children:e.jsx("ul",{className:"flex flex-col gap-2",children:k.map(((l,a)=>{var s,o,t;return e.jsx(i,{className:"bg-jaffa-50 border-jaffa-300 border rounded-lg",children:e.jsxs("li",{className:"flex items-center justify-between w-full px-4 py-1","data-aos":"fade-left","data-aos-duration":200*(a+1),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-jaffa-400 text-xl font-bold",children:["#",a+1]}),e.jsx("img",{src:(null==(s=l.kelompok)?void 0:s.logo_kelompok)?l.kelompok.logo_kelompok:r,alt:(null==(o=l.kelompok)?void 0:o.nama_kelompok)??"Kelompok",className:"w-16 h-16 rounded-full"}),e.jsx("h2",{className:"font-bold",children:(null==(t=l.kelompok)?void 0:t.nama_kelompok)??"Tidak diketahui"})]}),e.jsxs("p",{className:"bg-jaffa-400 px-2 py-1 font-bold text-white rounded-full",children:[l.total_score," pts"]})]})},a)}))})})})]})}),N&&N.position>10&&e.jsx(i,{className:"bg-jaffa-300 border-jaffa-600 sticky bottom-0 flex justify-between max-w-2xl mx-auto border rounded-lg",children:e.jsxs("li",{className:"flex items-center justify-between w-full px-4 py-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-jaffa-50 text-xl font-bold",children:["#",null==N?void 0:N.position]}),e.jsx("img",{src:(null==(h=null==N?void 0:N.kelompok)?void 0:h.logo_kelompok)??r,alt:(null==(p=null==N?void 0:N.kelompok)?void 0:p.nama_kelompok)??"Kelompok",className:"w-16 h-16 rounded-full"}),e.jsx("h2",{className:"text-jaffa-50 font-bold",children:(null==(j=null==N?void 0:N.kelompok)?void 0:j.nama_kelompok)??"Tidak diketahui"})]}),e.jsxs("p",{className:"bg-jaffa-400 px-2 py-1 font-bold text-white rounded-full",children:[null==N?void 0:N.total_score," pts"]})]})})]})]})}export{x as default};
