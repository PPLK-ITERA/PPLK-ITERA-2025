{"version":3,"file":"Cu2JaRco.js","sources":["../../../resources/js/Components/dashboard/mading/DetailTugasUser.tsx","../../../resources/js/Pages/Dashboard/mading/user/Page.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\n\nimport { Link, useForm } from \"@inertiajs/react\";\n\nimport { Button } from \"@/Components/ui/button\";\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/Components/ui/dialog\";\nimport { Label } from \"@/Components/ui/label\";\nimport { ScrollArea, ScrollBar } from \"@/Components/ui/scroll-area\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/Components/ui/table\";\nimport { Textarea } from \"@/Components/ui/textarea\";\n\ninterface TaskSubmission {\n  id: number;\n  user_id: number;\n  tugas_id: number;\n  jawaban: string;\n  nama: string;\n  isReturn: number;\n  tanggal_submit: string;\n  nama_tugas: string;\n  catatan: string | null;\n}\n\n// Optionally, you can use an array type for multiple submissions\ntype TaskSubmissions = TaskSubmission[];\n\ninterface TugasKelompokProps {\n  id: number;\n}\n\nconst DetailTugasUser: FC<TugasKelompokProps> = ({ id }) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [tugas, setTugas] = useState<TaskSubmissions>([]);\n  const [nama, setNama] = useState<string>(\"\");\n\n  const getTugasUser = async () => {\n    setLoading(true);\n\n    const response = await fetch(route(\"dashboard.tugas.data.user\", id), {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch data\");\n    }\n\n    const data = await response.json();\n\n    setTugas(data.response.data);\n    setNama(data.nama);\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getTugasUser();\n  }, []);\n\n  const { data, setData, put } = useForm({\n    id: 0,\n    catatan: \"\",\n    _method: \"put\",\n  });\n\n  const handleKembalikanTugas = () => {\n    put(route(\"dashboard.tugas.return\"));\n  };\n\n  return (\n    <>\n      <h2 className=\"text-3xl font-bold tracking-tight\">Detail Tugas {nama}</h2>\n\n      <ScrollArea className=\"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md\">\n        <Table className=\"relative border\">\n          <TableHeader>\n            <TableRow className=\"hover:bg-current bg-current\">\n              <TableHead className=\"w-[50px] text-white\">No</TableHead>\n              <TableHead className=\"text-white w-[200px]\">Nama Tugas</TableHead>\n              <TableHead className=\"text-white w-[400px]\">Link</TableHead>\n              <TableHead className=\"text-white\">Status Pengembalian</TableHead>\n              <TableHead className=\"text-white\">Aksi</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody className=\"min-h-28 relative\">\n            {loading ? (\n              <TableRow>\n                <TableCell colSpan={4} className=\"text-center\">\n                  Loading...\n                </TableCell>\n              </TableRow>\n            ) : (\n              <>\n                {tugas.map((tugas, index) => (\n                  <TableRow key={index}>\n                    <TableCell className=\"font-medium\">{index + 1}</TableCell>\n                    <TableCell>\n                      <p className=\"line-clamp-1\">{tugas.nama_tugas}</p>\n                    </TableCell>\n                    <TableCell>\n                      <a\n                        className=\"line-clamp-1 text-wrap\"\n                        href={tugas.jawaban}\n                        target=\"_blank\"\n                      >\n                        {tugas.jawaban}\n                      </a>\n                    </TableCell>\n                    <TableCell>\n                      {tugas.isReturn ? \"Dikembalikan\" : \"Diterima\"}\n                    </TableCell>\n                    <TableCell className=\"flex gap-1\">\n                      <a href={tugas.jawaban} target=\"_blank\">\n                        <Button size=\"sm\">Lihat Tugas</Button>\n                      </a>\n\n                      <Dialog>\n                        {tugas.isReturn ? null : (\n                          <DialogTrigger asChild>\n                            <Button\n                              className=\"gap-2\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setData(\"id\", tugas.id)}\n                            >\n                              Kembalikan Tugas\n                            </Button>\n                          </DialogTrigger>\n                        )}\n\n                        <DialogContent className=\"sm:max-w-[425px]\">\n                          <DialogHeader>\n                            <DialogTitle>Kembalikan Tugas</DialogTitle>\n                            <DialogDescription>\n                              Kembalikan tugas yang sudah dikerjakan oleh\n                              mahasiswa ini agar diperbaiki\n                            </DialogDescription>\n                          </DialogHeader>\n\n                          <div className=\"grid gap-4 py-4\">\n                            <div className=\"flex flex-col\">\n                              <Label htmlFor=\"catatan\" className=\"text-left\">\n                                Catatan\n                              </Label>\n\n                              <Textarea\n                                id=\"catatan\"\n                                onChange={(e) =>\n                                  setData(\"catatan\", e.target.value)\n                                }\n                                placeholder=\"Berikan catatan pengembalian tugas\"\n                                className=\"mt-1\"\n                              />\n                            </div>\n                          </div>\n                          <DialogFooter>\n                            <DialogClose asChild>\n                              <Button variant=\"outline\">Batalkan</Button>\n                            </DialogClose>\n\n                            <DialogClose asChild>\n                              <Button onClick={handleKembalikanTugas}>\n                                Lanjutkan\n                              </Button>\n                            </DialogClose>\n                          </DialogFooter>\n                        </DialogContent>\n                      </Dialog>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </>\n            )}\n          </TableBody>\n        </Table>\n        <ScrollBar orientation=\"horizontal\" />\n      </ScrollArea>\n    </>\n  );\n};\n\nexport default DetailTugasUser;\n","import { PageProps } from \"vendor/laravel/breeze/stubs/inertia-react-ts/resources/js/types\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { usePage } from \"@inertiajs/react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\n\nimport CoverMading from \"@/Components/dashboard/mading/CoverMading\";\nimport DetailTugasUser from \"@/Components/dashboard/mading/DetailTugasUser\";\nimport TugasKelompok from \"@/Components/dashboard/mading/TugasKelompok\";\nimport { MadingClient } from \"@/Components/tables/mading/client\";\nimport { Breadcrumbs } from \"@/Components/ui/breadcrumbs\";\nimport { Button } from \"@/Components/ui/button\";\nimport { Toaster } from \"@/Components/ui/toaster\";\nimport { useToast } from \"@/Components/ui/use-toast\";\n\nconst breadcrumbItems = [\n  { title: \"Ellysion Panel\", link: \"/dashboard\" },\n  { title: \"Mading\", link: \"/dashboard/mading\" },\n  { title: \"Detail Tugas\", link: \"/dashboard/mading/user\" },\n];\n\ninterface flashresponse extends PageProps {\n  flash: {\n    response: {\n      status: number;\n      message: string;\n    };\n  };\n}\n\nexport default function Page({ auth, id }) {\n  const { toast } = useToast();\n  const { flash } = usePage<flashresponse>().props;\n\n  useEffect(() => {\n    if (flash.response) {\n      if (flash.response.status === 200) {\n        toast({\n          title: \"Berhasil\",\n          description: flash.response.message,\n          variant: \"default\",\n        });\n      } else {\n        toast({\n          title: \"Gagal\",\n          description: flash.response.message,\n          variant: \"destructive\",\n        });\n      }\n\n      window.location.reload();\n    }\n  }, [flash, toast]);\n\n  return (\n    <>\n      <DashboardLayout user={auth.user}>\n        <Breadcrumbs items={breadcrumbItems} />\n\n        <DetailTugasUser id={id} />\n      </DashboardLayout>\n\n      <Toaster />\n    </>\n  );\n}\n"],"names":["DetailTugasUser","id","loading","setLoading","useState","tugas","setTugas","nama","setNama","useEffect","async","response","fetch","route","method","headers","Accept","ok","Error","data","json","getTugasUser","setData","put","useForm","catatan","_method","handleKembalikanTugas","jsxs","Fragment","children","className","ScrollArea","Table","jsx","TableHeader","TableRow","TableHead","TableBody","TableCell","colSpan","map","index","nama_tugas","href","jawaban","target","isReturn","Button","size","Dialog","DialogTrigger","asChild","variant","onClick","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","htmlFor","Textarea","onChange","e","value","placeholder","DialogFooter","DialogClose","ScrollBar","orientation","breadcrumbItems","title","link","Page","auth","toast","useToast","flash","usePage","props","status","description","message","window","location","reload","DashboardLayout","user","Breadcrumbs","items","Toaster"],"mappings":"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"}