import{j as e,e as s,q as r,r as a,W as i}from"./CULJX-LD.js";import{B as l}from"./DGYI0nOo.js";import{D as t}from"./srWRE0_7.js";import{L as d}from"./huhotVTT.js";import{B as n}from"./DbtZxEEj.js";import{D as o,f as c,a as m,b as x,c as h,d as u,g as j}from"./Cb-_a1GR.js";import{I as p}from"./CGEZNtBe.js";import{T as g}from"./Am2bELij.js";import{I as k}from"./ekQKm3gq.js";import"./B8fFxIsl.js";import"./BazlAVUM.js";import"./DFwIZlGs.js";import"./Cd1KtWgy.js";import"./Do30OntR.js";import"./3pMHw_2Z.js";import"./BYWBB09O.js";import"./JZVQJDgZ.js";import"./Ciw0daNj.js";import"./CUgZZUVH.js";import"./C0u18CNn.js";import"./uSVsvbP2.js";function f({data:r,foto:a,user:i}){return e.jsxs("div",{className:"lg:m-0 m-2 font-inter bg-gray-200 rounded-lg",children:[e.jsxs("div",{className:"bg-white rounded-lg",children:[e.jsx("div",{className:"p-3 bg-[#e58025] rounded-t-lg",children:e.jsxs(d,{htmlFor:"nama-maba",className:"text-left text-white font-bold",children:["Hari Ke-",r.hari_ke]})}),e.jsxs("div",{className:"p-3 min-h-[220]",children:[e.jsx("p",{className:"my-2 font-bold",children:r.judul}),e.jsx("p",{className:"my-2",children:r.deskripsi}),void 0!==a[r.hari_ke]?e.jsxs("p",{className:"mt-[2] text-sm text-gray-500",children:[a[r.hari_ke]," foto"]}):e.jsx("br",{className:"leading-3"}),e.jsx("p",{className:"text-sm text-blue-500",children:e.jsx("a",{href:"data.link_gdrive",children:"Link Google Drive"})}),e.jsx("div",{className:"flex my-2 w-[50px] h-[50px] border border-[#C2C2C2] rounded-lg overflow-hidden",children:e.jsx("img",{src:r.link_gdrive,className:"w-full h-full bg-center bg-cover"})})]})]}),3===i.role_id?e.jsxs("div",{className:"px-3 py-1 flex",children:[e.jsx("a",{href:`dokumentasi/${r.id}`,className:"text-sky-600 border border-current p-1 flex-1 text-center rounded-sm",children:"Detail"}),e.jsx("a",{href:`dokumentasi/${r.id}/edit`,className:"text-yellow-400 border border-current p-1 flex-1 text-center rounded-sm",children:"Edit"}),e.jsx("a",{onClick:async()=>{if(confirm("Yakin ingin menghapus data?")){try{await s.delete(`/dashboard/dokumentasi/${r.id}`)}catch(e){console.error("Gagal menghapus:",e)}window.location.reload()}},className:"text-destructive border border-current p-1 flex-1 text-center rounded-sm",children:"hapus"})]}):e.jsx("div",{className:"px-3 py-1",children:e.jsx("a",{href:`dokumentasi/view/${r.id}`,className:"text-sky-600 border border-current p-1 text-center rounded-sm",children:"Detail"})})]})}const b=[{title:"Ellysion Panel",link:"/dashboard"},{title:"dokumentasi",link:"/dashboard/dokumentasi"}];function N({auth:s,dokumentasi:N,foto_dokumentasi:v}){const{props:y}=r(),[_,w]=a.useState({message:null,type:null}),[D,C]=a.useState(!1);a.useEffect((()=>{if(y.success?w({message:y.success,type:"success"}):y.error&&w({message:y.error,type:"error"}),y.success||y.error){const e=setTimeout((()=>{w({message:null,type:null})}),5e3);return()=>clearTimeout(e)}}),[y.success,y.error]);const{data:T,setData:F,post:$,processing:B,errors:E}=i({hari_ke:1,judul:"",deskripsi:"",link_gdrive:""});return e.jsx(e.Fragment,{children:e.jsxs(t,{user:s.user,children:[e.jsx(l,{items:b}),e.jsx("h2",{className:"text-3xl font-inter font-bold tracking-tight",children:"Dokumentasi Kegiatan"}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(n,{className:"gap-2",children:[e.jsx(k,{size:20,className:"-ml-2"})," Tambah Dokumentasi"]})}),e.jsxs(m,{className:"font-inter sm:max-w-[425px]",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Tambah Dokumentasi"}),e.jsx(u,{children:"Tambahkan dokumentasi kegiatan berdasarkan hari."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(d,{htmlFor:"hari_ke",className:"text-left",children:"Hari Ke"}),e.jsx(p,{id:"hari_ke",type:"number",value:T.hari_ke,onChange:e=>F("hari_ke",Number(e.target.value)),placeholder:"Contoh: 1",className:"mt-1",min:"0"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(d,{htmlFor:"judul",className:"text-left",children:"Judul"}),e.jsx(p,{id:"judul",value:T.judul,onChange:e=>F("judul",e.target.value),placeholder:"Judul dokumentasi",className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(d,{htmlFor:"deskripsi",className:"text-left",children:"Deskripsi"}),e.jsx(g,{id:"deskripsi",value:T.deskripsi,onChange:e=>F("deskripsi",e.target.value),placeholder:"Deskripsi kegiatan secara rinci",className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(d,{htmlFor:"link_gdrive",className:"text-left",children:"Link Google Drive"}),e.jsx(p,{id:"link_gdrive",type:"url",value:T.link_gdrive,onChange:e=>F("link_gdrive",e.target.value),placeholder:"https://drive.google.com/...",className:"mt-1"})]})]}),e.jsxs(j,{children:[e.jsx(n,{variant:"outline",children:"Batalkan"}),e.jsx(n,{type:"submit",onClick:()=>{$(route("dashboard.dokumentasi.store")),window.location.reload()},disabled:B,children:"Tambah"})]}),B&&e.jsx("p",{children:"Mengirim data..."}),E&&e.jsx("ul",{className:"text-red-500 text-sm mt-2",children:Object.keys(E).map((s=>e.jsx("li",{children:E[s]},s)))})]})]}),e.jsx("div",{className:"lg:grid-cols-3 grid grid-cols-1 gap-4",children:N.map(((r,a)=>e.jsx(f,{data:r,foto:v,user:s.user})))}),_.message&&e.jsx("div",{className:`\n              absolute top-5 right-5 z-50 px-4 py-3 rounded\n              ${"success"===_.type?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}\n            `,children:e.jsx("span",{className:"block sm:inline",children:_.message})})]})})}export{N as default};
