import{r as e,j as s,y as a}from"./Lul_5bI4.js";import{c as t}from"./DO1OtrKE.js";import{B as i}from"./CJFDvaqA.js";import{C as l,b as r,c as n,a as c}from"./CKnbt16D.js";import{I as d}from"./Bu9n_LpU.js";import"./BiZWUTU3.js";function o({response:o}){const[x,h]=e.useState(""),[m,j]=e.useState(null),[u,f]=e.useState(""),[p,b]=e.useState(!1),g=t((e=>{(async e=>{b(!0),await fetch(route("dashboard.cui.detail",{nim:e})).then((e=>{if(e.ok)return e.json();e.json().then((e=>{h(e.message),j(null)}))})).then((e=>{h(""),j(e.data)})).finally((()=>{b(!1)}))})(e)}),500);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(l,{className:"",children:[s.jsx(r,{className:"flex flex-row items-center justify-between w-full pb-2 space-y-0",children:s.jsx(n,{className:"w-full text-lg font-bold text-center",children:"Absensi CUI Maba"})}),s.jsx(c,{className:"flex items-center justify-center mt-2",children:s.jsx(i,{onClick:()=>a.get(route("dashboard.cui.absensi")),children:"Mulai Absen Maba"})})]}),s.jsx(d,{disabled:p,value:u,onChange:e=>{f(e.target.value),g(e.target.value)},placeholder:"Cari mahasiswa berdasarkan NIM. cth: "}),x&&s.jsx("p",{className:"font-bold text-red-600",children:x}),m&&s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-bold text-green-500",children:m.message}),s.jsxs("div",{className:"flex w-full gap-5 mt-3",children:[s.jsxs("div",{children:[s.jsx("img",{className:"w-48 h-64 mb-2 bg-cover rounded-lg",src:m.profil_url,alt:"Foto profil"}),"hijau"===m.pita&&s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-green-500",children:"Pita Hijau"}),"kuning"===m.pita&&s.jsxs("div",{children:[s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-yellow-400",children:"Pita Kuning"}),s.jsxs("p",{children:["Riwayat penyakit: ",m.riwayat]})]}),"merah"===m.pita&&s.jsxs("div",{children:[s.jsx("div",{className:"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-red-600",children:"Pita Merah"}),s.jsxs("p",{children:["Riwayat penyakit: ",m.riwayat]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"ring-1 ring-black/30 rounded-xl  p-2 text-xl",children:[s.jsx("p",{className:"font-bold",children:m.nama}),s.jsx("p",{children:m.prodi}),s.jsx("p",{children:m.nim})]}),s.jsx(i,{onClick:()=>{return e=m.qr_code,void a.post(route("cui.scan"),{qr_code:e});var e},className:"w-full mt-2",children:"Presensi"})]})]})]})]})}export{o as default};
