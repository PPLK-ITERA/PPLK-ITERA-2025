import{W as e,r as s,R as a,j as i,y as l}from"./BY-GGcvP.js";import{D as t}from"./ChL44kMr.js";import{B as r}from"./CCN3ZvQB.js";import{B as n}from"./f1uPbqpn.js";import{I as o}from"./CtFxohYU.js";import{S as d}from"./DMx1I8r_.js";import{T as c}from"./B6B-TmYA.js";import{u as m}from"./CRjfKT3B.js";import{b as u}from"./CO0I9pYX.js";import{A as p}from"./BA7cq96m.js";import{f as x}from"./BfnuuwF0.js";import"./CNyTlPDr.js";import"./BtYB3mo9.js";import"./CiCbmGtf.js";import"./Sc4NIWF5.js";import"./Dja-iDAc.js";import"./C2eNwYJO.js";import"./SqnfmvaP.js";import"./d3ujqimi.js";import"./3-sYBDTW.js";import"./C0u18CNn.js";import"./D_AcAKQ4.js";const j=[{title:"Dashboard",link:"/dashboard"},{title:"CUI",link:"/dashboard/cui"},{title:"Izin",link:"/dashboard/cui/izin"}];function f({value:e,label:s}){return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"outline outline-1 px-2 py-1 rounded-full",children:s}),i.jsx("p",{className:"outline outline-1 px-2 py-1 rounded-full",children:e})]})}function h({value:e,label:s}){return i.jsxs("div",{className:" flex items-center gap-2",children:[i.jsx("div",{className:"outline outline-1 outline-black/30 w-40 px-2 py-1 font-medium bg-gray-200 rounded-md",children:s}),e?x(e,"dd/MM/yyyy HH:mm"):"-"]})}function g({pita:e,riwayat:s}){return i.jsxs(i.Fragment,{children:["hijau"===e?i.jsx("div",{className:"flex items-center justify-center p-2 bg-green-500 rounded-lg",children:i.jsx("p",{className:"text-lg font-bold text-white",children:"Pita Hijau"})}):"kuning"===e?i.jsx("div",{className:"flex items-center justify-center p-2 bg-yellow-500 rounded-lg",children:i.jsx("p",{className:"text-lg font-bold text-white",children:"Pita Kuning"})}):i.jsx("div",{className:"flex items-center justify-center p-2 bg-red-500 rounded-lg",children:i.jsx("p",{className:"text-lg font-bold text-white",children:"Pita Merah"})})," ",i.jsxs("div",{className:" flex items-center gap-2",children:[i.jsx("div",{className:"outline outline-1 outline-black/30 w-40 px-2 py-1 font-medium bg-gray-200 rounded-md",children:"Riwayat Penyakit"}),s]})]})}function b({auth:x,data:b,flash:v}){const{data:N,setData:k,post:y,patch:w,processing:_}=e({ket_izin:""}),{toast:z}=m(),[I,P]=s.useState(null);a.useEffect((()=>{v.response&&(200===v.response.status?z({title:"Berhasil",description:v.response.message,variant:"default"}):z({title:"Gagal",description:v.response.message,variant:"destructive"}),k("ket_izin",""))}),[v,z]),s.useEffect((()=>{(async()=>{const e=b.photo_profile_url,s=await u(e,"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png");P(s)})()}),[]);return i.jsxs(i.Fragment,{children:[i.jsxs(t,{user:x.user,children:[i.jsx("div",{className:"flex items-center justify-between space-y-2",children:i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Izin Peserta CUI"})}),i.jsx(r,{items:j}),i.jsx(d,{}),i.jsxs(n,{variant:"outline",onClick:()=>l.replace(route("dashboard.cui")),children:[i.jsx(p,{className:"mr-2"})," Kembali"]}),i.jsxs("div",{className:"md:flex-row md:items-start flex flex-col items-center justify-center gap-4",children:[i.jsx("img",{className:"h-96 drop-shadow-lg object-cover w-64 rounded-lg",src:I??"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"Foto Profil"}),i.jsxs("div",{className:"outline outline-1 outline-black/30 flex flex-col w-full gap-2 p-2 ml-3 rounded-md",children:[i.jsx("p",{className:"text-lg font-bold",children:"Deskripsi"}),i.jsx(f,{value:b.nama,label:"Nama"}),i.jsx(f,{value:b.nim,label:"NIM"}),i.jsx(f,{value:b.prodi,label:"Prodi"}),i.jsx(d,{}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-lg font-bold",children:"Status"}),i.jsx("p",{className:"outline bg-slate-200 outline-black/30 outline-1 px-2 font-medium uppercase rounded-md",children:b.status})]}),i.jsx(g,{pita:b.pita,riwayat:b.riwayat}),i.jsx(h,{label:"Waktu Hadir",value:b.waktu_hadir}),i.jsx(h,{label:"Waktu Izin",value:b.waktu_izin}),i.jsx(h,{label:"Waktu Selesai Izin",value:b.selesai_izin})]}),i.jsxs("div",{className:"outline outline-1 outline-black/30 flex flex-col w-full gap-2 p-2 ml-3 rounded-md",children:[i.jsx("p",{className:"text-lg font-bold",children:"Atur Izin"}),i.jsx(d,{}),"hadir"===b.status?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(o,{onChange:e=>k("ket_izin",e.target.value),value:N.ket_izin,placeholder:"Keterangan"}),i.jsx(n,{className:"w-full",disabled:_,onClick:()=>{y(route("cui.izin",b.qr_code))},children:"Submit"})]}):i.jsxs("div",{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Keterangan izin"}),i.jsx("br",{}),b.ket_izin]}),i.jsx(d,{className:"my-3"}),i.jsx(n,{className:"w-full",disabled:_,onClick:()=>{w(route("cui.destroy",b.qr_code))},children:"Cabut Izin"})]})]})]})]}),i.jsx(c,{})]})}export{b as default};
