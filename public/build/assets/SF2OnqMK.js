import{r as e,W as s,j as r}from"./Bz8SZWRk.js";import{J as a,Q as t}from"./Q-321_MP.js";import{D as n}from"./BSF3yEzK.js";import{a as o}from"./7zfTZwMn.js";import{B as i}from"./Cj141LS1.js";import{B as l}from"./B0Reicd2.js";import"./DntUL_3w.js";import"./5epn7TdO.js";import"./BPBzuKzv.js";import"./BreUAuRd.js";import"./bKzaXQS6.js";import"./DqPY_V92.js";import"./ySNKc6ss.js";import"./Dw0DIQYb.js";import"./D0R_arE2.js";import"./7ap_y-tI.js";import"./BZtDV8eV.js";import"./Z0_-Rs0v.js";import"./Cx7QGBnS.js";function d({userId:a}){const[t,n]=e.useState(!1),{data:l,setData:d}=s({code:"",qrUrl:""});return r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Gunakan fitur ini untuk generate QR kelompok anda untuk di scan oleh ",r.jsx("span",{className:"font-bold",children:"Korlap"})]}),r.jsx("div",{className:"w-fit p-2 text-white bg-green-600 rounded-md",children:r.jsx("p",{children:"Score Kelompok : 800"})}),r.jsxs("div",{className:"flex flex-col items-center w-full gap-10",children:[r.jsxs("div",{className:"w-fit",children:[r.jsxs("p",{className:"text-center",children:["Tunjukkan QR Code ini ke"," ",r.jsx("span",{className:"font-bold",children:"Korlap"})]}),r.jsx("div",{className:"aspect-square bg-white border flex justify-center items-center mt-5 w-[300px] h-[300px] rounded-md",children:""===l.qrUrl?null:t?r.jsx("p",{children:"Loading..."}):r.jsx(o,{value:l.code,size:256,includeMargin:!1})})]}),r.jsx(i,{onClick:()=>{(async()=>{n(!0);const e=await fetch(route("dashboard.poin.qrcode",a)),s=await e.json();d(s.data),n(!1)})()},children:"Generate QR Kelompok"})]})]})}const c=[{title:"Dashboard",link:"/dashboard"},{title:"Game Offline",link:"/dashboard/game-offline"}];function m({auth:o,response:m}){const{data:p,setData:u,post:j,processing:f}=s({qr_code:""}),[x,h]=e.useState(!1);return e.useEffect((()=>{p.qr_code&&j(route("poin.store"))}),[p.qr_code]),r.jsxs(n,{user:o.user,children:[r.jsx(l,{items:c}),r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Game Offline"}),2===o.user.role_id||3===o.user.role_id||4===o.user.role_id?r.jsx(r.Fragment,{children:r.jsx(d,{userId:o.user.id})}):null,6===o.user.role_id?r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Gunakan fitur ini untuk scan QR kelompok dari"," ",r.jsx("span",{className:"font-bold",children:"Dapmen"})," yang menang pada game offline"]}),r.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[r.jsx("div",{className:"md:w-96 border",children:r.jsx(a,{onScan:function(e){var s,r;(r=(null==(s=e.at(-1))?void 0:s.rawValue)||"")&&u("qr_code",r)},components:{finder:!0,tracker:t,zoom:!0,torch:!0},allowMultiple:!0,scanDelay:2e3,paused:x,styles:{container:{width:"100%"}}})}),r.jsx(i,{className:"mt-5",children:"Scan QR Kelompok"})]})]}):null]})}export{m as default};
