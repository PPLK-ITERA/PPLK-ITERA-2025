{"version":3,"file":"CA94wh4p.js","sources":["../../../resources/js/Pages/Tesla/Page.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { TeslaSoal, TeslaFeedback } from \"@/lib/types/Tesla\";\nimport Navbar from \"@/Components/Navbar\";\nimport { Card } from \"@/Components/ui/card\";\nimport MaxWidthWrapper from \"@/Components/MaxWidthWrapper\";\n\nconst TeslaPage: React.FC = () => {\n    const [soals, setSoals] = useState<TeslaSoal[]>([]);\n    const [jawaban, setJawaban] = useState<{ [key: number]: string }>({});\n    const [feedback, setFeedback] = useState<{ [nomor: number]: TeslaFeedback }>({});\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchSoals = async () => {\n            setLoading(true);\n            const res = await fetch(\"/api/get-tesla\");\n            const data = await res.json();\n            setSoals(data.data || []);\n            setLoading(false);\n        };\n        fetchSoals();\n    }, []);\n\n    const handleChange = (nomor: number, value: string) => {\n        setJawaban(prev => ({ ...prev, [nomor]: value }));\n    };\n\n    const handleSubmit = async (nomor: number) => {\n        try {\n            const trimmedJawaban = (jawaban[nomor] || \"\").trim();\n            const res = await fetch(`/api/tesla/jawab/${nomor}`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-Requested-With\": \"XMLHttpRequest\",\n                    \"X-CSRF-TOKEN\": (document.querySelector('meta[name=\"csrf-token\"]') as HTMLMetaElement)?.content || \"\",\n                },\n                body: JSON.stringify({\n                    jawaban: trimmedJawaban\n                }),\n            });\n            const data = await res.json();\n            setFeedback(prev => ({\n                ...prev,\n                [nomor]: {\n                    message: data?.message || \"Jawaban dikirim!\",\n                    hasil: data?.hasil || \"\",\n                    jawaban_user: trimmedJawaban\n                }\n            }));\n        } catch (err) {\n            setFeedback(prev => ({\n                ...prev,\n                [nomor]: {\n                    message: \"Terjadi kesalahan.\",\n                    hasil: \"error\"\n                }\n            }));\n        }\n    };\n\n    // Pisahkan soal mendatar dan menurun\n    const mendatar = soals.filter(s => s.tipe === \"mendatar\");\n    const menurun = soals.filter(s => s.tipe === \"menurun\");\n\n    return (\n        <>\n            <Navbar isFixed={true} />\n            <MaxWidthWrapper className=\"flex flex-col items-center justify-center min-h-screen py-8 mt-20\">\n                <h2 className=\"text-3xl font-bold mb-6 text-center text-jaffa-700\">TTS Tesla</h2>\n                {loading ? (\n                    <div className=\"text-center py-8\">Memuat soal...</div>\n                ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-4xl\">\n                    <Card className=\"p-6 bg-white shadow-md border\">\n                        <h3 className=\"text-xl font-semibold mb-4 text-jaffa-600\">Mendatar</h3>\n                        <div className=\"flex flex-col gap-4\">\n                            {mendatar.map(soal => (\n                                <div key={soal.nomor} className=\"flex flex-col md:flex-row md:items-center gap-2\">\n                                    <span className=\"font-bold text-jaffa-500\">{soal.nomor}.</span>\n                                    <span className=\"flex-1\">{soal.pertanyaan}</span>\n                                    {/* Tidak tampilkan jawaban di sini */}\n                                    <input\n                                        className=\"border rounded px-2 py-1\"\n                                        type=\"text\"\n                                        value={jawaban[soal.nomor] || \"\"}\n                                        onChange={e => handleChange(soal.nomor, e.target.value)}\n                                    />\n                                    <button\n                                        className=\"bg-jaffa-500 hover:bg-jaffa-600 text-white px-3 py-1 rounded ml-2\"\n                                        onClick={() => handleSubmit(soal.nomor)}\n                                    >\n                                        Jawab\n                                    </button>\n                                    {feedback[soal.nomor] && (\n                                        <span className={`ml-2 font-semibold ${feedback[soal.nomor].hasil === \"benar\" ? \"text-green-600\" : feedback[soal.nomor].hasil === \"salah\" ? \"text-red-600\" : \"text-orange-600\"}`}>\n                                            {feedback[soal.nomor].message}\n                                        </span>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </Card>\n                    <Card className=\"p-6 bg-white shadow-md border\">\n                        <h3 className=\"text-xl font-semibold mb-4 text-jaffa-600\">Menurun</h3>\n                        <div className=\"flex flex-col gap-4\">\n                            {menurun.map(soal => (\n                                <div key={soal.nomor} className=\"flex flex-col md:flex-row md:items-center gap-2\">\n                                    <span className=\"font-bold text-jaffa-500\">{soal.nomor}.</span>\n                                    <span className=\"flex-1\">{soal.pertanyaan}</span>\n                                    {/* Tidak tampilkan jawaban di sini */}\n                                    <input\n                                        className=\"border rounded px-2 py-1\"\n                                        type=\"text\"\n                                        value={jawaban[soal.nomor] || \"\"}\n                                        onChange={e => handleChange(soal.nomor, e.target.value)}\n                                    />\n                                    <button\n                                        className=\"bg-jaffa-500 hover:bg-jaffa-600 text-white px-3 py-1 rounded ml-2\"\n                                        onClick={() => handleSubmit(soal.nomor)}\n                                    >\n                                        Jawab\n                                    </button>\n                                    {feedback[soal.nomor] && (\n                                        <span className={`ml-2 font-semibold ${feedback[soal.nomor].hasil === \"benar\" ? \"text-green-600\" : feedback[soal.nomor].hasil === \"salah\" ? \"text-red-600\" : \"text-orange-600\"}`}>\n                                            {feedback[soal.nomor].message}\n                                        </span>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </Card>\n                </div>\n                )}\n            </MaxWidthWrapper>\n        </>\n    );\n};\n\nexport default TeslaPage;\n"],"names":["TeslaPage","soals","setSoals","useState","jawaban","setJawaban","feedback","setFeedback","loading","setLoading","useEffect","async","res","fetch","data","json","handleChange","nomor","value","prev","handleSubmit","trimmedJawaban","trim","method","headers","_a","document","querySelector","content","body","JSON","stringify","message","hasil","jawaban_user","err","mendatar","filter","s","tipe","menurun","jsxRuntimeExports","jsxs","Fragment","children","jsx","Navbar","isFixed","MaxWidthWrapper","className","Card","map","soal","pertanyaan","type","onChange","e","target","onClick"],"mappings":"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"}