{"version":3,"file":"DOyI44Q8.js","sources":["../../../resources/js/Pages/Dashboard/cui/absensi/Page.tsx"],"sourcesContent":["import QRScanner from \"./QRScanner\";\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\nimport { IDetectedBarcode, Scanner, outline } from \"@yudiel/react-qr-scanner\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { router, useForm } from \"@inertiajs/react\";\n\nimport { Button } from \"@/Components/ui/button\";\n\n// import { Scanner as ScannerComp, IScannerProps, outline, boundingBox, centerText, useDevices } from '@yudiel/react-qr-scanner'\n\nfunction Page({ auth }) {\n    const [result, setResult] = useState<string>(\"\");\n    const [error, setError] = useState<string>(\"\");\n    const [loading, setLoading] = useState(false);\n    const { data, setData, post, processing } = useForm({\n        qr_code: \"\",\n    });\n\n    const handleScan = (data: string) => {\n        if (data) {\n            setData(\"qr_code\", data);\n            setError(\"\");\n        }\n    };\n\n    useEffect(() => {\n        if (data.qr_code) {\n            post(route(\"cui.scan\"));\n        }\n    }, [data.qr_code]);\n\n    const handleError = (err: Error) => {\n        setError(err.message);\n    };\n\n    return (\n        <DashboardLayout user={auth.user}>\n            <div className=\"relative w-full h-full flex flex-col items-center justify-center\">\n                <div className=\"md:w-[100%] w-[75vw] h-[70vh] items-center justify-center\">\n                    {/* <QRScanner\n                        onScan={handleScan}\n                        onError={handleError}\n                        scanDelay={3000}\n                        onBack={() => {\n                            router.get(\n                                route(\"dashboard.cui\", { tab: \"presensi\" }),\n                            );\n                        }}\n                        pause={processing}\n                    /> */}\n                    <h1></h1>\n\n                    {loading ? (\n                        <div className=\"flex items-center justify-center h-full w-full border-b-purple-900\">\n                            LOADING\n                        </div>\n                    ) : (\n                        <div className=\"w-full flex justify-center items-center\">\n                            <div className=\"md:w-64\">\n                                <Scanner\n                                    onScan={function (\n                                        detectedCodes: IDetectedBarcode[],\n                                    ): void {\n                                        // console.log(detectedCodes.at(-1)?.rawValue);\n                                        handleScan(\n                                            detectedCodes.at(-1)?.rawValue ||\n                                                \"\",\n                                        );\n                                        // console.log(detectedCodes);\n                                    }}\n                                    components={{\n                                        finder: true,\n                                        tracker: outline,\n                                        zoom: true,\n                                    }}\n                                    allowMultiple={true}\n                                    scanDelay={2000}\n                                    paused={loading}\n                                    styles={{\n                                        container: {\n                                            width: \"100%\",\n                                        },\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </div>\n                <Button\n                    onClick={() =>\n                        router.get(route(\"dashboard.cui\", { tab: \"presensi\" }))\n                    }\n                >\n                    Absensi Manual\n                </Button>\n\n                {result && (\n                    <p className=\"hidden md:block\">Scanned Result: {result}</p>\n                )}\n            </div>\n        </DashboardLayout>\n    );\n}\n\nexport default Page;\n"],"names":["Page","auth","result","setResult","useState","error","setError","loading","setLoading","data","setData","post","processing","useForm","qr_code","useEffect","route","jsxRuntimeExports","jsx","DashboardLayout","user","children","jsxs","className","Scanner","onScan","detectedCodes","_a","at","rawValue","components","finder","tracker","outline","zoom","allowMultiple","scanDelay","paused","styles","container","width","Button","onClick","router","get","tab"],"mappings":"kcAYA,SAASA,GAAKC,KAAEA,IACZ,MAAOC,EAAQC,GAAaC,WAAiB,KACtCC,EAAOC,GAAYF,WAAiB,KACpCG,EAASC,GAAcJ,YAAS,IACjCK,KAAEA,EAAMC,QAAAA,EAAAC,KAASA,EAAMC,WAAAA,GAAeC,EAAQ,CAChDC,QAAS,KAqBT,OAXJC,EAAAA,WAAU,KACFN,EAAKK,SACAH,EAAAK,MAAM,YACf,GACD,CAACP,EAAKK,UAOLG,EAAAC,IAACC,GAAgBC,KAAMnB,EAAKmB,KACxBC,SAACC,EAAAA,KAAA,MAAA,CAAIC,UAAU,mEACXF,SAAA,GAACC,KAAA,MAAA,CAAIC,UAAU,4DAYXF,SAAA,CAAAJ,EAAAC,IAAC,KAAG,IAEHX,EACGW,EAAAA,IAAC,MAAI,CAAAK,UAAU,qEAAqEF,SAEpF,YAECH,EAAAA,IAAA,MAAA,CAAIK,UAAU,0CACXF,SAACH,EAAAA,IAAA,MAAA,CAAIK,UAAU,UACXF,SAAAJ,EAAAC,IAACM,EAAA,CACGC,OAAQ,SACJC,SA3ChBjB,MA+CoB,OAAAkB,EAAcD,EAAAE,IAAK,aAAGC,WAClB,MA9CpCnB,EAAQ,UAAWD,GACnBH,EAAS,IAgDe,EACAwB,WAAY,CACRC,QAAQ,EACRC,QAASC,EACTC,MAAM,GAEVC,eAAe,EACfC,UAAW,IACXC,OAAQ9B,EACR+B,OAAQ,CACJC,UAAW,CACPC,MAAO,kBAQnCvB,EAAAC,IAACuB,EAAA,CACGC,QAAS,IACLC,EAAOC,IAAI5B,MAAM,gBAAiB,CAAE6B,IAAK,cAEhDxB,SAAA,mBAIAnB,GACGe,EAAAK,KAAC,IAAE,CAAAC,UAAU,kBAAkBF,SAAA,CAAA,mBAAiBnB,SAKpE"}