import{r as a,W as s,j as e,q as t}from"./DqG_jvZq.js";import{D as i}from"./CtFtZqrz.js";import{B as r}from"./D8EpR_mp.js";import{D as n,f as l,a as c,b as o,c as d,d as m,g as h,e as j}from"./zKGVgHNP.js";import{L as x}from"./D-z7qY3_.js";import{S as p,a as u}from"./Dw_vvL_O.js";import{T as g,a as f,b,c as w,d as N,e as k}from"./BVaomOsG.js";import{T as v}from"./Dn0GELe1.js";import{B as T}from"./DmFc5DtG.js";import{T as D}from"./CJHU9WGK.js";import{u as C}from"./POyznjw6.js";import"./Djrf8RR7.js";import"./DsQM-G0s.js";import"./DP5z5bPu.js";import"./xgQHLkAg.js";import"./DfL4xOZn.js";import"./Bvqnwa5P.js";import"./XTxzhHY9.js";import"./Cshwob9e.js";import"./Chi2-jaP.js";import"./C46PLoNX.js";import"./BZtDV8eV.js";import"./C-dGCEgX.js";const S=({id:t})=>{const[i,T]=a.useState(!0),[D,C]=a.useState([]),[S,y]=a.useState("");a.useEffect((()=>{(async()=>{T(!0);const a=await fetch(route("dashboard.tugas.data.user",t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!a.ok)throw new Error("Failed to fetch data");const s=await a.json();C(s.response.data),y(s.nama),T(!1)})()}),[]);const{data:B,setData:F,put:L}=s({id:0,catatan:"",_method:"put"}),z=()=>{L(route("dashboard.tugas.return"))};return e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:["Detail Tugas ",S]}),e.jsxs(p,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[e.jsxs(g,{className:"relative border",children:[e.jsx(f,{children:e.jsxs(b,{className:"hover:bg-current bg-current",children:[e.jsx(w,{className:"w-[50px] text-white",children:"No"}),e.jsx(w,{className:"text-white w-[200px]",children:"Nama Tugas"}),e.jsx(w,{className:"text-white w-[400px]",children:"Link"}),e.jsx(w,{className:"text-white",children:"Status Pengembalian"}),e.jsx(w,{className:"text-white",children:"Aksi"})]})}),e.jsx(N,{className:"min-h-28 relative",children:i?e.jsx(b,{children:e.jsx(k,{colSpan:4,className:"text-center",children:"Loading..."})}):e.jsx(e.Fragment,{children:D.map(((a,s)=>e.jsxs(b,{children:[e.jsx(k,{className:"font-medium",children:s+1}),e.jsx(k,{children:e.jsx("p",{className:"line-clamp-1",children:a.nama_tugas})}),e.jsx(k,{children:e.jsx("a",{className:"line-clamp-1 text-wrap",href:a.jawaban,target:"_blank",children:a.jawaban})}),e.jsx(k,{children:a.isReturn?"Dikembalikan":"Diterima"}),e.jsxs(k,{className:"flex gap-1",children:[e.jsx("a",{href:a.jawaban,target:"_blank",children:e.jsx(r,{size:"sm",children:"Lihat Tugas"})}),e.jsxs(n,{children:[a.isReturn?null:e.jsx(l,{asChild:!0,children:e.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>F("id",a.id),children:"Kembalikan Tugas"})}),e.jsxs(c,{className:"sm:max-w-[425px]",children:[e.jsxs(o,{children:[e.jsx(d,{children:"Kembalikan Tugas"}),e.jsx(m,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{htmlFor:"catatan",className:"text-left",children:"Catatan"}),e.jsx(v,{id:"catatan",onChange:a=>F("catatan",a.target.value),placeholder:"Berikan catatan pengembalian tugas",className:"mt-1"})]})}),e.jsxs(h,{children:[e.jsx(j,{asChild:!0,children:e.jsx(r,{variant:"outline",children:"Batalkan"})}),e.jsx(j,{asChild:!0,children:e.jsx(r,{onClick:z,children:"Lanjutkan"})})]})]})]})]})]},s)))})})]}),e.jsx(u,{orientation:"horizontal"})]})]})},y=[{title:"Dashboard",link:"/dashboard"},{title:"Mading",link:"/dashboard/mading"},{title:"Detail Tugas",link:"/dashboard/mading/user"}];function B({auth:s,id:r}){const{toast:n}=C(),{flash:l}=t().props;return a.useEffect((()=>{l.response&&(200===l.response.status?n({title:"Berhasil",description:l.response.message,variant:"default"}):n({title:"Gagal",description:l.response.message,variant:"destructive"}),window.location.reload())}),[l,n]),e.jsxs(e.Fragment,{children:[e.jsxs(i,{user:s.user,children:[e.jsx(T,{items:y}),e.jsx(S,{id:r})]}),e.jsx(D,{})]})}export{B as default};
