{"version":3,"file":"ZWfYkBrL.js","sources":["../../../resources/js/Pages/Dashboard/cui/Presensi.tsx"],"sourcesContent":["import { useDebouncedCallback } from \"use-debounce\";\n\nimport React, { useEffect } from \"react\";\n\nimport { router, useForm } from \"@inertiajs/react\";\n\nimport { Button } from \"@/Components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/Components/ui/card\";\nimport { Input } from \"@/Components/ui/input\";\n\nfunction Presensi({ response }) {\n    const { data, setData, post, processing } = useForm({\n        nim: \"\",\n        qr_code: \"\",\n    });\n\n    const handleSubmit = (e) => {\n        setData(\"nim\", e.target.value);\n        debounced(e.target.value);\n    };\n\n    const handlePresensi = (qr_code: string) => {\n        setData(\"qr_code\", qr_code);\n    };\n\n    const debounced = useDebouncedCallback(\n        // function\n        (value) => {\n            post(route(\"dashboard.cui\"));\n        },\n        // delay in ms\n        500,\n    );\n\n    useEffect(() => {\n        if (data.qr_code) {\n            post(route(\"cui.scan\"));\n        }\n    }, [data.qr_code]);\n    return (\n        <div className=\"space-y-4\">\n            <Card className=\"\">\n                <CardHeader className=\"flex flex-row items-center justify-between w-full pb-2 space-y-0\">\n                    <CardTitle className=\"w-full text-lg font-bold text-center\">\n                        Absensi CUI Maba\n                    </CardTitle>\n                </CardHeader>\n                <CardContent className=\"flex items-center justify-center mt-2\">\n                    <Button\n                        onClick={() =>\n                            router.get(route(\"dashboard.cui.absensi\"))\n                        }\n                    >\n                        Mulai Absen Maba\n                    </Button>\n                </CardContent>\n            </Card>\n            <Input\n                disabled={processing}\n                value={data.nim}\n                onChange={handleSubmit}\n                placeholder=\"Cari mahasiswa berdasarkan NIM. cth: \"\n            />\n\n            {/* Jika data tidak ditemukan */}\n            {response &&\n                response.status === 404 &&\n                response.message.includes(\"NIM\") && (\n                    <p className=\"font-bold text-red-600\">{response.message}</p>\n                )}\n\n            {response &&\n                response.status === 200 &&\n                response.message.includes(\"NIM\") && (\n                    <div className=\"w-full\">\n                        <p className=\"font-bold text-green-500\">\n                            {response.message}\n                        </p>\n                        <div className=\"flex w-full gap-5 mt-3\">\n                            <div>\n                                <img\n                                    className=\"w-48 h-64 mb-2 bg-cover rounded-lg\"\n                                    src={response.data.profil_url}\n                                    alt=\"Foto profil\"\n                                />\n                                {response.data.pita === \"hijau\" && (\n                                    <div className=\"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-green-500\">\n                                        Pita Hijau\n                                    </div>\n                                )}\n                                {response.data.pita === \"kuning\" && (\n                                    <div>\n                                        <div className=\"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-yellow-400\">\n                                            Pita Kuning\n                                        </div>\n                                        <p>\n                                            Riwayat penyakit:{\" \"}\n                                            {response.data.riwayat}\n                                        </p>\n                                    </div>\n                                )}\n                                {response.data.pita === \"merah\" && (\n                                    <div>\n                                        <div className=\"rounded-xl flex items-center justify-center h-10 font-bold text-white bg-red-600\">\n                                            Pita Merah\n                                        </div>\n                                        <p>\n                                            Riwayat penyakit:{\" \"}\n                                            {response.data.riwayat}\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                            <div>\n                                <div className=\"ring-1 ring-black/30 rounded-xl  p-2 text-xl\">\n                                    <p className=\"font-bold\">\n                                        {response.data.nama}\n                                    </p>\n                                    <p>{response.data.prodi}</p>\n                                    <p>{response.data.nim}</p>\n                                </div>\n                                <Button\n                                    onClick={() =>\n                                        handlePresensi(response.data.qr_code)\n                                    }\n                                    className=\"w-full mt-2\"\n                                >\n                                    Presensi\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n        </div>\n    );\n}\n\nexport default Presensi;\n"],"names":["Presensi","response","data","setData","post","processing","useForm","nim","qr_code","debounced","useDebouncedCallback","value","route","useEffect","jsxs","className","children","Card","jsx","CardHeader","CardTitle","CardContent","jsxRuntimeExports","Button","onClick","router","get","Input","disabled","onChange","e","target","placeholder","status","message","includes","src","profil_url","alt","pita","riwayat","nama","prodi","handlePresensi"],"mappings":"gQAUA,SAASA,GAASC,SAAEA,IAChB,MAAMC,KAAEA,EAAMC,QAAAA,EAAAC,KAASA,EAAMC,WAAAA,GAAeC,EAAQ,CAChDC,IAAK,GACLC,QAAS,KAYPC,EAAYC,GAEbC,IACQP,EAAAQ,MAAM,iBAAgB,GAG/B,KASA,OANJC,EAAAA,WAAU,KACFX,EAAKM,SACAJ,EAAAQ,MAAM,YACf,GACD,CAACV,EAAKM,YAELM,KAAC,MAAI,CAAAC,UAAU,YACXC,SAAA,GAACF,KAAAG,EAAA,CAAKF,UAAU,GACZC,SAAA,GAACE,IAAAC,EAAA,CAAWJ,UAAU,mEAClBC,SAAAE,EAAAA,IAACE,GAAUL,UAAU,uCAAuCC,kCAIhEE,IAACG,EAAY,CAAAN,UAAU,wCACnBC,SAAAM,EAAAJ,IAACK,EAAA,CACGC,QAAS,IACLC,EAAOC,IAAId,MAAM,0BAExBI,SAAA,0BAKTM,EAAAJ,IAACS,EAAA,CACGC,SAAUvB,EACVM,MAAOT,EAAKK,IACZsB,SA5CUC,IACV3B,EAAA,MAAO2B,EAAEC,OAAOpB,OACdF,EAAAqB,EAAEC,OAAOpB,MAAK,EA2ChBqB,YAAY,0CAIf/B,GACuB,MAApBA,EAASgC,QACThC,EAASiC,QAAQC,SAAS,QACrBjB,EAAAA,IAAA,IAAA,CAAEH,UAAU,yBAA0BC,WAASkB,UAGvDjC,GACuB,MAApBA,EAASgC,QACThC,EAASiC,QAAQC,SAAS,UACtBrB,KAAC,MAAI,CAAAC,UAAU,SACXC,SAAA,CAAAE,EAAAA,IAAC,IAAE,CAAAH,UAAU,2BACRC,SAAAf,EAASiC,YAEdpB,KAAC,MAAI,CAAAC,UAAU,yBACXC,SAAA,QAAC,MACG,CAAAA,SAAA,CAAAM,EAAAJ,IAAC,MAAA,CACGH,UAAU,qCACVqB,IAAKnC,EAASC,KAAKmC,WACnBC,IAAI,gBAEgB,UAAvBrC,EAASC,KAAKqC,YACV,MAAI,CAAAxB,UAAU,qFAAqFC,SAEpG,eAEoB,WAAvBf,EAASC,KAAKqC,aACV,MACG,CAAAvB,SAAA,CAACE,EAAAA,IAAA,MAAA,CAAIH,UAAU,sFAAsFC,SAErG,uBACC,IAAE,CAAAA,SAAA,CAAA,oBACmB,IACjBf,EAASC,KAAKsC,cAIH,UAAvBvC,EAASC,KAAKqC,aACV,MACG,CAAAvB,SAAA,CAACE,EAAAA,IAAA,MAAA,CAAIH,UAAU,mFAAmFC,SAElG,sBACC,IAAE,CAAAA,SAAA,CAAA,oBACmB,IACjBf,EAASC,KAAKsC,wBAK9B,MACG,CAAAxB,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,+CACXC,SAAA,CAAAE,MAAC,IAAE,CAAAH,UAAU,YACRC,SAAAf,EAASC,KAAKuC,OAElBvB,EAAAA,IAAA,IAAA,CAAGF,SAASf,EAAAC,KAAKwC,QACjBxB,EAAAA,IAAA,IAAA,CAAGF,SAASf,EAAAC,KAAKK,SAEtBe,EAAAJ,IAACK,EAAA,CACGC,QAAS,KACLmB,OAtGZnC,EAsG2BP,EAASC,KAAKM,aArG7DL,EAAQ,UAAWK,GADA,IAACA,CAsGgD,EAExCO,UAAU,cACbC,SAAA,wBASjC"}