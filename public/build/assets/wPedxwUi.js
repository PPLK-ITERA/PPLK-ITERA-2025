import{r as a,W as s,j as e,a as i,q as t}from"./BkIss81D.js";import{D as r}from"./BIsLNgKW.js";import{B as n,b as l}from"./csYYLMtM.js";import{D as o,f as m,a as c,b as d,c as j,d as h,g as p,e as x}from"./SvokFcO8.js";import{L as u}from"./B6wB_56h.js";import{S as g,a as f}from"./DLMshidK.js";import{T as N,a as k,b,c as w,d as v,e as T}from"./B4AzYGf4.js";import{T as C}from"./D0MeK_U1.js";import{A as y}from"./Ci7sYCej.js";import{D as K}from"./CtlCUV5X.js";import{S}from"./BCYv0T9J.js";import{B as D}from"./DxqUrwa-.js";import{T as _}from"./DnLgy7eu.js";import{u as F}from"./tyXeoQjo.js";import"./BFSfD8zZ.js";import"./BFmsOwHv.js";import"./40mWbfTR.js";import"./CYYuBjBZ.js";import"./Dt3uUqLY.js";import"./D7FRFEIm.js";import"./BEqwDVof.js";import"./BAAXcZSz.js";import"./COHDAjS6.js";import"./BGXVNWhb.js";import"./BZtDV8eV.js";import"./DoQTxwu1.js";import"./BibytKfz.js";import"./CKk3M30F.js";import"./Bt8xBVJb.js";import"./D1nuaqFP.js";const L=({})=>{const[i,t]=a.useState(!0),[r,l]=a.useState([]);a.useEffect((()=>{(async()=>{t(!0);const a=await fetch(route("dashboard.tugas.data.kelompok"),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await a.json();l(s.response.data),console.log("tugasKelompok",s.response.data),t(!1)})()}),[]);const{data:y,setData:K,put:S}=s({id:0,catatan:"",_method:"put"}),D=()=>{S(route("dashboard.tugas.return"))};return e.jsx(e.Fragment,{children:e.jsxs(g,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[e.jsxs(N,{className:"relative border",children:[e.jsx(k,{children:e.jsxs(b,{className:"hover:bg-current bg-current",children:[e.jsx(w,{className:"w-[50px] text-white",children:"No"}),e.jsx(w,{className:"text-white w-[200px]",children:"Nama Tugas"}),e.jsx(w,{className:"text-white w-[400px]",children:"Link"}),e.jsx(w,{className:"text-white",children:"Status Pengembalian"}),e.jsx(w,{className:"text-white",children:"Aksi"})]})}),e.jsx(v,{className:"min-h-28 relative",children:i?e.jsx(b,{children:e.jsx(T,{colSpan:4,className:"text-center",children:"Loading..."})}):e.jsx(e.Fragment,{children:r.map(((a,s)=>e.jsxs(b,{children:[e.jsx(T,{className:"font-medium",children:s+1}),e.jsx(T,{children:e.jsx("p",{className:"line-clamp-1",children:a.judul})}),e.jsx(T,{children:e.jsx("a",{className:"line-clamp-1 text-wrap",href:a.pengumpulan_tugas[s].jawaban,target:"_blank",children:a.pengumpulan_tugas[s].jawaban})}),e.jsx(T,{children:a.pengumpulan_tugas[s].isReturn?"Dikembalikan":"Diterima"}),e.jsxs(T,{className:"flex gap-1",children:[e.jsx("a",{href:`${a.pengumpulan_tugas[s].jawaban}`,target:"_blank",children:e.jsx(n,{size:"sm",children:"Lihat Tugas"})}),e.jsxs(o,{children:[e.jsx(m,{asChild:!0,children:e.jsx(n,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>K("id",a.pengumpulan_tugas[s].id),children:"Kembalikan Tugas"})}),e.jsxs(c,{className:"sm:max-w-[425px]",children:[e.jsxs(d,{children:[e.jsx(j,{children:"Kembalikan Tugas"}),e.jsx(h,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(u,{htmlFor:"catatan",className:"text-left",children:"Catatan"}),e.jsx(C,{id:"catatan",onChange:a=>K("catatan",a.target.value),placeholder:"Berikan catatan pengembalian tugas",className:"mt-1"})]})}),e.jsxs(p,{children:[e.jsx(x,{asChild:!0,children:e.jsx(n,{variant:"outline",children:"Batalkan"})}),e.jsx(x,{asChild:!0,children:e.jsx(n,{onClick:D,children:"Lanjutkan"})})]})]})]})]})]},s)))})})]}),e.jsx(f,{orientation:"horizontal"})]})})},B=({data:s})=>{const[t,r]=a.useState(!1),[n,o]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(y,{isOpen:n,onClose:()=>o(!1),onConfirm:async()=>{},loading:t}),e.jsx("div",{className:"flex gap-1 p-2",children:e.jsx(i,{href:`/dashboard/mading/user/${s.id}`,className:`${l({size:"sm"})}`,children:"Lihat Semua Tugas"})})]})},E=[{id:"no",header:"No",cell:({row:a})=>a.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:a})=>a.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:a})=>a.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:a})=>a.original.user.email},{id:"actions",header:"Aksi",cell:({row:a})=>e.jsx(B,{data:a.original})}],z=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-between"}),e.jsx(S,{}),e.jsx(K,{searchKey:"Nama, Nim, Email",columns:E,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok",description:"Gunakan sistem informasi ini untuk melihat data kelompok!"})]}),M=[{title:"Dashboard",link:"/dashboard"},{title:"Mading",link:"/dashboard/mading"}];function A({auth:s}){const{toast:i}=F(),{flash:n}=t().props;return a.useEffect((()=>{n.response&&(200===n.response.status?i({title:"Berhasil",description:n.response.message,variant:"default"}):i({title:"Gagal",description:n.response.message,variant:"destructive"}),window.location.reload())}),[n,i]),e.jsxs(e.Fragment,{children:[e.jsxs(r,{user:s.user,children:[e.jsx(D,{items:M}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Mading"}),e.jsx(z,{}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Tugas Kelompok"}),e.jsx(L,{}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cover Mading"})]}),e.jsx(_,{})]})}export{A as default};
