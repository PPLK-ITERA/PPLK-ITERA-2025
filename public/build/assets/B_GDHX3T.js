import{c as e}from"./D85Lj5xO.js";import{r as n,j as t,b as r,d as o}from"./BauGj0Wo.js";import{S as s,u}from"./C0JhC2m7.js";
/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function a(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(null==e||e(r),!1===t||!r.defaultPrevented)return null==n?void 0:n(r)}}function c(e,r){const o=n.createContext(r);function s(e){const{children:r,...s}=e,u=n.useMemo((()=>s),Object.values(s));return t.jsx(o.Provider,{value:u,children:r})}return s.displayName=e+"Provider",[s,function(t){const s=n.useContext(o);if(s)return s;if(void 0!==r)return r;throw new Error(`\`${t}\` must be used within \`${e}\``)}]}function l(e,r=[]){let o=[];const s=()=>{const t=o.map((e=>n.createContext(e)));return function(r){const o=(null==r?void 0:r[e])||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return s.scopeName=e,[function(r,s){const u=n.createContext(s),i=o.length;function a(r){const{scope:o,children:s,...a}=r,c=(null==o?void 0:o[e][i])||u,l=n.useMemo((()=>a),Object.values(a));return t.jsx(c.Provider,{value:l,children:s})}return o=[...o,s],a.displayName=r+"Provider",[a,function(t,o){const a=(null==o?void 0:o[e][i])||u,c=n.useContext(a);if(c)return c;if(void 0!==s)return s;throw new Error(`\`${t}\` must be used within \`${r}\``)}]},d(s,...r)]}function d(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((n,{useScope:t,scopeName:r})=>({...n,...t(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}function f(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function v({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,s]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[o]=r,s=n.useRef(o),u=f(t);return n.useEffect((()=>{s.current!==o&&(u(o),s.current=o)}),[o,s,u]),r}({defaultProp:t,onChange:r}),u=void 0!==e,i=u?e:o,a=f(r);return[i,n.useCallback((n=>{if(u){const t="function"==typeof n?n(e):n;t!==e&&a(t)}else s(n)}),[u,e,s,a])]}var m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,r)=>{const o=n.forwardRef(((e,n)=>{const{asChild:o,...u}=e,i=o?s:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),t.jsx(i,{...u,ref:n})}));return o.displayName=`Primitive.${r}`,{...e,[r]:o}}),{});function p(e,n){e&&r.flushSync((()=>e.dispatchEvent(n)))}var E,b="dismissableLayer.update",h="dismissableLayer.pointerDownOutside",y="dismissableLayer.focusOutside",g=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N=n.forwardRef(((e,r)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:l,onDismiss:d,...v}=e,p=n.useContext(g),[N,w]=n.useState(null),C=(null==N?void 0:N.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,T]=n.useState({}),D=u(r,(e=>w(e))),L=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),x=L.indexOf(R),S=N?L.indexOf(N):-1,M=p.layersWithOutsidePointerEventsDisabled.size>0,j=S>=x,k=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=f(e),o=n.useRef(!1),s=n.useRef((()=>{}));return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let n=function(){O(h,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);o.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}}),[t,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const n=e.target,t=[...p.branches].some((e=>e.contains(n)));j&&!t&&(null==i||i(e),null==l||l(e),e.defaultPrevented||null==d||d())}),C),A=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=f(e),o=n.useRef(!1);return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){O(y,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const n=e.target;[...p.branches].some((e=>e.contains(n)))||(null==c||c(e),null==l||l(e),e.defaultPrevented||null==d||d())}),C);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=f(e);n.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}((e=>{S===p.layers.size-1&&(null==s||s(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))}),C),n.useEffect((()=>{if(N)return o&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(E=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(N)),p.layers.add(N),P(),()=>{o&&1===p.layersWithOutsidePointerEventsDisabled.size&&(C.body.style.pointerEvents=E)}}),[N,C,o,p]),n.useEffect((()=>()=>{N&&(p.layers.delete(N),p.layersWithOutsidePointerEventsDisabled.delete(N),P())}),[N,p]),n.useEffect((()=>{const e=()=>T({});return document.addEventListener(b,e),()=>document.removeEventListener(b,e)}),[]),t.jsx(m.div,{...v,ref:D,style:{pointerEvents:M?j?"auto":"none":void 0,...e.style},onFocusCapture:a(e.onFocusCapture,A.onFocusCapture),onBlurCapture:a(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:a(e.onPointerDownCapture,k.onPointerDownCapture)})}));N.displayName="DismissableLayer";var w=n.forwardRef(((e,r)=>{const o=n.useContext(g),s=n.useRef(null),i=u(r,s);return n.useEffect((()=>{const e=s.current;if(e)return o.branches.add(e),()=>{o.branches.delete(e)}}),[o.branches]),t.jsx(m.div,{...e,ref:i})}));function P(){const e=new CustomEvent(b);document.dispatchEvent(e)}function O(e,n,t,{discrete:r}){const o=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?p(o,s):o.dispatchEvent(s)}w.displayName="DismissableLayerBranch";var C=N,T=w,D=Boolean(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{},L=n.forwardRef(((e,r)=>{var s;const{container:u,...i}=e,[a,c]=n.useState(!1);D((()=>c(!0)),[]);const l=u||a&&(null==(s=null==globalThis?void 0:globalThis.document)?void 0:s.body);return l?o.createPortal(t.jsx(m.div,{...i,ref:r}),l):null}));L.displayName="Portal";var R=e=>{const{present:t,children:o}=e,s=function(e){const[t,o]=n.useState(),s=n.useRef({}),u=n.useRef(e),i=n.useRef("none"),a=e?"mounted":"unmounted",[c,l]=function(e,t){return n.useReducer(((e,n)=>t[e][n]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect((()=>{const e=x(s.current);i.current="mounted"===c?e:"none"}),[c]),D((()=>{const n=s.current,t=u.current;if(t!==e){const r=i.current,o=x(n);if(e)l("MOUNT");else if("none"===o||"none"===(null==n?void 0:n.display))l("UNMOUNT");else{l(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}u.current=e}}),[e,l]),D((()=>{if(t){const e=e=>{const n=x(s.current).includes(e.animationName);e.target===t&&n&&r.flushSync((()=>l("ANIMATION_END")))},n=e=>{e.target===t&&(i.current=x(s.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:n.useCallback((e=>{e&&(s.current=getComputedStyle(e)),o(e)}),[])}}(t),i="function"==typeof o?o({present:s.isPresent}):n.Children.only(o),a=u(s.ref,function(e){var n,t;let r=null==(n=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null==(t=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof o||s.isPresent?n.cloneElement(i,{ref:a}):null};function x(e){return(null==e?void 0:e.animationName)||"none"}R.displayName="Presence";export{T as B,N as D,m as P,C as R,i as X,D as a,v as b,l as c,a as d,R as e,L as f,p as g,c as h,f as u};
