import{W as a,j as s,r as e}from"./BnZSCqSY.js";import{B as l,C as t}from"./DiOmGGhn.js";import{D as i}from"./CuKB7P2H.js";import{b as n,B as r}from"./B65WbH7Y.js";import{D as o,f as d,a as m,b as u,c,d as h,g as j,e as p}from"./DuVqH-a-.js";import{L as x}from"./D8tKg_zA.js";import{T as g}from"./B0MUtT7H.js";import{D as k}from"./DkwuYtiR.js";import{S as f}from"./DA12L6AS.js";import{P as N,a as b,b as v,C as w,c as T,d as _,e as C,f as S}from"./B4xd9XNU.js";import{S as y,a as A}from"./DRdr4Skh.js";import{S as K,a as R,b as E,c as D,d as P,e as O,f as L}from"./CEu1HBS-.js";import{T as I}from"./DLN7RhP-.js";import{u as F}from"./Cz9gY2_L.js";import{a as M}from"./Ccrl2rLh.js";import{k as B}from"./BwtQ9IfI.js";import"./DB6lS5BQ.js";import"./nATXJAE1.js";import"./BrAyf2l-.js";import"./CYilDi6g.js";import"./CGCm-A_v.js";import"./DnNMVpJC.js";import"./BWAKTBD8.js";import"./MyjxeUrg.js";import"./BM-9DSc6.js";import"./D7Mzi2Ut.js";import"./VMQSSKIh.js";import"./C3Izsjou.js";import"./cKEiaA-B.js";import"./DPdBf6DS.js";import"./WzTxz_0s.js";import"./BCqEd4BO.js";const G=({data:e})=>{const{data:l,setData:t,put:i}=a({id:0,catatan:"",_method:"put"});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex gap-1 p-2",children:[s.jsx("a",{href:`${e.tugas.jawaban??"#"}`,className:`${n({size:"sm"})}`,children:"Lihat Tugas"}),s.jsxs(o,{children:[e.tugas.isReturn?null:s.jsx(d,{asChild:!0,children:s.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>t("id",e.tugas.id),children:"Kembalikan Tugas"})}),s.jsxs(m,{className:"sm:max-w-[425px]",children:[s.jsxs(u,{children:[s.jsx(c,{children:"Kembalikan Tugas"}),s.jsx(h,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx(x,{htmlFor:"catatan",className:"text-left",children:"Catatan"}),s.jsx(g,{id:"catatan",onChange:a=>t("catatan",a.target.value),placeholder:"Berikan catatan pengembalian tugas",className:"mt-1"})]})}),s.jsxs(j,{children:[s.jsx(p,{asChild:!0,children:s.jsx(r,{variant:"outline",children:"Batalkan"})}),s.jsx(p,{asChild:!0,children:s.jsx(r,{onClick:()=>{i(route("dashboard.tugas.return"))},children:"Lanjutkan"})})]})]})]})]})})},J=[{id:"no",header:"No",cell:({row:a})=>a.index+1},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:a})=>a.original.user.name},{id:"judul",accessorKey:"tugas.judul",header:"Nama Tugas",cell:({row:a})=>a.original.tugas.judul},{id:"nama_kelompok",accessorKey:"user.nama_kelompok",header:"Kelompok",cell:({row:a})=>a.original.user.nama_kelompok},{id:"status",accessorKey:"tugas.status",header:"Status",cell:({row:a})=>a.original.status},{id:"catatan",accessorKey:"tugas.catatan",header:"Catatan",cell:({row:a})=>a.original.tugas.catatan},{id:"actions",header:"Aksi",cell:({row:a})=>s.jsx(G,{data:a.original})}],V=({tugas_id:a,no_kelompok:l,status:t})=>{const[i,n]=e.useState({status:t||null,no_kelompok:l||null,tugas_id:a});e.useEffect((()=>{(i.no_kelompok||i.status||i.tugas_id)&&(async()=>{const a=route("dashboard.tugas.data",{no_kelompok:i.no_kelompok??0,status:i.status??0,tugas_id:i.tugas_id});console.log("Fetching data for:",a)})()}),[i]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(r,{onClick:()=>{n({tugas_id:a,no_kelompok:l||null,status:t||null})},children:"Terapkan"}),s.jsx(r,{onClick:()=>{window.location.reload()},variant:"outline",children:"Reset Filter"})]}),s.jsx(f,{}),s.jsx(k,{searchKey:"Nama, Nim, Email",columns:J,apiEndpoint:route("dashboard.tugas.data",{tugas_id:i.tugas_id,no_kelompok:i.no_kelompok??0,status:i.status??0}),title:"Data Pengumpulan Tugas",description:"Gunakan sistem informasi ini untuk melihat data pengumpulan tugas mahasiswa baru!"})]})},z=[{title:"Dashboard",link:"/dashboard"},{title:"Pengumpulan Tugas",link:"/dashboard/pengumpulan-tugas"}],$=[{id:1,label:"DIRETRA",value:"1"},{id:2,label:"HARTATERA",value:"2"},{id:3,label:"COOLIN",value:"3"},{id:4,label:"GARTA MATERA",value:"4"},{id:5,label:"PORTAL DILOGI",value:"5"},{id:6,label:"REKASITERA",value:"6"},{id:7,label:"MOTLET CAKRAWALA",value:"7"}];function H({auth:a,response:n}){var o;F();const[d,m]=e.useState(!1),[u,c]=e.useState(""),[h,j]=e.useState("1"),[p,g]=e.useState(1),[k,f]=e.useState(""),[G,J]=e.useState([]);e.useEffect((()=>{(async()=>{const a=await fetch(route("dashboard.user.data.kelompok"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),s=await a.json();J(s)})()}),[]);return s.jsxs(s.Fragment,{children:[s.jsxs(i,{user:a.user,children:[s.jsx(l,{items:z}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Pengumpulan Tugas"}),s.jsx("h2",{children:"Filter berdasarkan..."}),s.jsxs("div",{className:"md:flex-row md:items-center flex flex-col items-start gap-1",children:[s.jsxs("div",{className:"grow w-full",children:[s.jsx(x,{className:"ml-[1px]",children:"Nama Tugas"}),s.jsxs(K,{onValueChange:a=>{j(a),g(a)},defaultValue:h,children:[s.jsx(R,{className:"w-full font-bold",children:s.jsx(E,{placeholder:"Pilih nama tugas"})}),s.jsx(D,{children:s.jsxs(P,{children:[s.jsx(O,{children:"Nama Tugas"}),$.map((a=>s.jsx(L,{value:a.value,children:a.label},a.id)))]})})]})]}),s.jsxs("div",{className:"grow w-full",children:[s.jsx(x,{className:"ml-[1px]",children:"Nama Kelompok"}),s.jsxs(N,{open:d,onOpenChange:m,children:[s.jsx(b,{asChild:!0,children:s.jsxs(r,{variant:"outline",role:"combobox","aria-expanded":d,className:"justify-between w-full font-normal shadow-none",size:"sm",children:[u?null==(o=G.find((a=>JSON.stringify(a.id)===u)))?void 0:o.id:"Pilih Kelompok",s.jsx(t,{className:"shrink-0 w-4 h-4 ml-2 opacity-50"})]})}),s.jsx(v,{children:s.jsxs(w,{children:[s.jsx(T,{placeholder:"Cari Kelompok...",className:"h-9"}),s.jsx(_,{children:"Data kelompok tidak ada."}),s.jsx(C,{children:s.jsxs(y,{className:"h-[calc(50vh-64px)]",children:[G.length>0?G.map(((a,e)=>s.jsxs(S,{value:JSON.stringify(a.id),onSelect:a=>{c(a===u?"":a),m(!1)},children:[a.no_kelompok,"-",a.nama_kelompok,s.jsx(B,{className:M("ml-auto h-4 w-4",u===JSON.stringify(a.id)?"opacity-100":"opacity-0")})]},e))):null,s.jsx(A,{orientation:"vertical"})]})})]})})]})]}),s.jsxs("div",{className:"grow w-full",children:[s.jsx(x,{className:"ml-[1px]",children:"Status Pengumpulan"}),s.jsxs(K,{onValueChange:a=>{f(a)},defaultValue:k,children:[s.jsx(R,{className:"w-full font-bold",children:s.jsx(E,{placeholder:"Pilih status pengumpulan"})}),s.jsx(D,{children:s.jsxs(P,{children:[s.jsx(O,{children:"Status Pengumpulan"}),s.jsx(L,{value:"1",children:"Sudah Mengumpulkan"}),s.jsx(L,{value:"2",children:"Telat Mengumpulkan"}),s.jsx(L,{value:"3",children:"Dikembalikan"}),s.jsx(L,{value:"4",children:"Belum Mengumpulkan"})]})})]})]})]}),s.jsx(V,{tugas_id:p,no_kelompok:parseInt(u),status:parseInt(k)})]}),s.jsx(I,{})]})}export{H as default};
