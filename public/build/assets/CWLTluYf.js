import{r as e,j as t}from"./BsQiwWxS.js";import{c as r,b as o,e as s,d as n,u as a,P as i,B as c,r as d,R as u,f as l,g as p,a as f,X as m}from"./w-mWuE6g.js";import{u as v,a as w,d as x}from"./iJ3XIYp3.js";import{c as y}from"./BbG_GE80.js";import{V as g}from"./CnModZwI.js";import{u as h}from"./UESoQsdO.js";var T="ToastProvider",[E,b,j]=y("Toast"),[N,R]=r("Toast",[j]),[C,P]=N(T),D=r=>{const{__scopeToast:o,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:c}=r,[d,u]=e.useState(null),[l,p]=e.useState(0),f=e.useRef(!1),m=e.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${T}\`. Expected non-empty \`string\`.`),t.jsx(E.Provider,{scope:o,children:t.jsx(C,{scope:o,label:s,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:l,viewport:d,onViewportChange:u,onToastAdd:e.useCallback((()=>p((e=>e+1))),[]),onToastRemove:e.useCallback((()=>p((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:c})})};D.displayName=T;var L="ToastViewport",S=["F8"],F="toast.viewportPause",_="toast.viewportResume",k=e.forwardRef(((r,o)=>{const{__scopeToast:s,hotkey:n=S,label:a="Notifications ({hotkey})",...d}=r,u=P(L,s),l=b(s),p=e.useRef(null),f=e.useRef(null),m=e.useRef(null),w=e.useRef(null),x=v(o,w,u.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=u.toastCount>0;e.useEffect((()=>{const e=e=>{n.every((t=>e[t]||e.code===t))&&w.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]),e.useEffect((()=>{const e=p.current,t=w.current;if(g&&e&&t){const r=()=>{if(!u.isClosePausedRef.current){const e=new CustomEvent(F);t.dispatchEvent(e),u.isClosePausedRef.current=!0}},o=()=>{if(u.isClosePausedRef.current){const e=new CustomEvent(_);t.dispatchEvent(e),u.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&o()},n=()=>{e.contains(document.activeElement)||o()};return e.addEventListener("focusin",r),e.addEventListener("focusout",s),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",n),window.addEventListener("blur",r),window.addEventListener("focus",o),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",n),window.removeEventListener("blur",r),window.removeEventListener("focus",o)}}}),[g,u.isClosePausedRef]);const h=e.useCallback((({tabbingDirection:e})=>{const t=l().map((t=>{const r=t.ref.current,o=[r,...Z(r)];return"forwards"===e?o:o.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[l]);return e.useEffect((()=>{const e=w.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,o=t.shiftKey;if(t.target===e&&o)return void f.current?.focus();const s=h({tabbingDirection:o?"backwards":"forwards"}),n=s.findIndex((e=>e===r));ee(s.slice(n+1))?t.preventDefault():o?f.current?.focus():m.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[l,h]),t.jsxs(c,{ref:p,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(A,{ref:f,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"forwards"}))}}),t.jsx(E.Slot,{scope:s,children:t.jsx(i.ol,{tabIndex:-1,...d,ref:x})}),g&&t.jsx(A,{ref:m,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"backwards"}))}})]})}));k.displayName=L;var I="ToastFocusProxy",A=e.forwardRef(((e,r)=>{const{__scopeToast:o,onFocusFromOutsideViewport:s,...n}=e,a=P(I,o);return t.jsx(g,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!a.viewport?.contains(t)&&s()}})}));A.displayName=I;var M="Toast",K=e.forwardRef(((e,r)=>{const{forceMount:i,open:c,defaultOpen:d,onOpenChange:u,...l}=e,[p=!0,f]=o({prop:c,defaultProp:d,onChange:u});return t.jsx(s,{present:i||p,children:t.jsx($,{open:p,...l,ref:r,onClose:()=>f(!1),onPause:a(e.onPause),onResume:a(e.onResume),onSwipeStart:n(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:n(e.onSwipeMove,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:n(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:n(e.onSwipeEnd,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),f(!1)}))})})}));K.displayName=M;var[O,V]=N(M,{onClose(){}}),$=e.forwardRef(((r,o)=>{const{__scopeToast:s,type:c="foreground",duration:l,open:p,onClose:f,onEscapeKeyDown:m,onPause:w,onResume:x,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:h,onSwipeEnd:T,...b}=r,j=P(M,s),[N,R]=e.useState(null),C=v(o,(e=>R(e))),D=e.useRef(null),L=e.useRef(null),S=l||j.duration,k=e.useRef(0),I=e.useRef(S),A=e.useRef(0),{onToastAdd:K,onToastRemove:V}=j,$=a((()=>{const e=N?.contains(document.activeElement);e&&j.viewport?.focus(),f()})),X=e.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(A.current),k.current=(new Date).getTime(),A.current=window.setTimeout($,e))}),[$]);e.useEffect((()=>{const e=j.viewport;if(e){const t=()=>{X(I.current),x?.()},r=()=>{const e=(new Date).getTime()-k.current;I.current=I.current-e,window.clearTimeout(A.current),w?.()};return e.addEventListener(F,r),e.addEventListener(_,t),()=>{e.removeEventListener(F,r),e.removeEventListener(_,t)}}}),[j.viewport,S,w,x,X]),e.useEffect((()=>{p&&!j.isClosePausedRef.current&&X(S)}),[p,S,j.isClosePausedRef,X]),e.useEffect((()=>(K(),()=>V())),[K,V]);const q=e.useMemo((()=>N?G(N):null),[N]);return j.viewport?t.jsxs(t.Fragment,{children:[q&&t.jsx(U,{__scopeToast:s,role:"status","aria-live":"foreground"===c?"assertive":"polite","aria-atomic":!0,children:q}),t.jsx(O,{scope:s,onClose:$,children:d.createPortal(t.jsx(E.ItemSlot,{scope:s,children:t.jsx(u,{asChild:!0,onEscapeKeyDown:n(m,(()=>{j.isFocusedToastEscapeKeyDownRef.current||$(),j.isFocusedToastEscapeKeyDownRef.current=!1})),children:t.jsx(i.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":p?"open":"closed","data-swipe-direction":j.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:n(r.onKeyDown,(e=>{"Escape"===e.key&&(m?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,$()))})),onPointerDown:n(r.onPointerDown,(e=>{0===e.button&&(D.current={x:e.clientX,y:e.clientY})})),onPointerMove:n(r.onPointerMove,(e=>{if(!D.current)return;const t=e.clientX-D.current.x,r=e.clientY-D.current.y,o=Boolean(L.current),s=["left","right"].includes(j.swipeDirection),n=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,a=s?n(0,t):0,i=s?0:n(0,r),c="touch"===e.pointerType?10:2,d={x:a,y:i},u={originalEvent:e,delta:d};o?(L.current=d,J("toast.swipeMove",g,u,{discrete:!1})):Q(d,j.swipeDirection,c)?(L.current=d,J("toast.swipeStart",y,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(r)>c)&&(D.current=null)})),onPointerUp:n(r.onPointerUp,(e=>{const t=L.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),L.current=null,D.current=null,t){const r=e.currentTarget,o={originalEvent:e,delta:t};Q(t,j.swipeDirection,j.swipeThreshold)?J("toast.swipeEnd",T,o,{discrete:!0}):J("toast.swipeCancel",h,o,{discrete:!0}),r.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),j.viewport)})]}):null})),U=r=>{const{__scopeToast:o,children:s,...n}=r,i=P(M,o),[c,d]=e.useState(!1),[u,p]=e.useState(!1);return function(e=()=>{}){const t=a(e);f((()=>{let e=0,r=0;return e=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}}),[t])}((()=>d(!0))),e.useEffect((()=>{const e=window.setTimeout((()=>p(!0)),1e3);return()=>window.clearTimeout(e)}),[]),u?null:t.jsx(l,{asChild:!0,children:t.jsx(g,{...n,children:c&&t.jsxs(t.Fragment,{children:[i.label," ",s]})})})},X=e.forwardRef(((e,r)=>{const{__scopeToast:o,...s}=e;return t.jsx(i.div,{...s,ref:r})}));X.displayName="ToastTitle";var q=e.forwardRef(((e,r)=>{const{__scopeToast:o,...s}=e;return t.jsx(i.div,{...s,ref:r})}));q.displayName="ToastDescription";var B="ToastAction",H=e.forwardRef(((e,r)=>{const{altText:o,...s}=e;return o.trim()?t.jsx(z,{altText:o,asChild:!0,children:t.jsx(Y,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${B}\`. Expected non-empty \`string\`.`),null)}));H.displayName=B;var W="ToastClose",Y=e.forwardRef(((e,r)=>{const{__scopeToast:o,...s}=e,a=V(W,o);return t.jsx(z,{asChild:!0,children:t.jsx(i.button,{type:"button",...s,ref:r,onClick:n(e.onClick,a.onClose)})})}));Y.displayName=W;var z=e.forwardRef(((e,r)=>{const{__scopeToast:o,altText:s,...n}=e;return t.jsx(i.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:r})}));function G(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,o=""===e.dataset.radixToastAnnounceExclude;if(!r)if(o){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...G(e))}})),t}function J(e,t,r,{discrete:o}){const s=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),o?p(s,n):s.dispatchEvent(n)}var Q=(e,t,r=0)=>{const o=Math.abs(e.x),s=Math.abs(e.y),n=o>s;return"left"===t||"right"===t?n&&o>r:!n&&s>r};function Z(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ee(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var te=k,re=K,oe=X,se=q,ne=H,ae=Y;const ie=D,ce=e.forwardRef((({className:e,...r},o)=>t.jsx(te,{ref:o,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-0 sm:bottom-auto sm:right-0 sm:flex-col md:max-w-[420px]",e),...r})));ce.displayName=te.displayName;const de=x("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-green-500 text-white",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ue=e.forwardRef((({className:e,variant:r,...o},s)=>t.jsx(re,{ref:s,className:w(de({variant:r}),e),...o})));ue.displayName=re.displayName;e.forwardRef((({className:e,...r},o)=>t.jsx(ne,{ref:o,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}))).displayName=ne.displayName;const le=e.forwardRef((({className:e,...r},o)=>t.jsx(ae,{ref:o,className:w("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(m,{className:"w-4 h-4"})})));le.displayName=ae.displayName;const pe=e.forwardRef((({className:e,...r},o)=>t.jsx(oe,{ref:o,className:w("text-sm font-semibold",e),...r})));pe.displayName=oe.displayName;const fe=e.forwardRef((({className:e,...r},o)=>t.jsx(se,{ref:o,className:w("text-sm opacity-90",e),...r})));function me(){const{toasts:e}=h();return t.jsxs(ie,{children:[e.map((function({id:e,title:r,description:o,action:s,...n}){return t.jsxs(ue,{...n,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(pe,{children:r}),o&&t.jsx(fe,{children:o})]}),s,t.jsx(le,{})]},e)})),t.jsx(ce,{})]})}fe.displayName=se.displayName;export{me as T};
