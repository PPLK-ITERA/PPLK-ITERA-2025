import{r as a,W as s,j as e,a as i,q as n}from"./BN4mahUw.js";import{D as t}from"./BG9mQTkp.js";import{B as r,b as l}from"./C9SNI7Lr.js";import{D as c,f as d,a as o,b as m,c as h,d as j,g as x,e as p}from"./Dv9CY8F5.js";import{S as u,a as g}from"./BTyFzDVx.js";import{T as f,a as N,b as k,c as w,d as b,e as v}from"./DKR4ozu7.js";import{L as C}from"./LbMDqiOX.js";import{T as y}from"./D26bxgUo.js";import{D as S}from"./DreG4Wyd.js";import{S as T}from"./DJHoqluq.js";import{B as K}from"./B2HfcpMj.js";import{T as _}from"./DbFEz4Mt.js";import{u as D}from"./CZAlbrhw.js";import"./CJMs_wZr.js";import"./DzYQKQmg.js";import"./BcEt5uLR.js";import"./9DT7_WWb.js";import"./CaAnVNI9.js";import"./qCOJWC4N.js";import"./vYZPenXM.js";import"./B5M6mXom.js";import"./DRW2Qoss.js";import"./CwGkZtxF.js";import"./BDDMEwfj.js";import"./DFKOhk7w.js";import"./UCHaPPPh.js";import"./C-bxU4vb.js";import"./DW4_lDiG.js";const F=({})=>{const[i,n]=a.useState(!0),[t,l]=a.useState([]);a.useEffect((()=>{(async()=>{n(!0);const a=await fetch(route("dashboard.tugas.data.poster"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),s=await a.json();l(s),n(!1)})()}),[]);const{data:C,setData:y,put:S}=s({hari:"",_method:"put"}),T=()=>{S(route("dashboard.tugas.return-poster"))};return e.jsx(e.Fragment,{children:e.jsxs(u,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[e.jsxs(f,{className:"relative border",children:[e.jsx(N,{children:e.jsxs(k,{className:"hover:bg-current bg-current",children:[e.jsx(w,{className:"w-[50px] text-white",children:"No"}),e.jsx(w,{className:"text-white w-[400px]",children:"Link"}),e.jsx(w,{className:"text-white",children:"Status Pengembalian"}),e.jsx(w,{className:"text-white",children:"Aksi"})]})}),e.jsx(b,{className:"min-h-28 relative",children:i?e.jsx(k,{children:e.jsx(v,{colSpan:4,className:"text-center",children:"Loading..."})}):e.jsx(e.Fragment,{children:t.map(((a,s)=>e.jsxs(k,{children:[e.jsx(v,{className:"font-medium",children:s+1}),e.jsx(v,{children:null!==a.url_poster?e.jsx(e.Fragment,{children:e.jsx("img",{className:"line-clamp-1 text-wrap w-[50%] h-[50%]",src:a.url_poster})}):e.jsx("p",{children:"Belum ada poster"})}),e.jsx(v,{children:a.isReturn?"Dikembalikan":"Diterima"}),e.jsx(v,{className:"gap-1",children:e.jsxs(c,{children:[e.jsx(d,{asChild:!0,children:e.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>y("hari",a.hari),children:"Kembalikan Poster"})}),e.jsxs(o,{className:"sm:max-w-[425px]",children:[e.jsxs(m,{children:[e.jsx(h,{children:"Kembalikan Poster"}),e.jsx(j,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),e.jsxs(x,{children:[e.jsx(p,{asChild:!0,children:e.jsx(r,{variant:"outline",children:"Batalkan"})}),e.jsx(p,{asChild:!0,children:e.jsx(r,{onClick:T,children:"Lanjutkan"})})]})]})]})})]},s)))})})]}),e.jsx(g,{orientation:"horizontal"})]})})},E=({})=>{const[i,n]=a.useState(!0),[t,l]=a.useState([]);a.useEffect((()=>{(async()=>{n(!0);const a=await fetch(route("dashboard.tugas.data.kelompok"),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await a.json();l(s.response.data),n(!1)})()}),[]);const{data:S,setData:T,put:K}=s({id:0,catatan:"",_method:"put"}),_=()=>{K(route("dashboard.tugas.return"))};return e.jsx(e.Fragment,{children:e.jsxs(u,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[e.jsxs(f,{className:"relative border",children:[e.jsx(N,{children:e.jsxs(k,{className:"hover:bg-current bg-current",children:[e.jsx(w,{className:"w-[50px] text-white",children:"No"}),e.jsx(w,{className:"text-white w-[200px]",children:"Nama Tugas"}),e.jsx(w,{className:"text-white w-[400px]",children:"Link"}),e.jsx(w,{className:"text-white",children:"Status Pengembalian"}),e.jsx(w,{className:"text-white",children:"Aksi"})]})}),e.jsx(b,{className:"min-h-28 relative",children:i?e.jsx(k,{children:e.jsx(v,{colSpan:4,className:"text-center",children:"Loading..."})}):e.jsx(e.Fragment,{children:t?e.jsx(e.Fragment,{children:t.map(((a,s)=>e.jsxs(k,{children:[e.jsx(v,{className:"font-medium",children:s+1}),e.jsx(v,{children:e.jsx("p",{className:"line-clamp-1",children:a.judul})}),e.jsx(v,{children:e.jsx("a",{className:"line-clamp-1 text-wrap",href:a.pengumpulan_tugas[s].jawaban,target:"_blank",children:a.pengumpulan_tugas[s].jawaban})}),e.jsx(v,{children:a.pengumpulan_tugas[s].isReturn?"Dikembalikan":"Diterima"}),e.jsxs(v,{className:"flex gap-1",children:[e.jsx("a",{href:`${a.pengumpulan_tugas[s].jawaban}`,target:"_blank",children:e.jsx(r,{size:"sm",children:"Lihat Tugas"})}),e.jsxs(c,{children:[e.jsx(d,{asChild:!0,children:e.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>T("id",a.pengumpulan_tugas[s].id),children:"Kembalikan Tugas"})}),e.jsxs(o,{className:"sm:max-w-[425px]",children:[e.jsxs(m,{children:[e.jsx(h,{children:"Kembalikan Tugas"}),e.jsx(j,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(C,{htmlFor:"catatan",className:"text-left",children:"Catatan"}),e.jsx(y,{id:"catatan",onChange:a=>T("catatan",a.target.value),placeholder:"Berikan catatan pengembalian tugas",className:"mt-1"})]})}),e.jsxs(x,{children:[e.jsx(p,{asChild:!0,children:e.jsx(r,{variant:"outline",children:"Batalkan"})}),e.jsx(p,{asChild:!0,children:e.jsx(r,{onClick:_,children:"Lanjutkan"})})]})]})]})]})]},s)))}):null})})]}),e.jsx(g,{orientation:"horizontal"})]})})},L=({title:a,description:s,isOpen:i,onClose:n,children:t})=>e.jsx(c,{open:i,onOpenChange:a=>{a||n()},children:e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a}),e.jsx(j,{children:s})]}),e.jsx("div",{children:t})]})}),B=({isOpen:s,onClose:i,onConfirm:n,loading:t})=>{const[l,c]=a.useState(!1);return a.useEffect((()=>{c(!0)}),[]),l?e.jsx(L,{title:"Are you sure?",description:"This action cannot be undone.",isOpen:s,onClose:i,children:e.jsxs("div",{className:"flex items-center justify-end w-full pt-6 space-x-2",children:[e.jsx(r,{disabled:t,variant:"outline",onClick:i,children:"Cancel"}),e.jsx(r,{disabled:t,variant:"destructive",onClick:n,children:"Continue"})]})}):null},z=({data:s})=>{const[n,t]=a.useState(!1),[r,c]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(B,{isOpen:r,onClose:()=>c(!1),onConfirm:async()=>{},loading:n}),e.jsx("div",{className:"flex gap-1 p-2",children:e.jsx(i,{href:`/dashboard/mading/user/${s.id}`,className:`${l({size:"sm"})}`,children:"Lihat Semua Tugas"})})]})},A=[{id:"no",header:"No",cell:({row:a})=>a.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:a})=>a.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:a})=>a.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:a})=>a.original.user.email},{id:"actions",header:"Aksi",cell:({row:a})=>e.jsx(z,{data:a.original})}],M=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-between"}),e.jsx(T,{}),e.jsx(S,{searchKey:"Nama, Nim, Email",columns:A,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok",description:"Gunakan sistem informasi ini untuk melihat data kelompok!"})]}),O=[{title:"Dashboard",link:"/dashboard"},{title:"Mading",link:"/dashboard/mading"}];function P({auth:s}){const{toast:i}=D(),{flash:r}=n().props;return a.useEffect((()=>{r.response&&(200===r.response.status?i({title:"Berhasil",description:r.response.message,variant:"default"}):i({title:"Gagal",description:r.response.message,variant:"destructive"}),window.location.reload())}),[r,i]),e.jsxs(e.Fragment,{children:[e.jsxs(t,{user:s.user,children:[e.jsx(K,{items:O}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Mading"}),e.jsx(M,{}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Tugas Kelompok"}),e.jsx(E,{}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cover Mading"}),e.jsx(F,{})]}),e.jsx(_,{})]})}export{P as default};
