import{r}from"./ONi90q4Z.js";function n(n,e,t){var u=this,c=r.useRef(null),i=r.useRef(0),f=r.useRef(null),a=r.useRef([]),o=r.useRef(),l=r.useRef(),s=r.useRef(n),m=r.useRef(!0);s.current=n;var v="undefined"!=typeof window,d=!e&&0!==e&&v;if("function"!=typeof n)throw new TypeError("Expected a function");e=+e||0;var p=!!(t=t||{}).leading,R=!("trailing"in t)||!!t.trailing,w="maxWait"in t,h="debounceOnServer"in t&&!!t.debounceOnServer,x=w?Math.max(+t.maxWait||0,e):null;r.useEffect((function(){return m.current=!0,function(){m.current=!1}}),[]);var g=r.useMemo((function(){var r=function(r){var n=a.current,e=o.current;return a.current=o.current=null,i.current=r,l.current=s.current.apply(e,n)},n=function(r,n){d&&cancelAnimationFrame(f.current),f.current=d?requestAnimationFrame(r):setTimeout(r,n)},t=function(r){if(!m.current)return!1;var n=r-c.current;return!c.current||n>=e||n<0||w&&r-i.current>=x},g=function(n){return f.current=null,R&&a.current?r(n):(a.current=o.current=null,l.current)},y=function r(){var u=Date.now();if(t(u))return g(u);if(m.current){var f=e-(u-c.current),a=w?Math.min(f,x-(u-i.current)):f;n(r,a)}},A=function(){if(v||h){var s=Date.now(),d=t(s);if(a.current=[].slice.call(arguments),o.current=u,c.current=s,d){if(!f.current&&m.current)return i.current=c.current,n(y,e),p?r(c.current):l.current;if(w)return n(y,e),r(c.current)}return f.current||n(y,e),l.current}};return A.cancel=function(){f.current&&(d?cancelAnimationFrame(f.current):clearTimeout(f.current)),i.current=0,a.current=c.current=o.current=f.current=null},A.isPending=function(){return!!f.current},A.flush=function(){return f.current?g(Date.now()):l.current},A}),[p,w,e,x,R,d,v,h]);return g}export{n as c};
