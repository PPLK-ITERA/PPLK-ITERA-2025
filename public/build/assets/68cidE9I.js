import{r as e,j as t,b as r}from"./CyvCi0KX.js";import{e as o,c as n,B as s,P as a,u as i,b as c,f as d,a as u,R as l,d as p,g as f,h as v,X as m}from"./CL3jC1TN.js";import{u as w,c as x}from"./B8WqkyxV.js";import{V as y}from"./C01kGXUN.js";import{c as g}from"./jGzR9CvW.js";import{u as h}from"./CZZswHrk.js";var T="ToastProvider",[E,b,j]=o("Toast"),[N,R]=n("Toast",[j]),[C,P]=N(T),D=r=>{const{__scopeToast:o,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:c}=r,[d,u]=e.useState(null),[l,p]=e.useState(0),f=e.useRef(!1),v=e.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${T}\`. Expected non-empty \`string\`.`),t.jsx(E.Provider,{scope:o,children:t.jsx(C,{scope:o,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:l,viewport:d,onViewportChange:u,onToastAdd:e.useCallback((()=>p((e=>e+1))),[]),onToastRemove:e.useCallback((()=>p((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:v,children:c})})};D.displayName=T;var L="ToastViewport",S=["F8"],F="toast.viewportPause",_="toast.viewportResume",k=e.forwardRef(((r,o)=>{const{__scopeToast:n,hotkey:i=S,label:c="Notifications ({hotkey})",...d}=r,u=P(L,n),l=b(n),p=e.useRef(null),f=e.useRef(null),v=e.useRef(null),m=e.useRef(null),x=w(o,m,u.onViewportChange),y=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=u.toastCount>0;e.useEffect((()=>{const e=e=>{var t;i.every((t=>e[t]||e.code===t))&&(null==(t=m.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[i]),e.useEffect((()=>{const e=p.current,t=m.current;if(g&&e&&t){const r=()=>{if(!u.isClosePausedRef.current){const e=new CustomEvent(F);t.dispatchEvent(e),u.isClosePausedRef.current=!0}},o=()=>{if(u.isClosePausedRef.current){const e=new CustomEvent(_);t.dispatchEvent(e),u.isClosePausedRef.current=!1}},n=t=>{!e.contains(t.relatedTarget)&&o()},s=()=>{e.contains(document.activeElement)||o()};return e.addEventListener("focusin",r),e.addEventListener("focusout",n),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",s),window.addEventListener("blur",r),window.addEventListener("focus",o),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",n),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",r),window.removeEventListener("focus",o)}}}),[g,u.isClosePausedRef]);const h=e.useCallback((({tabbingDirection:e})=>{const t=l().map((t=>{const r=t.ref.current,o=[r,...Z(r)];return"forwards"===e?o:o.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[l]);return e.useEffect((()=>{const e=m.current;if(e){const t=t=>{var r,o,n;const s=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!s){const s=document.activeElement,a=t.shiftKey;if(t.target===e&&a)return void(null==(r=f.current)||r.focus());const i=h({tabbingDirection:a?"backwards":"forwards"}),c=i.findIndex((e=>e===s));ee(i.slice(c+1))?t.preventDefault():a?null==(o=f.current)||o.focus():null==(n=v.current)||n.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[l,h]),t.jsxs(s,{ref:p,role:"region","aria-label":c.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(A,{ref:f,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"forwards"}))}}),t.jsx(E.Slot,{scope:n,children:t.jsx(a.ol,{tabIndex:-1,...d,ref:x})}),g&&t.jsx(A,{ref:v,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"backwards"}))}})]})}));k.displayName=L;var I="ToastFocusProxy",A=e.forwardRef(((e,r)=>{const{__scopeToast:o,onFocusFromOutsideViewport:n,...s}=e,a=P(I,o);return t.jsx(y,{"aria-hidden":!0,tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(r))&&n()}})}));A.displayName=I;var M="Toast",K=e.forwardRef(((e,r)=>{const{forceMount:o,open:n,defaultOpen:s,onOpenChange:a,...l}=e,[p=!0,f]=i({prop:n,defaultProp:s,onChange:a});return t.jsx(c,{present:o||p,children:t.jsx($,{open:p,...l,ref:r,onClose:()=>f(!1),onPause:d(e.onPause),onResume:d(e.onResume),onSwipeStart:u(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:u(e.onSwipeMove,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:u(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:u(e.onSwipeEnd,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),f(!1)}))})})}));K.displayName=M;var[O,V]=N(M,{onClose(){}}),$=e.forwardRef(((o,n)=>{const{__scopeToast:s,type:i="foreground",duration:c,open:p,onClose:f,onEscapeKeyDown:v,onPause:m,onResume:x,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:h,onSwipeEnd:T,...b}=o,j=P(M,s),[N,R]=e.useState(null),C=w(n,(e=>R(e))),D=e.useRef(null),L=e.useRef(null),S=c||j.duration,k=e.useRef(0),I=e.useRef(S),A=e.useRef(0),{onToastAdd:K,onToastRemove:V}=j,$=d((()=>{var e;(null==N?void 0:N.contains(document.activeElement))&&(null==(e=j.viewport)||e.focus()),f()})),X=e.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(A.current),k.current=(new Date).getTime(),A.current=window.setTimeout($,e))}),[$]);e.useEffect((()=>{const e=j.viewport;if(e){const t=()=>{X(I.current),null==x||x()},r=()=>{const e=(new Date).getTime()-k.current;I.current=I.current-e,window.clearTimeout(A.current),null==m||m()};return e.addEventListener(F,r),e.addEventListener(_,t),()=>{e.removeEventListener(F,r),e.removeEventListener(_,t)}}}),[j.viewport,S,m,x,X]),e.useEffect((()=>{p&&!j.isClosePausedRef.current&&X(S)}),[p,S,j.isClosePausedRef,X]),e.useEffect((()=>(K(),()=>V())),[K,V]);const q=e.useMemo((()=>N?G(N):null),[N]);return j.viewport?t.jsxs(t.Fragment,{children:[q&&t.jsx(U,{__scopeToast:s,role:"status","aria-live":"foreground"===i?"assertive":"polite","aria-atomic":!0,children:q}),t.jsx(O,{scope:s,onClose:$,children:r.createPortal(t.jsx(E.ItemSlot,{scope:s,children:t.jsx(l,{asChild:!0,onEscapeKeyDown:u(v,(()=>{j.isFocusedToastEscapeKeyDownRef.current||$(),j.isFocusedToastEscapeKeyDownRef.current=!1})),children:t.jsx(a.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":p?"open":"closed","data-swipe-direction":j.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...o.style},onKeyDown:u(o.onKeyDown,(e=>{"Escape"===e.key&&(null==v||v(e.nativeEvent),e.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,$()))})),onPointerDown:u(o.onPointerDown,(e=>{0===e.button&&(D.current={x:e.clientX,y:e.clientY})})),onPointerMove:u(o.onPointerMove,(e=>{if(!D.current)return;const t=e.clientX-D.current.x,r=e.clientY-D.current.y,o=Boolean(L.current),n=["left","right"].includes(j.swipeDirection),s=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,a=n?s(0,t):0,i=n?0:s(0,r),c="touch"===e.pointerType?10:2,d={x:a,y:i},u={originalEvent:e,delta:d};o?(L.current=d,J("toast.swipeMove",g,u,{discrete:!1})):Q(d,j.swipeDirection,c)?(L.current=d,J("toast.swipeStart",y,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(r)>c)&&(D.current=null)})),onPointerUp:u(o.onPointerUp,(e=>{const t=L.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),L.current=null,D.current=null,t){const r=e.currentTarget,o={originalEvent:e,delta:t};Q(t,j.swipeDirection,j.swipeThreshold)?J("toast.swipeEnd",T,o,{discrete:!0}):J("toast.swipeCancel",h,o,{discrete:!0}),r.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),j.viewport)})]}):null})),U=r=>{const{__scopeToast:o,children:n,...s}=r,a=P(M,o),[i,c]=e.useState(!1),[u,l]=e.useState(!1);return function(e=()=>{}){const t=d(e);f((()=>{let e=0,r=0;return e=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}}),[t])}((()=>c(!0))),e.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),u?null:t.jsx(p,{asChild:!0,children:t.jsx(y,{...s,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",n]})})})},X=e.forwardRef(((e,r)=>{const{__scopeToast:o,...n}=e;return t.jsx(a.div,{...n,ref:r})}));X.displayName="ToastTitle";var q=e.forwardRef(((e,r)=>{const{__scopeToast:o,...n}=e;return t.jsx(a.div,{...n,ref:r})}));q.displayName="ToastDescription";var B="ToastAction",H=e.forwardRef(((e,r)=>{const{altText:o,...n}=e;return o.trim()?t.jsx(z,{altText:o,asChild:!0,children:t.jsx(Y,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${B}\`. Expected non-empty \`string\`.`),null)}));H.displayName=B;var W="ToastClose",Y=e.forwardRef(((e,r)=>{const{__scopeToast:o,...n}=e,s=V(W,o);return t.jsx(z,{asChild:!0,children:t.jsx(a.button,{type:"button",...n,ref:r,onClick:u(e.onClick,s.onClose)})})}));Y.displayName=W;var z=e.forwardRef(((e,r)=>{const{__scopeToast:o,altText:n,...s}=e;return t.jsx(a.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})}));function G(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,o=""===e.dataset.radixToastAnnounceExclude;if(!r)if(o){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...G(e))}})),t}function J(e,t,r,{discrete:o}){const n=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),o?v(n,s):n.dispatchEvent(s)}var Q=(e,t,r=0)=>{const o=Math.abs(e.x),n=Math.abs(e.y),s=o>n;return"left"===t||"right"===t?s&&o>r:!s&&n>r};function Z(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ee(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var te=k,re=K,oe=X,ne=q,se=H,ae=Y;const ie=D,ce=e.forwardRef((({className:e,...r},o)=>t.jsx(te,{ref:o,className:g("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r})));ce.displayName=te.displayName;const de=x("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ue=e.forwardRef((({className:e,variant:r,...o},n)=>t.jsx(re,{ref:n,className:g(de({variant:r}),e),...o})));ue.displayName=re.displayName;e.forwardRef((({className:e,...r},o)=>t.jsx(se,{ref:o,className:g("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}))).displayName=se.displayName;const le=e.forwardRef((({className:e,...r},o)=>t.jsx(ae,{ref:o,className:g("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(m,{className:"h-4 w-4"})})));le.displayName=ae.displayName;const pe=e.forwardRef((({className:e,...r},o)=>t.jsx(oe,{ref:o,className:g("text-sm font-semibold",e),...r})));pe.displayName=oe.displayName;const fe=e.forwardRef((({className:e,...r},o)=>t.jsx(ne,{ref:o,className:g("text-sm opacity-90",e),...r})));function ve(){const{toasts:e}=h();return t.jsxs(ie,{children:[e.map((function({id:e,title:r,description:o,action:n,...s}){return t.jsxs(ue,{...s,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(pe,{children:r}),o&&t.jsx(fe,{children:o})]}),n,t.jsx(le,{})]},e)})),t.jsx(ce,{})]})}fe.displayName=ne.displayName;export{ve as T};
