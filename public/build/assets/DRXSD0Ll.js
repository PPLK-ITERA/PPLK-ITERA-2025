import{r as e,j as a}from"./BN4mahUw.js";import{N as s,M as t}from"./ClGgdnkG.js";import{C as r}from"./DfpJ-Nk3.js";import"./BcEt5uLR.js";import"./CaAnVNI9.js";import"./qCOJWC4N.js";import"./DzYQKQmg.js";import"./CJMs_wZr.js";import"./vYZPenXM.js";import"./De0WodCH.js";const n={id:0,nomor:0,tipe:"mendatar",pertanyaan:"",jawaban:""},l=()=>{const[l,d]=e.useState([]),[i,o]=e.useState(n),[c,m]=e.useState(!1),[p,x]=e.useState(""),h=async()=>{const e=await fetch("/api/tesla/"),a=await e.json();d(a.data||[])};e.useEffect((()=>{h()}),[]);const j=e=>{o({...i,[e.target.name]:e.target.value})};return a.jsxs(a.Fragment,{children:[a.jsx(s,{isFixed:!0}),a.jsxs(t,{className:"py-8 mt-20",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-jaffa-700",children:"Admin TTS Tesla"}),a.jsxs(r,{className:"p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:c?"Edit Soal":"Tambah Soal"}),a.jsxs("form",{onSubmit:async e=>{var a;e.preventDefault(),x("");const s=c?"PUT":"POST",t=c?`/api/tesla/${i.id}`:"/api/tesla/",r={...i,nomor:Number(i.nomor)},l=await fetch(t,{method:s,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":(null==(a=document.querySelector('meta[name="csrf-token"]'))?void 0:a.content)||""},body:JSON.stringify(r)}),d=await l.json();l.ok?(x(d.message),o(n),m(!1),h()):x(d.message||"Gagal menyimpan data")},className:"flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mr-2",children:"Tipe:"}),a.jsxs("select",{name:"tipe",value:i.tipe,onChange:j,className:"border rounded px-2 py-1",children:[a.jsx("option",{value:"mendatar",children:"Mendatar"}),a.jsx("option",{value:"menurun",children:"Menurun"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mr-2",children:"Nomor:"}),a.jsx("input",{name:"nomor",type:"number",value:i.nomor,onChange:j,className:"border rounded px-2 py-1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mr-2",children:"Pertanyaan:"}),a.jsx("input",{name:"pertanyaan",type:"text",value:i.pertanyaan,onChange:j,className:"border rounded px-2 py-1 w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mr-2",children:"Jawaban:"}),a.jsx("input",{name:"jawaban",type:"text",value:i.jawaban,onChange:j,className:"border rounded px-2 py-1 w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("button",{type:"submit",className:"bg-jaffa-500 hover:bg-jaffa-600 text-white px-4 py-2 rounded",children:c?"Update":"Tambah"}),c&&a.jsx("button",{type:"button",className:"ml-2 px-4 py-2 rounded border",onClick:()=>{o(n),m(!1)},children:"Batal"})]}),p&&a.jsx("div",{className:"text-green-600",children:p})]})]}),a.jsxs(r,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Daftar Soal"}),a.jsxs("table",{className:"w-full border",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border px-2 py-1",children:"ID"}),a.jsx("th",{className:"border px-2 py-1",children:"Nomor"}),a.jsx("th",{className:"border px-2 py-1",children:"Tipe"}),a.jsx("th",{className:"border px-2 py-1",children:"Pertanyaan"}),a.jsx("th",{className:"border px-2 py-1",children:"Jawaban"}),a.jsx("th",{className:"border px-2 py-1",children:"Aksi"})]})}),a.jsx("tbody",{children:l.map((e=>a.jsxs("tr",{children:[a.jsx("td",{className:"border px-2 py-1",children:e.id}),a.jsx("td",{className:"border px-2 py-1",children:e.nomor}),a.jsx("td",{className:"border px-2 py-1",children:e.tipe}),a.jsx("td",{className:"border px-2 py-1",children:e.pertanyaan}),a.jsx("td",{className:"border px-2 py-1",children:e.jawaban}),a.jsxs("td",{className:"border px-2 py-1",children:[a.jsx("button",{className:"text-blue-600 mr-2",onClick:()=>(e=>{o(e),m(!0)})(e),children:"Edit"}),a.jsx("button",{className:"text-red-600",onClick:()=>(async e=>{var a;confirm("Yakin hapus soal ini?")&&(await fetch(`/api/tesla/${e}`,{method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":(null==(a=document.querySelector('meta[name="csrf-token"]'))?void 0:a.content)||""}}),h())})(e.id),children:"Hapus"})]})]},e.id)))})]})]})]})]})};export{l as default};
