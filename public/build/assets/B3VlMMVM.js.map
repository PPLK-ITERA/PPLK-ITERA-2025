{"version":3,"file":"B3VlMMVM.js","sources":["../../../resources/js/Components/dashboard/dokumentasi/dokumentasi-day.tsx","../../../resources/js/Pages/Dashboard/dokumentasi/page.tsx"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nimport { Label } from \"@/Components/ui/label\";\n\nexport default function DokumentasiDay({ data, foto, user }) {\n\tconst handleDelete = async () => {\n    const confirmed = confirm(\"Yakin ingin menghapus data?\");\n    if (!confirmed) return;\n\n    try {\n      await axios.delete(`/dashboard/dokumentasi/${data.id}`);\n\n      // if (onDeleted) window.location.reload(); // bisa digunakan untuk reload list\n    } catch (error) {\n      console.error(\"Gagal menghapus:\", error);\n    }\n\n    window.location.reload();\n  };\n\n\n\treturn (\n\t\t\t<div className=\"lg:m-0 m-2 font-inter bg-gray-200 rounded-lg\">\n\t\t\t\t<div className=\"bg-white rounded-lg\">\n\t\t\t\t\t<div className=\"p-3 bg-[#e58025] rounded-t-lg\">\n\t\t\t\t\t\t<Label htmlFor=\"nama-maba\" className=\"text-left text-white font-bold\">\n\t\t\t\t      Hari Ke-{data.hari_ke}\n\t\t\t\t    </Label>\n\t\t\t\t  </div>\n\t\t\t\t  <div className=\"p-3 min-h-[220]\">\n\t\t\t\t  \t<p className=\"my-2 font-bold\">{data.judul}</p>\n\t\t\t\t  \t<p className=\"my-2\">{data.deskripsi}</p>\n\t\t\t\t  \t{foto[data.hari_ke] !== undefined ? <p className=\"mt-[2] text-sm text-gray-500\">{foto[data.hari_ke]} foto</p> : <br className=\"leading-3\" />}\n\t\t\t\t  \t<p className=\"text-sm text-blue-500\"><a href=\"data.link_gdrive\" >Link Google Drive</a></p>\n\t\t\t\t  \t<div className=\"flex my-2 w-[50px] h-[50px] border border-[#C2C2C2] rounded-lg overflow-hidden\">\n\t\t\t\t  \t\t<img\n\t\t\t\t  \t\t\tsrc={data.link_gdrive}\n\t\t\t\t  \t\t\tclassName=\"w-full h-full bg-center bg-cover\"\n\t\t\t\t  \t\t/>\n\t\t\t\t  \t</div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t\t{user.role_id === 3 ? \n\t\t\t\t\t<div className=\"px-3 py-1 flex\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`dokumentasi/${data.id}`}\n\t\t\t\t\t\t\tclassName=\"text-sky-600 border border-current p-1 flex-1 text-center rounded-sm\">\n\t\t\t\t\t\t\tDetail\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`dokumentasi/${data.id}/edit`}\n\t\t\t\t\t\t\tclassName=\"text-yellow-400 border border-current p-1 flex-1 text-center rounded-sm\">\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t\tclassName=\"text-destructive border border-current p-1 flex-1 text-center rounded-sm\">\n\t\t\t\t\t\t\thapus\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t:\n\n\t\t\t\t\t<div className=\"px-3 py-1\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`dokumentasi/view/${data.id}`}\n\t\t\t\t\t\t\tclassName=\"text-sky-600 border border-current p-1 text-center rounded-sm\">\n\t\t\t\t\t\t\tDetail\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t);\n}","import React, { useState, useEffect } from \"react\";\n\nimport { useForm, usePage } from \"@inertiajs/react\";\n\nimport { IconPlus } from \"@tabler/icons-react\";\n\nimport { Breadcrumbs } from \"@/Components/ui/breadcrumbs\";\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\nimport DokumentasiDay from \"@/Components/dashboard/dokumentasi/dokumentasi-day\";\nimport { Button } from \"@/Components/ui/button\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogFooter,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/Components/ui/dialog\";\nimport { Input } from \"@/Components/ui/input\";\nimport { Label } from \"@/Components/ui/label\";\nimport { Textarea } from \"@/Components/ui/textarea\";\n\nconst breadcrumbItems = [\n    { title: \"Ellysion Panel\", link: \"/dashboard\" },\n    { title: \"dokumentasi\", link: \"/dashboard/dokumentasi\" },\n];\n\n// Tambahkan tipe yang benar untuk notification state\ntype NotificationType = 'success' | 'error' | null;\ntype NotificationState = {\n    message: string | null;\n    type: NotificationType;\n};\n\nexport default function Page({ auth, dokumentasi, foto_dokumentasi }) {\n    const { props } = usePage();\n    // Perbaiki inisialisasi notification agar sesuai tipe\n    const [notification, setNotification] = useState<NotificationState>({ message: null, type: null });\n    const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n    useEffect(() => {\n        // Periksa pesan sukses dan error dari props Inertia\n        if (props.success) {\n            setNotification({ message: props.success as string, type: 'success' });\n        } else if (props.error) {\n            setNotification({ message: props.error as string, type: 'error' });\n        }\n\n        // Mengatur timer untuk menghapus notifikasi\n        if (props.success || props.error) {\n            const timer = setTimeout(() => {\n                setNotification({ message: null, type: null });\n            }, 5000); // Pesan hilang setelah 5 detik\n\n            return () => clearTimeout(timer); // Membersihkan timer\n        }\n    }, [props.success, props.error]);\n\n    const { data, setData, post, processing, errors } = useForm({\n        hari_ke: 1,\n        judul: \"\",\n        deskripsi: \"\",\n        link_gdrive: \"\",\n    });\n\n    const addDokumentasi = () => {\n        post(route(\"dashboard.dokumentasi.store\"));\n    };\n\n    return (\n        <>\n            <DashboardLayout user={auth.user}>\n                <Breadcrumbs items={breadcrumbItems} />\n                <h2 className=\"text-3xl font-inter font-bold tracking-tight\">Dokumentasi Kegiatan</h2>\n\n                <Dialog>\n                    <DialogTrigger>\n                        <Button className=\"gap-2\">\n                            <IconPlus size={20} className=\"-ml-2\" /> Tambah Dokumentasi\n                        </Button>\n                    </DialogTrigger>\n\n                    <DialogContent className=\"font-inter sm:max-w-[425px]\">\n                        <DialogHeader>\n                            <DialogTitle>Tambah Dokumentasi</DialogTitle>\n                            <DialogDescription>\n                                Tambahkan dokumentasi kegiatan berdasarkan hari.\n                            </DialogDescription>\n                        </DialogHeader>\n\n                        <div className=\"grid gap-4 py-4\">\n                            <div className=\"flex flex-col\">\n                                <Label htmlFor=\"hari_ke\" className=\"text-left\">\n                                    Hari Ke\n                                </Label>\n                                <Input\n                                    id=\"hari_ke\"\n                                    type=\"number\"\n                                    value={data.hari_ke}\n                                    onChange={(e) => setData(\"hari_ke\", Number(e.target.value))}\n                                    placeholder=\"Contoh: 1\"\n                                    className=\"mt-1\"\n                                    min=\"0\"\n                                />\n                            </div>\n\n                            <div className=\"flex flex-col\">\n                                <Label htmlFor=\"judul\" className=\"text-left\">\n                                    Judul\n                                </Label>\n                                <Input\n                                    id=\"judul\"\n                                    value={data.judul}\n                                    onChange={(e) => setData(\"judul\", e.target.value)}\n                                    placeholder=\"Judul dokumentasi\"\n                                    className=\"mt-1\"\n                                />\n                            </div>\n\n                            <div className=\"flex flex-col\">\n                                <Label htmlFor=\"deskripsi\" className=\"text-left\">\n                                    Deskripsi\n                                </Label>\n                                <Textarea\n                                    id=\"deskripsi\"\n                                    value={data.deskripsi}\n                                    onChange={(e) => setData(\"deskripsi\", e.target.value)}\n                                    placeholder=\"Deskripsi kegiatan secara rinci\"\n                                    className=\"mt-1\"\n                                />\n                            </div>\n\n                            <div className=\"flex flex-col\">\n                                <Label htmlFor=\"link_gdrive\" className=\"text-left\">\n                                    Link Google Drive\n                                </Label>\n                                <Input\n                                    id=\"link_gdrive\"\n                                    type=\"url\"\n                                    value={data.link_gdrive}\n                                    onChange={(e) => setData(\"link_gdrive\", e.target.value)}\n                                    placeholder=\"https://drive.google.com/...\"\n                                    className=\"mt-1\"\n                                />\n                            </div>\n                        </div>\n\n                        <DialogFooter>\n                            <Button variant=\"outline\">Batalkan</Button>\n                            <Button\n                                type=\"submit\"\n                                onClick={() => {\n                                    addDokumentasi();\n                                    window.location.reload();\n                                }}\n                                disabled={processing}\n                            >\n                                Tambah\n                            </Button>\n                        </DialogFooter>\n\n                        {processing && <p>Mengirim data...</p>}\n                        {errors && (\n                            <ul className=\"text-red-500 text-sm mt-2\">\n                                {Object.keys(errors).map((key) => (\n                                    <li key={key}>{errors[key]}</li>\n                                ))}\n                            </ul>\n                        )}\n                    </DialogContent>\n                </Dialog>\n\n\n                <div className=\"lg:grid-cols-3 grid grid-cols-1 gap-4\">\n                    {dokumentasi.map((item, index) => {\n                        return (\n                            // <div>\n                            // <a href=\"\">\n                            <DokumentasiDay\n                                data={item}\n                                foto={foto_dokumentasi}\n                                user={auth.user}\n                            />\n                            // </a>\n                            // </div>\n                        );\n                    })}\n                </div>\n\n                {/* Komponen Notifikasi */}\n                {notification.message && (\n                    <div\n                        className={`\n              absolute top-5 right-5 z-50 px-4 py-3 rounded\n              ${notification.type === 'success' ? 'bg-green-100 border border-green-400 text-green-700' : 'bg-red-100 border border-red-400 text-red-700'}\n            `}\n                    >\n                        <span className=\"block sm:inline\">{notification.message}</span>\n                    </div>\n                )}\n\n            </DashboardLayout>\n        </>\n    );\n}\n\n/*/*<img*/\n// https://drive.google.com/drive/folders/1m_h8yGiMbk0c5pRc-eELTqA0--3WgmrM?usp=sharing\n// src={`https://docs.google.com/viewer?url=https://drive.google.com/file/d/1qB6O-lN36sowdVgDKeqjB7_G1OhyCsjh/view&embedded=true`}\n// src={`https://drive.google.com/thumbnail?id=1m_h8yGiMbk0c5pRc-eELTqA0--3WgmrM`}\n// src={`https://drive.google.com/thumbnail?id=1qB6O-lN36sowdVgDKeqjB7_G1OhyCsjh`}\n// width=\"640\"\n// height=\"480\"\n// allow=\"autoplay\"\n// />\n"],"names":["DokumentasiDay","data","foto","user","jsxs","className","children","jsx","Label","htmlFor","hari_ke","judul","deskripsi","href","src","link_gdrive","role_id","id","onClick","async","confirm","axios","delete","error","console","window","location","reload","breadcrumbItems","title","link","Page","auth","dokumentasi","foto_dokumentasi","props","usePage","notification","setNotification","useState","message","type","isDialogOpen","setIsDialogOpen","useEffect","success","timer","setTimeout","clearTimeout","setData","post","processing","errors","useForm","Fragment","DashboardLayout","Breadcrumbs","items","Dialog","DialogTrigger","Button","IconPlus","size","DialogContent","DialogHeader","DialogTitle","DialogDescription","Input","value","onChange","e","Number","target","placeholder","min","Textarea","DialogFooter","variant","route","disabled","Object","keys","map","key","item","index"],"mappings":"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"}