import{W as e,j as s,a,r as l}from"./Lul_5bI4.js";import{D as i}from"./DtxPhVx8.js";import{A as r,a as o,b as t,c as d,d as n,e as m,f as c,g as h,h as p}from"./DSTmn5nw.js";import{b as x,B as j}from"./CJFDvaqA.js";import{D as u,f as k,a as f,b as g,c as b,d as v,g as N,e as w}from"./BS0ec4tp.js";import{p as y,a as _,b as C,c as K,P as D}from"./Dymcy-g6.js";import{D as A}from"./B8QnHvKf.js";import{S as E}from"./CsjjR4oV.js";import{B as F}from"./BYJuzLOW.js";import{I as P}from"./Bu9n_LpU.js";import{L as S}from"./BcuZPjKv.js";import{T as B}from"./CwAIBn6j.js";import{u as I}from"./t9-qaB3t.js";import{u as M}from"./B7FGGoWj.js";import{l as T}from"./BZtDV8eV.js";import{I as $}from"./z2JnkZ_v.js";import"./DJ-3qZwn.js";import"./B5C3D_yp.js";import"./BiZWUTU3.js";import"./k_n3SVC3.js";import"./FBkMvcNB.js";import"./Iw5Bc_ld.js";import"./2t9aERIc.js";import"./BntXGprQ.js";import"./D4K_dEqQ.js";import"./CNBVOblj.js";import"./C0doQ02M.js";import"./VMmkdYPc.js";import"./DwSdZzT8.js";import"./DO1OtrKE.js";import"./Cd60fUOH.js";import"./BuDFGf0h.js";const z=({data:l})=>{const{data:i,setData:u,put:k}=e({id:l.id,_method:"put"});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex gap-1 p-2",children:[s.jsx(a,{href:`/dashboard/user/edit/${l.id}`,className:`${x({size:"sm"})}`,children:"Edit"}),s.jsxs(r,{children:[s.jsx(o,{asChild:!0,children:s.jsx(j,{variant:"outline",size:"sm",children:"Set Ketua Kelompok"})}),s.jsxs(t,{children:[s.jsxs(d,{children:[s.jsx(n,{children:"Apakah kamu yakin?"}),s.jsx(m,{children:"Kamu akan mengubah status user ini menjadi ketua kelompok."})]}),s.jsxs(c,{children:[s.jsx(h,{children:"Cancel"}),s.jsx(p,{onClick:()=>{k(route("dashboard.kelompok.set-ketua"))},children:"Continue"})]})]})]})]})})},L=({dataPilar:e})=>{const a=({textColor:e,gradient:a,angka:l,hasil:i})=>s.jsxs("div",{className:"font-montserrat mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("p",{className:`${e} text-lg font-bold`,children:["Pilar ",l," :"," "+(1===l?"Work Hard":2===l?"Sharing is Caring":3===l?"Equity":"Refinement")]}),s.jsxs("p",{className:`${e} self-end font-medium `,children:[i,"/",10]})]}),"Belum memiliki Pilar",s.jsx("div",{className:"text-xl font-bold",children:s.jsx(D,{className:a,value:100*i/10})})]});return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs w-full text-center",children:e.user.pilar.nama}),s.jsxs(u,{children:[s.jsx(k,{asChild:!0,children:s.jsx("div",{className:"flex justify-center hover:cursor-pointer",children:1===e.user.pilar.id?s.jsx("img",{src:y,height:60,width:60}):2===e.user.pilar.id?s.jsx("img",{src:_,height:60,width:60}):3===e.user.pilar.id?s.jsx("img",{src:C,height:60,width:60}):4===e.user.pilar.id?s.jsx("img",{src:K,height:60,width:60}):null})}),s.jsxs(f,{className:"sm:max-w-[425px]",children:[s.jsxs(g,{children:[s.jsxs(b,{children:["Pilar ",e.user.pilar.nama]}),s.jsxs(v,{children:["Berikut detail asesmen oleh ",e.user.name," yang mendapatkan pilar ",e.user.pilar.nama]})]}),s.jsxs("div",{className:"flex justify-center flex-col items-center gap-5",children:[1===e.user.pilar.id?s.jsx("img",{src:y,height:100,width:100}):2===e.user.pilar.id?s.jsx("img",{src:_,height:100,width:100}):3===e.user.pilar.id?s.jsx("img",{src:C,height:100,width:100}):4===e.user.pilar.id?s.jsx("img",{src:K,height:100,width:100}):null,s.jsxs("div",{className:"font-montserrat border-2 drop-shadow-xl bg-white py-5 px-10 rounded-xl border-[#74211A]",children:[s.jsx("div",{children:s.jsx(a,{angka:1,hasil:e.user.pilar.hasil.sifat_1,textColor:"text-[#74301A]",gradient:"bg-gradient-to-r from-[#864D0D] to-[#432005]"})}),s.jsx("div",{children:s.jsx(a,{angka:2,hasil:e.user.pilar.hasil.sifat_2,textColor:"text-[#9A241A]",gradient:"bg-gradient-to-r from-[#B54419] to-[#90381C]"})}),s.jsx("div",{children:s.jsx(a,{angka:3,hasil:e.user.pilar.hasil.sifat_3,textColor:"text-[#DA5B1C]",gradient:"bg-gradient-to-r from-[#ED8F45] to-[#ED8F45]"})})]})]})]})]})]})},R=[{id:"no",header:"No",cell:({row:e})=>e.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:e})=>e.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:e})=>e.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:e})=>e.original.user.email},{id:"pilar",header:"Pilar",cell:({row:e})=>s.jsx(L,{dataPilar:e.original})},{id:"status",accessorKey:"user.isKetua",header:"Status",cell:({row:e})=>e.original.user.isKetua?"Ketua":"Anggota"},{id:"actions",header:"Aksi",cell:({row:e})=>s.jsx(z,{data:e.original})}],G=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-start justify-between"}),s.jsx(E,{}),s.jsx(A,{searchKey:"Nama, Nim, Email",columns:R,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok",description:"Gunakan sistem informasi ini untuk melihat data kelompok!"})]}),U=[{title:"Dashboard",link:"/dashboard"},{title:"Informasi Kelompok",link:"/dashboard/informasi-kelompok"}];function H({auth:r}){const{toast:o}=I();M();const[t,d]=l.useState(null),[n,m]=l.useState(""),[c,h]=l.useState(),{data:p,setData:v,post:y}=e({nama_kelompok:"",logo_kelompok:null,_method:"put"});l.useEffect((()=>{(async()=>{const e=await fetch(route("dashboard.kelompok.data"),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();h(s),v("nama_kelompok",s.nama_kelompok)})()}),[]);return s.jsxs(s.Fragment,{children:[s.jsxs(i,{user:r.user,children:[s.jsx(F,{items:U}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Informasi Kelompok"}),s.jsx("div",{className:"w-36 h-36 md:mx-0 mx-auto overflow-hidden border rounded-full",children:(null==c?void 0:c.logo_kelompok)?s.jsx("img",{src:null==c?void 0:c.logo_kelompok,alt:`logo kelompok ${null==c?void 0:c.nama_kelompok}`}):s.jsx("img",{src:T,alt:"logopplk"})}),s.jsxs("div",{className:"flex items-center justify-start gap-2 font-semibold",children:[s.jsxs("p",{className:"line-clamp-1 text-lg capitalize",children:["Kelompok ",null==c?void 0:c.no_kelompok," ",null==c?void 0:c.nama_kelompok]}),s.jsxs(u,{children:[s.jsx(k,{asChild:!0,children:s.jsx($,{className:"-mt-[1px] cursor-pointer"})}),s.jsxs(f,{className:"sm:max-w-[425px]",children:[s.jsx(g,{children:s.jsx(b,{children:"Edit Informasi Kelompok"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"w-36 h-36 relative flex items-center justify-center mx-auto border rounded-full",children:[n?s.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:s.jsx("img",{src:n,alt:"preview-image-kelompok w-full h-full"})}):s.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:s.jsx("img",{src:(null==c?void 0:c.logo_kelompok)?null==c?void 0:c.logo_kelompok:T,alt:`logo kelompok ${null==c?void 0:c.nama_kelompok}`})}),s.jsx(S,{htmlFor:"upload-logo-kelompok",children:s.jsx($,{size:32,color:"white",className:"-mt-[1px] cursor-pointer absolute bottom-1 right-1 bg-primary border rounded-full p-1"})}),s.jsx(P,{type:"file",onChange:e=>{const s=e.target.files[0];if(s){if(!s.type.startsWith("image"))return o({title:"Invalid File Type",description:"Tolong pilih file gambar.",variant:"destructive"}),d(null),v("logo_kelompok",null),void m("");if(s.size>2048e3)return o({title:"File Too Large",description:"Pilih foto yang berukuran dibawah 2MB.",variant:"destructive"}),d(null),v("logo_kelompok",null),void m("");d(s),m(URL.createObjectURL(s)),v("logo_kelompok",s)}else d(null),v("logo_kelompok",null),m("")},accept:"image/*",className:"hidden",id:"upload-logo-kelompok"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(S,{htmlFor:"nama-kelompok",className:"text-left",children:"Nama Kelompok"}),s.jsx(P,{id:"nama-kelompok",value:p.nama_kelompok,onChange:e=>v("nama_kelompok",e.target.value),placeholder:"Nama Kelompok Anda",className:"mt-1"})]})]}),s.jsxs(N,{children:[s.jsx(w,{asChild:!0,children:s.jsx(j,{variant:"outline",children:"Batalkan"})}),s.jsx(w,{asChild:!0,children:s.jsx(j,{type:"submit",onClick:()=>{y(route("dashboard.kelompok.update"))},children:"Simpan"})})]})]})]})]}),s.jsxs("div",{className:"flex max-w-sm gap-2",children:[s.jsxs("div",{className:"w-full px-2 py-3 border-2 rounded-md",children:[s.jsx("h2",{className:"font-bold",children:"Daplok"}),s.jsxs("div",{className:"mt-5",children:[s.jsx("p",{className:"text-lg font-bold",children:null==c?void 0:c.daplok.name}),s.jsx("p",{className:"font-semibold",children:null==c?void 0:c.daplok.prodi.nama_prodi})]})]}),s.jsxs("div",{className:"w-full px-2 py-3 border-2 rounded-md",children:[s.jsx("h2",{className:"font-bold",children:"Mentor"}),s.jsxs("div",{className:"mt-5",children:[s.jsx("p",{className:"text-lg font-bold",children:null==c?void 0:c.mentor.name}),s.jsx("p",{className:"font-semibold",children:null==c?void 0:c.mentor.prodi.nama_prodi})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center max-w-sm px-10 py-5 border-2 rounded-md",children:[s.jsx("h2",{className:"font-semibold",children:"Absensi Maba"}),s.jsx(a,{href:route("dashboard.absensi-maba/presensi"),className:`${x()} mt-2`,children:"Mulai Absen Maba"})]}),s.jsx(G,{})]}),s.jsx(B,{})]})}export{H as default};
