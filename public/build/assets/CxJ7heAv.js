import{r as s,G as e,j as a,x as i,X as n}from"./Bv7GrZPP.js";import{D as t}from"./ChPshXmk.js";import{B as r,b as l}from"./DUBFAuNa.js";import{D as c,f as d,a as o,b as m,c as h,d as j,g as x,e as p}from"./CkFbj3NQ.js";import{S as u,a as g}from"./y16cilFF.js";import{T as f,a as N,b as w,c as b,d as k,e as v}from"./BZ5cA5JO.js";import{L as C}from"./Dattm5ld.js";import{T as y}from"./CFDoMpHg.js";import{D as S}from"./DEerG3a7.js";import{S as T}from"./B26ZDC0o.js";import{B as K}from"./BLzEIewI.js";import{T as E}from"./D9BdwP0y.js";import{u as F}from"./CfkdxwuJ.js";import"./iwsHN02p.js";import"./B6NrzEgt.js";import"./DYYM0B6N.js";import"./BWaXUI5H.js";import"./CR40L0VZ.js";import"./DBTc40Jl.js";import"./BSsLsO04.js";import"./nIVk6F1k.js";import"./FFfaTP5W.js";import"./C0u18CNn.js";import"./Ci6y5Wip.js";import"./m6mAo_Ov.js";import"./BNbf-ny2.js";import"./ugStBLz7.js";import"./CYvWWFUF.js";import"./CLzkn6yw.js";const _=({})=>{const[i,n]=s.useState(!0),[t,l]=s.useState([]);s.useEffect((()=>{(async()=>{n(!0);const s=await fetch(route("dashboard.tugas.data.poster"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),e=await s.json();l(e),n(!1)})()}),[]);const{setData:C,put:y}=e({hari:"",_method:"put"}),S=()=>{y(route("dashboard.tugas.return-poster"))};return a.jsx(a.Fragment,{children:a.jsxs(u,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[a.jsxs(f,{className:"relative border",children:[a.jsx(N,{children:a.jsxs(w,{className:"hover:bg-current bg-current",children:[a.jsx(b,{className:"w-[50px] text-white",children:"No"}),a.jsx(b,{className:"text-white w-[400px]",children:"Link"}),a.jsx(b,{className:"text-white",children:"Status Pengembalian"}),a.jsx(b,{className:"text-white",children:"Aksi"})]})}),a.jsx(k,{className:"min-h-28 relative",children:i?a.jsx(w,{children:a.jsx(v,{colSpan:4,className:"text-center",children:"Loading..."})}):a.jsx(a.Fragment,{children:t.map(((s,e)=>a.jsxs(w,{children:[a.jsx(v,{className:"font-medium",children:e+1}),a.jsx(v,{children:null!==s.url_poster?a.jsx(a.Fragment,{children:a.jsx("img",{className:"line-clamp-1 text-wrap w-[50%] h-[50%]",src:s.url_poster})}):a.jsx("p",{children:"Belum ada poster"})}),a.jsx(v,{children:s.isReturn?"Dikembalikan":"Diterima"}),a.jsx(v,{className:"gap-1",children:a.jsxs(c,{children:[a.jsx(d,{asChild:!0,children:a.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>C("hari",s.hari),children:"Kembalikan Poster"})}),a.jsxs(o,{className:"sm:max-w-[425px]",children:[a.jsxs(m,{children:[a.jsx(h,{children:"Kembalikan Poster"}),a.jsx(j,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),a.jsxs(x,{children:[a.jsx(p,{asChild:!0,children:a.jsx(r,{variant:"outline",children:"Batalkan"})}),a.jsx(p,{asChild:!0,children:a.jsx(r,{onClick:S,children:"Lanjutkan"})})]})]})]})})]},e)))})})]}),a.jsx(g,{orientation:"horizontal"})]})})},D=({})=>{const[i,n]=s.useState(!0),[t,l]=s.useState([]);s.useEffect((()=>{(async()=>{n(!0);const s=await fetch(route("dashboard.tugas.data.kelompok"),{method:"GET",headers:{"Content-Type":"application/json"}}),e=await s.json();l(e.response.data),n(!1)})()}),[]);const{setData:S,put:T}=e({id:0,catatan:"",_method:"put"}),K=()=>{T(route("dashboard.tugas.return"))};return a.jsx(a.Fragment,{children:a.jsxs(u,{className:"whitespace-nowrap max-w-7xl mt-5 overflow-hidden rounded-md",children:[a.jsxs(f,{className:"relative border",children:[a.jsx(N,{children:a.jsxs(w,{className:"hover:bg-current bg-current",children:[a.jsx(b,{className:"w-[50px] text-white",children:"No"}),a.jsx(b,{className:"text-white w-[200px]",children:"Nama Tugas"}),a.jsx(b,{className:"text-white w-[400px]",children:"Link"}),a.jsx(b,{className:"text-white",children:"Status Pengembalian"}),a.jsx(b,{className:"text-white",children:"Aksi"})]})}),a.jsx(k,{className:"min-h-28 relative",children:i?a.jsx(w,{children:a.jsx(v,{colSpan:4,className:"text-center",children:"Loading..."})}):a.jsx(a.Fragment,{children:t?a.jsx(a.Fragment,{children:t.map(((s,e)=>a.jsxs(w,{children:[a.jsx(v,{className:"font-medium",children:e+1}),a.jsx(v,{children:a.jsx("p",{className:"line-clamp-1",children:s.judul})}),a.jsx(v,{children:a.jsx("a",{className:"line-clamp-1 text-wrap",href:s.pengumpulan_tugas[e].jawaban,target:"_blank",children:s.pengumpulan_tugas[e].jawaban})}),a.jsx(v,{children:s.pengumpulan_tugas[e].isReturn?"Dikembalikan":"Diterima"}),a.jsxs(v,{className:"flex gap-1",children:[a.jsx("a",{href:`${s.pengumpulan_tugas[e].jawaban}`,target:"_blank",children:a.jsx(r,{size:"sm",children:"Lihat Tugas"})}),a.jsxs(c,{children:[a.jsx(d,{asChild:!0,children:a.jsx(r,{className:"gap-2",variant:"outline",size:"sm",onClick:()=>S("id",s.pengumpulan_tugas[e].id),children:"Kembalikan Tugas"})}),a.jsxs(o,{className:"sm:max-w-[425px]",children:[a.jsxs(m,{children:[a.jsx(h,{children:"Kembalikan Tugas"}),a.jsx(j,{children:"Kembalikan tugas yang sudah dikerjakan oleh mahasiswa ini agar diperbaiki"})]}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx(C,{htmlFor:"catatan",className:"text-left",children:"Catatan"}),a.jsx(y,{id:"catatan",onChange:s=>S("catatan",s.target.value),placeholder:"Berikan catatan pengembalian tugas",className:"mt-1"})]})}),a.jsxs(x,{children:[a.jsx(p,{asChild:!0,children:a.jsx(r,{variant:"outline",children:"Batalkan"})}),a.jsx(p,{asChild:!0,children:a.jsx(r,{onClick:K,children:"Lanjutkan"})})]})]})]})]})]},e)))}):null})})]}),a.jsx(g,{orientation:"horizontal"})]})})},L=({title:s,description:e,isOpen:i,onClose:n,children:t})=>a.jsx(c,{open:i,onOpenChange:s=>{s||n()},children:a.jsxs(o,{children:[a.jsxs(m,{children:[a.jsx(h,{children:s}),a.jsx(j,{children:e})]}),a.jsx("div",{children:t})]})}),B=({isOpen:e,onClose:i,onConfirm:n,loading:t})=>{const[l,c]=s.useState(!1);return s.useEffect((()=>{c(!0)}),[]),l?a.jsx(L,{title:"Are you sure?",description:"This action cannot be undone.",isOpen:e,onClose:i,children:a.jsxs("div",{className:"flex items-center justify-end w-full pt-6 space-x-2",children:[a.jsx(r,{disabled:t,variant:"outline",onClick:i,children:"Cancel"}),a.jsx(r,{disabled:t,variant:"destructive",onClick:n,children:"Continue"})]})}):null},z=({data:e})=>{const[n,t]=s.useState(!1),[r,c]=s.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(B,{isOpen:r,onClose:()=>c(!1),onConfirm:async()=>{},loading:n}),a.jsx("div",{className:"flex gap-1 p-2",children:a.jsx(i,{href:`/dashboard/mading/user/${e.id}`,className:`${l({size:"sm"})}`,children:"Lihat Semua Tugas"})})]})},A=[{id:"no",header:"No",cell:({row:s})=>s.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:s})=>s.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:s})=>s.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:s})=>s.original.user.email},{id:"actions",header:"Aksi",cell:({row:s})=>a.jsx(z,{data:s.original})}],P=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between"}),a.jsx(T,{}),a.jsx(S,{searchKey:"Nama, Nim, Email",columns:A,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok"})]}),O=[{title:"Ellysion Panel",link:"/dashboard"},{title:"Mading",link:"/dashboard/mading"}];function G({auth:e}){const{toast:i}=F(),{flash:r}=n().props;return s.useEffect((()=>{r.response&&(200===r.response.status?i({title:"Berhasil",description:r.response.message,variant:"default"}):i({title:"Gagal",description:r.response.message,variant:"destructive"}),window.location.reload())}),[r,i]),a.jsxs(a.Fragment,{children:[a.jsxs(t,{user:e.user,children:[a.jsx(K,{items:O}),a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Mading"}),a.jsx(P,{}),a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Tugas Kelompok"}),a.jsx(D,{}),a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cover Mading"}),a.jsx(_,{})]}),a.jsx(E,{})]})}export{G as default};
