import{j as s,W as e,a,r as l,Y as i}from"./Ba23eDpt.js";import{D as o}from"./Ca0M1IPY.js";import{C as r,b as t,c as n,a as d}from"./D8YKAmP8.js";import{D as m,f as c,a as h,b as x,c as p,d as j,g as u,e as k}from"./CkOc_HoJ.js";import{p as f,a as g,b as v,c as N,P as b}from"./D2C7i_Td.js";import{A as w,a as y,b as _,c as K,d as C,e as E,f as A,g as D,h as F}from"./nMqx7FN4.js";import{b as P,B as S}from"./DBzYlCiL.js";import{D as B}from"./Dl8TMd59.js";import{S as I}from"./B0ojSiPT.js";import{B as T}from"./rIz55N6S.js";import{I as $}from"./BYIrUS_z.js";import{L as z}from"./DkTa_A_e.js";import{T as L}from"./D1zkVzt-.js";import{u as M}from"./CeTxX_vX.js";import{u as R}from"./D99ZgU5e.js";import{l as U}from"./z08mKKfS.js";import{I as G}from"./DkPrVC0L.js";import"./B8sm4VPe.js";import"./i9l26zwF.js";import"./DMoEqM0O.js";import"./DiIVuFpf.js";import"./DYhO1VJW.js";import"./CLJX5LWE.js";import"./CS5sQkYs.js";import"./B3AGvrFV.js";import"./BTBaYyRP.js";import"./D58pPHkY.js";import"./C0u18CNn.js";import"./C2Wvzpd2.js";import"./Bs3KZdRV.js";import"./CMT3toma.js";import"./CzKyrKds.js";import"./BBfa2snc.js";import"./DzPnkZqd.js";const H=({dataPilar:e})=>{const a=({textColor:e,gradient:a,angka:l,hasil:i})=>s.jsxs("div",{className:"font-montserrat mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("p",{className:`${e} text-lg font-bold`,children:["Pilar ",l," :"," "+(1===l?"Work Hard":2===l?"Sharing is Caring":3===l?"Equity":"Refinement")]}),s.jsxs("p",{className:`${e} self-end font-medium `,children:[i,"/",10]})]}),"Belum memiliki Pilar",s.jsx("div",{className:"text-xl font-bold",children:s.jsx(b,{className:a,value:100*i/10})})]});return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs w-full text-center",children:e.user.pilar.nama}),s.jsxs(m,{children:[s.jsx(c,{asChild:!0,children:s.jsx("div",{className:"flex justify-center hover:cursor-pointer",children:1===e.user.pilar.id?s.jsx("img",{src:f,height:60,width:60}):2===e.user.pilar.id?s.jsx("img",{src:g,height:60,width:60}):3===e.user.pilar.id?s.jsx("img",{src:v,height:60,width:60}):4===e.user.pilar.id?s.jsx("img",{src:N,height:60,width:60}):null})}),s.jsxs(h,{className:"sm:max-w-[425px]",children:[s.jsxs(x,{children:[s.jsxs(p,{children:["Pilar ",e.user.pilar.nama]}),s.jsxs(j,{children:["Berikut detail asesmen oleh ",e.user.name," yang mendapatkan pilar ",e.user.pilar.nama]})]}),s.jsxs("div",{className:"flex justify-center flex-col items-center gap-5",children:[1===e.user.pilar.id?s.jsx("img",{src:f,height:100,width:100}):2===e.user.pilar.id?s.jsx("img",{src:g,height:100,width:100}):3===e.user.pilar.id?s.jsx("img",{src:v,height:100,width:100}):4===e.user.pilar.id?s.jsx("img",{src:N,height:100,width:100}):null,s.jsxs("div",{className:"font-montserrat border-2 drop-shadow-xl bg-white py-5 px-10 rounded-xl border-[#74211A]",children:[s.jsx("div",{children:s.jsx(a,{angka:1,hasil:e.user.pilar.hasil.sifat_1,textColor:"text-[#74301A]",gradient:"bg-gradient-to-r from-[#864D0D] to-[#432005]"})}),s.jsx("div",{children:s.jsx(a,{angka:2,hasil:e.user.pilar.hasil.sifat_2,textColor:"text-[#9A241A]",gradient:"bg-gradient-to-r from-[#B54419] to-[#90381C]"})}),s.jsx("div",{children:s.jsx(a,{angka:3,hasil:e.user.pilar.hasil.sifat_3,textColor:"text-[#DA5B1C]",gradient:"bg-gradient-to-r from-[#ED8F45] to-[#ED8F45]"})})]})]})]})]})]})},W=({data:l})=>{const{put:i}=e({id:l.id,_method:"put"});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex gap-1 p-2",children:[s.jsx(a,{href:`/dashboard/user/edit/${l.id}`,className:`${P({size:"sm"})}`,children:"Edit"}),s.jsxs(w,{children:[s.jsx(y,{asChild:!0,children:s.jsx(S,{variant:"outline",size:"sm",children:"Set Ketua Kelompok"})}),s.jsxs(_,{children:[s.jsxs(K,{children:[s.jsx(C,{children:"Apakah kamu yakin?"}),s.jsx(E,{children:"Kamu akan mengubah status user ini menjadi ketua kelompok."})]}),s.jsxs(A,{children:[s.jsx(D,{children:"Cancel"}),s.jsx(F,{onClick:()=>{i(route("dashboard.kelompok.set-ketua"))},children:"Continue"})]})]})]})]})})},q=[{id:"no",header:"No",cell:({row:s})=>s.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:s})=>s.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:s})=>s.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:s})=>s.original.user.email},{id:"pilar",header:"Pilar",cell:({row:e})=>s.jsx(H,{dataPilar:e.original})},{id:"status",accessorKey:"user.isKetua",header:"Status",cell:({row:s})=>s.original.user.isKetua?"Ketua":"Anggota"},{id:"actions",header:"Aksi",cell:({row:e})=>s.jsx(W,{data:e.original})}],J=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-start justify-between"}),s.jsx(I,{}),s.jsx(B,{searchKey:"Nama, Nim, Email",columns:q,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok",description:"Silahkan edit status akun maba di bawah ini."})]}),O=[{title:"Ellysion Panel",link:"/dashboard"},{title:"Informasi Kelompok",link:"/dashboard/informasi-kelompok"}];function V({auth:a}){var j,f,g,v,N,b;const{toast:w}=M();R();const[y,_]=l.useState(null),[K,C]=l.useState(""),[E,A]=l.useState(),{data:D,setData:F,post:P}=e({nama_kelompok:"",logo_kelompok:null,_method:"put"});l.useEffect((()=>{(async()=>{const s=await fetch(route("dashboard.kelompok.data"),{method:"GET",headers:{"Content-Type":"application/json"}}),e=await s.json();A(e),F("nama_kelompok",e.nama_kelompok)})()}),[]);return s.jsxs(s.Fragment,{children:[s.jsx(i,{title:"Informasi Kelompok"}),s.jsxs(o,{user:a.user,children:[s.jsx(T,{items:O}),s.jsx("h2",{className:"text-3xl font-semibold font-inter tracking-tight",children:"Informasi Kelompok"}),s.jsxs("div",{className:"md:flex",children:[s.jsx("div",{className:"md:mx-0 mx-auto overflow-hidden border rounded-lg",children:(null==E?void 0:E.logo_kelompok)?s.jsx("img",{src:null==E?void 0:E.logo_kelompok,alt:`logo kelompok ${null==E?void 0:E.nama_kelompok}`,className:"w-80 mx-auto"}):s.jsx("img",{src:U,alt:"logopplk",className:"w-80 mx-auto"})}),s.jsx("div",{className:"mx-5 md:w-96 w-auto",children:s.jsxs(r,{children:[s.jsxs(t,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[s.jsxs(n,{className:"text-xl font-medium text-semibold",children:["Kelompok ",null==E?void 0:E.no_kelompok]}),s.jsxs(m,{children:[s.jsx(c,{asChild:!0,children:s.jsx(G,{className:"ml-2 -mt-[1px] cursor-pointer"})}),s.jsxs(h,{className:"sm:max-w-[425px]",children:[s.jsx(x,{children:s.jsx(p,{children:"Edit Informasi Kelompok"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"w-36 h-36 relative flex items-center justify-center mx-auto border rounded-full",children:[K?s.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:s.jsx("img",{src:K,alt:"preview-image-kelompok w-full h-full"})}):s.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:s.jsx("img",{src:(null==E?void 0:E.logo_kelompok)?null==E?void 0:E.logo_kelompok:U,alt:`logo kelompok ${null==E?void 0:E.nama_kelompok}`})}),s.jsx(z,{htmlFor:"upload-logo-kelompok",children:s.jsx(G,{size:32,color:"white",className:"-mt-[1px] cursor-pointer absolute bottom-1 right-1 bg-primary border rounded-full p-1"})}),s.jsx($,{type:"file",onChange:s=>{const e=s.target.files[0];if(e){if(!e.type.startsWith("image"))return w({title:"Invalid File Type",description:"Tolong pilih file gambar.",variant:"destructive"}),_(null),F("logo_kelompok",null),void C("");if(e.size>2048e3)return w({title:"File Too Large",description:"Pilih foto yang berukuran dibawah 2MB.",variant:"destructive"}),_(null),F("logo_kelompok",null),void C("");_(e),C(URL.createObjectURL(e)),F("logo_kelompok",e)}else _(null),F("logo_kelompok",null),C("")},accept:"image/*",className:"hidden",id:"upload-logo-kelompok"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(z,{htmlFor:"nama-kelompok",className:"text-left",children:"Nama Kelompok"}),s.jsx($,{id:"nama-kelompok",value:D.nama_kelompok,onChange:s=>F("nama_kelompok",s.target.value),placeholder:"Nama Kelompok Anda",className:"mt-1"})]})]}),s.jsxs(u,{children:[s.jsx(k,{asChild:!0,children:s.jsx(S,{variant:"outline",children:"Batalkan"})}),s.jsx(k,{asChild:!0,children:s.jsx(S,{type:"submit",onClick:()=>{P(route("dashboard.kelompok.update"))},children:"Simpan"})})]})]})]})]}),s.jsxs(d,{children:[s.jsx("div",{className:"mt-2 flex justify-start gap-2 font-inter font-semibold",children:s.jsxs("div",{children:[s.jsx(z,{className:"text-left",children:"Nama Kelompok"}),s.jsx("div",{className:"flex",children:s.jsx("p",{className:"line-clamp-1 text-lg capitalize",children:null==E?void 0:E.nama_kelompok})})]})}),s.jsxs("div",{className:"max-w-sm gap-2 font-inter",children:[s.jsxs("div",{className:"w-full mt-5",children:[s.jsx("h2",{className:"font-semibold",children:"Daplok"}),s.jsxs("div",{className:"",children:[s.jsx("p",{className:"text-lg font-bold",children:null==(j=null==E?void 0:E.daplok)?void 0:j.name}),s.jsx("p",{className:"font-semibold",children:null==(g=null==(f=null==E?void 0:E.daplok)?void 0:f.prodi)?void 0:g.nama_prodi})]})]}),s.jsxs("div",{className:"w-full mt-5",children:[s.jsx("h2",{className:"font-semibold",children:"Mentor"}),s.jsxs("div",{className:"",children:[s.jsx("p",{className:"text-lg font-bold",children:null==(v=null==E?void 0:E.mentor)?void 0:v.name}),s.jsx("p",{className:"font-semibold",children:null==(b=null==(N=null==E?void 0:E.mentor)?void 0:N.prodi)?void 0:b.nama_prodi})]})]})]})]})]})})]}),s.jsx(J,{})]}),s.jsx(L,{})]})}export{V as default};
