import{j as e,r as a,y as t,Y as s}from"./Lul_5bI4.js";import{D as n}from"./De9IAiyd.js";import{S as l,a as i}from"./D4K_dEqQ.js";import{T as r}from"./CwAIBn6j.js";import{c as o}from"./BiZWUTU3.js";import{B as m}from"./CJFDvaqA.js";import{P as c,p as d,a as x,b as u,c as h}from"./Dymcy-g6.js";import{u as f}from"./t9-qaB3t.js";import{m as j}from"./BI1EFwCx.js";import{A as p}from"./BntXGprQ.js";import{D as g,a as w,b as v,c as b,d as y,e as N}from"./BS0ec4tp.js";import"./D-a_z-6T.js";import"./BwOpSKVW.js";import"./FBkMvcNB.js";import"./Iw5Bc_ld.js";import"./B5C3D_yp.js";import"./DJ-3qZwn.js";import"./2t9aERIc.js";import"./BZtDV8eV.js";import"./C0doQ02M.js";import"./CNBVOblj.js";const k=({className:a=""})=>e.jsxs("div",{className:`max-md:grow ${a}`,children:[e.jsx("div",{className:"animate-pulse w-full h-6 text-xl font-semibold bg-gray-300 rounded-lg"}),e.jsx("div",{className:"animate-pulse w-full h-4 mt-2 bg-gray-300 rounded-lg"}),e.jsx("div",{className:"animate-pulse w-full h-16 p-4 mt-4 bg-gray-300 rounded-lg shadow-inner"}),e.jsx("ul",{className:"flex flex-col w-full gap-2 mt-8",children:Array.from({length:4}).map(((a,t)=>e.jsx("li",{children:e.jsx("div",{className:"animate-pulse w-full h-12 bg-gray-300 rounded-lg"})},t)))}),e.jsx("div",{className:"max-md:grow"}),e.jsx("div",{className:"animate-pulse w-full h-12 my-8 bg-gray-300 rounded-lg"})]});function C(){const{toast:s}=f(),[n,d]=a.useState([]),[x,u]=a.useState(!0),[h,g]=a.useState(!1),[w,v]=a.useState(0),[b,y]=a.useState(null),[N,C]=a.useState("");a.useEffect((()=>{(async()=>{try{const e=await fetch(route("csrf")),a=await e.json();C(a.csrfToken)}catch(e){console.error("Error fetching CSRF token:",e)}})(),async function(){u(!0),await fetch(route("asesmen.question")).then((e=>e.json())).then((e=>{d(e.data.questions),u(!1)}))}()}),[]);return e.jsxs(j.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,ease:[.16,1,.3,1]},className:"mt-20 mx-auto px-8 flex flex-col items-center justify-center h-full max-w-3xl text-start place-content-center text-white gap-4 overflow-y-auto font-montserrat",children:[x?e.jsx(k,{className:"w-full"}):e.jsxs("div",{className:"relative flex flex-col w-full gap-4",children:[e.jsxs("span",{className:"md:text-xl text-moccaccino-950 w-full text-sm font-semibold",children:["Pertanyaan ",w+1,"/",n.length]}),e.jsx(c,{value:100*(w+1)/n.length}),e.jsxs(l,{className:"md:min-h-48 bg-jaffa-950/25 backdrop-blur-md w-full h-40 p-4 overflow-y-auto rounded-lg shadow-inner",children:[e.jsx("h2",{className:"max-md:text-sm text-start font-semibold text-black",children:n[w].teks_pertanyaan}),e.jsx(i,{orientation:"vertical",className:"text-jaffa-950"})]}),e.jsx("ul",{className:"md:mt-8 flex flex-col w-full gap-2 mt-2",children:n[w].answers.map((a=>e.jsx("li",{children:e.jsx(m,{disabled:h,onClick:()=>{return e=a.id,void y(e);var e},className:o({" text-candlelight-800 hover:bg-jaffa-100 ring-1 ring-black/5 ":a.id!==b," bg-gradient-to-r from-candlelight-800 to-candlelight-950":a.id===b},"bg-white transition duration-400 w-full h-full font-medium text-wrap py-2 max-md:text-[12px]"),children:a.teks_jawaban})},a.id)))}),e.jsxs(m,{onClick:async function(){if(null!==b)try{if(g(!0),await fetch(route("asesmen.answer",{question_id:n[w].id,answer_id:b}),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":N}}),g(!1),w===n.length-1)return void t.get(route("asesmen.result"));v(w+1),y(null)}catch(e){s({variant:"destructive",title:"Gagal mengirim jawaban, mohon coba lagi hehe"})}},disabled:null===b||h,className:"bg-jaffa-900 md:my-8 hover:bg-jaffa-900/80 w-full mb-4",children:[w<n.length-1?"Next":"Submit",w<n.length-1?e.jsx(p,{className:"ml-2"}):e.jsx("svg",{className:"ml-2",width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.5 1.62503C0.500012 1.54192 0.516601 1.45964 0.548796 1.38302C0.580991 1.30639 0.628146 1.23696 0.6875 1.17878C1.36865 0.511053 2.27866 0.127987 3.23229 0.107551C4.18592 0.0871153 5.11149 0.430846 5.82063 1.06878L6.04 1.27378C6.49589 1.67322 7.08138 1.89342 7.6875 1.89342C8.29363 1.89342 8.87911 1.67322 9.335 1.27378L9.49063 1.1319C9.87188 0.83003 10.445 1.07128 10.4969 1.5544L10.5 1.62503V7.25003C10.5 7.33314 10.4834 7.41542 10.4512 7.49204C10.419 7.56867 10.3719 7.6381 10.3125 7.69628C9.63135 8.36401 8.72134 8.74707 7.76772 8.76751C6.81409 8.78794 5.88851 8.44421 5.17938 7.80628L4.96 7.60128C4.51846 7.21441 3.95486 6.99526 3.36795 6.98223C2.78104 6.9692 2.20827 7.16313 1.75 7.53003V11.625C1.74982 11.7843 1.68883 11.9376 1.57947 12.0534C1.47011 12.1692 1.32065 12.2389 1.16163 12.2483C1.0026 12.2576 0.846013 12.2059 0.723855 12.1036C0.601697 12.0014 0.52319 11.8563 0.504375 11.6982L0.5 11.625V1.62503Z",fill:"white"})})]})]}),e.jsx(r,{})]})}const S=[{img:d,title:"Work Hard"},{img:x,title:"Sharing Is Caring"},{img:u,title:"Equity"},{img:h,title:"Refinement"}];function L(){const[t,l]=a.useState(!0),[i,r]=a.useState(!1);a.useEffect((()=>{const e=e=>(e.preventDefault(),e.returnValue="",""),a=()=>{r(!0),window.history.pushState(null,document.title,window.location.pathname)};return window.addEventListener("beforeunload",e),window.addEventListener("popstate",a),window.history.pushState(null,document.title,window.location.pathname),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("popstate",a)}}),[]);return e.jsxs("div",{children:[e.jsx(s,{title:"Asesmen"}),e.jsxs(n,{isSolid:!0,children:[e.jsx("div",{className:"bg-pattern-white md:py-10",children:e.jsx(C,{})}),e.jsx(g,{open:t,onOpenChange:l,children:e.jsxs(w,{className:"bg-gradient-to-b from-black to-jaffa-900 max-w-screen w-screen h-screen px-0 border-none rounded-none",children:[e.jsxs(v,{children:[e.jsx(b,{className:"md:text-2xl mt-10 text-center text-white",children:"Welcome to Asesmen PPLK 2024"}),e.jsx(y,{className:"text-white/60 max-w-sm mx-auto mt-5 text-center",children:"Kerjakan soal-soal berikut untuk mengetahui pilar mana yang paling mendekati diri kamu"})]}),e.jsx("div",{className:"md:max-w-md lg:max-w-screen-2xl flex flex-wrap items-center justify-center gap-5 mx-auto overflow-auto",children:S.map(((a,t)=>e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-[150px] md:max-w-[200px] text-white",children:[e.jsx("img",{src:a.img,alt:a.title}),e.jsx("p",{children:a.title})]},t)))}),e.jsx(N,{className:"border-none outline-none",children:e.jsx(m,{className:"bg-jaffa-700 hover:bg-jaffa-700/90",children:"Mulai Asesmen"})})]})}),i&&e.jsx(g,{open:i,onOpenChange:r,children:e.jsxs(w,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Warning"}),e.jsx(y,{children:"Apakah kamu yakin ingin meninggalkan halaman ini? Jawaban yang sudah kamu berikan akan hilang."})]}),e.jsxs("div",{className:"md:justify-end flex justify-center gap-2",children:[e.jsx(m,{onClick:()=>{r(!1),window.history.pushState(null,document.title,window.location.pathname)},variant:"outline",children:"Batalkan"}),e.jsx(m,{onClick:()=>{r(!1),window.location.replace("/")},variant:"default",children:"Keluar"})]})]})})]})]})}export{L as default};
