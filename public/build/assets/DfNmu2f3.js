import{r as a,W as e,j as t,a as s,y as n}from"./B1esdhcH.js";import{c as i}from"./DjrsTFO7.js";import{D as r}from"./EBWAB5-m.js";import{M as o}from"./BT_CVzaH.js";import{b as l,B as d}from"./DpSZUCsc.js";import{I as m}from"./Ca1A5CHM.js";import{L as c}from"./DkiT0BMQ.js";import{C as u}from"./DR8WwQvf.js";import"./tA76nIRQ.js";import"./BZtDV8eV.js";import"./jGzR9CvW.js";import"./b_KecH1M.js";import"./HyHZsPrb.js";import"./DTbiIOsc.js";import"./BjGKjFiK.js";import"./BbeIEHlb.js";import"./DMI0H8OO.js";const g=["Kreativitas dan Daya Tarik Visual: Pilih gambar yang unik dan menarik perhatian pembaca. Gunakan desain yang kreatif dan harmonis untuk menciptakan tampilan yang memikat.","Kualitas dan Resolusi Gambar: Pastikan gambar yang diunggah memiliki resolusi tinggi agar tetap jelas dan tajam saat ditampilkan.","Kesesuaian Tema: Sesuaikan desain cover dengan tema atau topik mading. Hal ini membantu menyampaikan pesan yang ingin disampaikan dengan lebih efektif.","Keseimbangan Warna: Gunakan kombinasi warna yang sesuai dan tidak terlalu kontras agar tampilan lebih nyaman dilihat.","Keterbacaan Teks: Jika terdapat teks pada cover, pastikan font yang digunakan mudah dibaca dan tidak terlalu kecil.","Gambar yang Senonoh dan Tidak Menyinggung: Pastikan gambar yang diunggah tidak mengandung unsur SARA, pornografi, atau hal-hal yang dapat menyinggung orang lain."];function p({id:p}){const[h,f]=a.useState(null),[j,x]=a.useState(null),[k,b]=a.useState(""),[y,v]=a.useState(0),[w,N]=a.useState(!1),{data:S,setData:C,post:T,put:E,processing:G,errors:K}=e({tugas_id:0,url:""});a.useEffect((()=>{(async()=>{try{const a=await fetch(route("mading.tugas",{id:p}),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error("HTTP status "+a.status);const e=await a.json();f(e.tugas),N(e.isSubmitted),console.log("tugasData",h)}catch(a){console.log("Error: ",a)}})();(async()=>{try{const a=await fetch(route("csrf")),e=await a.json();b(e.csrfToken)}catch(a){console.error("Error fetching CSRF token:",a)}})()}),[]);const P=i((async()=>{if(!/^https:\/\/(www\.)?\w+\.google\.com\/.*$/g.test(S.url))return void x("link harus dari Google Drive");let a=S.url.split("/")[5];(await fetch(`https://www.googleapis.com/drive/v2/files/${a}?key=AIzaSyB4-JCqVpt3dC5MlC0Q6yQOSYG0uysdvwc`)).ok?x(""):x("Link drive belum publik, silahkan coba lagi")}),100);return t.jsx(t.Fragment,{children:t.jsx(r,{isSolid:!0,children:t.jsx("div",{className:"bg-pattern-white pt-28",children:t.jsx(o,{className:"min-h-screen",children:t.jsxs("div",{className:"px-2.5 bg-white/80 py-5 rounded-md md:px-5 lg:px-10",children:[t.jsxs(s,{href:route("mading"),className:`${l({variant:"outline"})} bg-transparent hover:bg-transparent shadow-none items-center border-none flex gap-2 -ml-5`,children:[t.jsx(u,{}),t.jsx("span",{children:"Kembali"})]}),t.jsxs("h2",{"data-aos":"fade-down","data-aos-duration":"1000",className:"font-montserrat font-bold text-jaffa-700 w-fit pt-[30px] text-3xl",children:["Pengumpulan Cover Day - ",p]}),t.jsxs("div",{className:"md:mt-10 mt-5",children:[t.jsx("h2",{className:"text-jaffa-700 text-xl font-bold",children:"Ketentuan Cover Mading"}),t.jsx("div",{className:"mt-5",children:g.map(((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("p",{children:[e+1,"."]}),t.jsx("p",{children:a})]},e)))}),t.jsx(d,{className:"bg-jaffa-700 hover:bg-jaffa-700/90 mt-5 transition duration-200",children:"Contoh cover yang sesuai"})]}),t.jsx("div",{className:"flex flex-col mt-10",children:null==h?void 0:h.tugas.map(((a,e)=>t.jsxs("div",{className:"flex flex-col",children:[t.jsx(c,{htmlFor:"input-tugas",className:"text-left",children:"Link Google Drive"}),t.jsx(m,{type:"text",id:"input-tugas",value:S.url,onChange:e=>{C("url",e.target.value),P(),v(a.id)},placeholder:"https://drive.google.com/...",className:"mt-2"}),j?t.jsx("span",{className:"text-red-500 text-[12px]",children:j}):""===j?t.jsx("span",{className:"text-[12px] text-green-500",children:"Link valid"}):null]},e)))}),t.jsxs("div",{className:"mt-5",children:[t.jsx(c,{className:" text-left",children:"Preview"}),t.jsx("div",{className:"aspect-video bg-red-500 rounded-md"})]}),t.jsxs(d,{onClick:async()=>{try{const a=await fetch(route("mading.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":k},body:JSON.stringify({tugas_id:y,jawaban:S.url})});if(!a.ok)throw new Error("HTTP status "+a.status);n.replace(route("mading"))}catch(a){console.log("Error: ",a)}},disabled:!!j||!S.url,className:"bg-jaffa-700 hover:bg-jaffa-700/90 w-full mt-5 transition duration-200 ease-in-out",children:["Submit Cover ",p]})]})})})})})}export{p as default};
