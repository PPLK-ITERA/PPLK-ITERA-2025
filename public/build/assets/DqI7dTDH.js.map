{"version":3,"file":"DqI7dTDH.js","sources":["../../../resources/js/Pages/Dashboard/komdis/Edit.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { router, useForm } from \"@inertiajs/react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\nimport { Breadcrumbs } from \"@/Components/ui/breadcrumbs\";\nimport { Button } from \"@/Components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/Components/ui/card\";\nimport { Input } from \"@/Components/ui/input\";\nimport { Textarea } from \"@/Components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/Components/ui/select\";\n\nconst breadcrumbItems = [\n  { title: \"Ellysion Panel\", link: \"/dashboard\" },\n  { title: \"Komdis\", link: \"/dashboard/komdis\" },\n  { title: \"Edit\", link: \"#\" },\n];\n\nexport default function Edit({ auth, logKomdis, statusOptions }: any) {\n  const { data, setData, put, processing, errors } = useForm({\n    kesalahan: logKomdis.kesalahan || \"\",\n    kategori: logKomdis.kategori || \"\",\n    keterangan: logKomdis.keterangan || \"\",\n    status: logKomdis.status || \"belum diproses\",\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    console.log('Submitting data:', data); // Debug log\n    \n    put(route('dashboard.komdis.update', logKomdis.id), {\n      onSuccess: () => {\n        console.log('Update successful'); // Debug log\n        router.get(route('dashboard.komdis.index'));\n      },\n      onError: (errors) => {\n        console.error('Update errors:', errors);\n      }\n    });\n  };\n\n  return (\n    <DashboardLayout user={auth.user}>\n      <h2 className=\"text-3xl font-bold tracking-tight mb-4\">Edit Log Komdis</h2>\n\n      <Breadcrumbs items={breadcrumbItems} />\n\n      <Card className=\"mt-4\">\n        <CardHeader>\n          <CardTitle>\n            Edit Kesalahan untuk {logKomdis.user?.name} ({logKomdis.user?.nim})\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Kesalahan/Pelanggaran: *\n              </label>\n              <Textarea\n                placeholder=\"Masukkan detail kesalahan atau pelanggaran yang dilakukan\"\n                value={data.kesalahan}\n                onChange={(e) => setData('kesalahan', e.target.value)}\n                required\n                rows={4}\n                className={errors.kesalahan ? 'border-red-500' : ''}\n              />\n              {errors.kesalahan && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.kesalahan}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Kategori:\n              </label>\n              <Input\n                placeholder=\"Kategori pelanggaran (contoh: Kedisiplinan, Kebersihan, dll)\"\n                value={data.kategori}\n                onChange={(e) => setData('kategori', e.target.value)}\n                className={errors.kategori ? 'border-red-500' : ''}\n              />\n              {errors.kategori && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.kategori}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Keterangan Tambahan:\n              </label>\n              <Textarea\n                placeholder=\"Keterangan tambahan jika diperlukan\"\n                value={data.keterangan}\n                onChange={(e) => setData('keterangan', e.target.value)}\n                rows={3}\n                className={errors.keterangan ? 'border-red-500' : ''}\n              />\n              {errors.keterangan && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.keterangan}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Status: *\n              </label>\n              <Select value={data.status} onValueChange={(value) => setData('status', value)}>\n                <SelectTrigger className={errors.status ? 'border-red-500' : ''}>\n                  <SelectValue placeholder=\"Pilih status\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"belum diproses\">Belum Diproses</SelectItem>\n                  <SelectItem value=\"proses\">Sedang Diproses</SelectItem>\n                  <SelectItem value=\"selesai\">Selesai</SelectItem>\n                  <SelectItem value=\"dibatalkan\">Dibatalkan</SelectItem>\n                </SelectContent>\n              </Select>\n              {errors.status && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.status}</p>\n              )}\n            </div>\n\n            <div className=\"flex gap-2 pt-4\">\n              <Button \n                type=\"submit\" \n                disabled={processing || !data.kesalahan.trim()}\n              >\n                {processing ? \"üíæ Menyimpan...\" : \"üíæ Update Data\"}\n              </Button>\n              <Button \n                type=\"button\" \n                variant=\"outline\"\n                onClick={() => router.get(route('dashboard.komdis.index'))}\n                disabled={processing}\n              >\n                ‚ùå Batal\n              </Button>\n            </div>\n          </form>\n\n          {/* Debug Info */}\n          {/* <div className=\"mt-4 p-4 bg-gray-100 rounded text-xs\">\n            <strong>Debug Info:</strong>\n            <pre>{JSON.stringify({ data, errors, processing }, null, 2)}</pre>\n          </div> */}\n        </CardContent>\n      </Card>\n    </DashboardLayout>\n  );\n}"],"names":["breadcrumbItems","title","link","Edit","auth","logKomdis","statusOptions","data","setData","put","processing","errors","useForm","kesalahan","kategori","keterangan","status","jsxs","DashboardLayout","user","children","jsx","className","Breadcrumbs","items","Card","CardHeader","CardTitle","_a","name","_b","nim","CardContent","onSubmit","e","preventDefault","console","log","route","id","onSuccess","router","get","onError","error","Textarea","placeholder","value","onChange","target","required","rows","Input","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","Button","type","disabled","trim","variant","onClick"],"mappings":"ulBAWA,MAAMA,EAAkB,CACtB,CAAEC,MAAO,iBAAkBC,KAAM,cACjC,CAAED,MAAO,SAAUC,KAAM,qBACzB,CAAED,MAAO,OAAQC,KAAM,MAGzB,SAAwBC,GAAKC,KAAEA,EAAAC,UAAMA,EAAAC,cAAWA,YAC9C,MAAMC,KAAEA,EAAAC,QAAMA,EAAAC,IAASA,aAAKC,EAAAC,OAAYA,GAAWC,EAAQ,CACzDC,UAAWR,EAAUQ,WAAa,GAClCC,SAAUT,EAAUS,UAAY,GAChCC,WAAYV,EAAUU,YAAc,GACpCC,OAAQX,EAAUW,QAAU,mBAmB9B,SACEC,KAACC,EAAA,CAAgBC,KAAMf,EAAKe,KAC1BC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGC,UAAU,yCAAyCF,SAAA,sBAEvDC,IAACE,EAAA,CAAYC,MAAOxB,MAEpBiB,KAACQ,EAAA,CAAKH,UAAU,OACdF,SAAA,CAAAC,EAAAA,IAACK,EAAA,CACCN,gBAACO,EAAA,CAAUP,SAAA,CAAA,wBACa,OAAAQ,EAAAvB,EAAUc,WAAV,EAAAS,EAAgBC,KAAK,KAAG,OAAAC,EAAAzB,EAAUc,WAAV,EAAAW,EAAgBC,IAAI,eAGrEC,EAAA,CACCZ,SAAAH,OAAC,QAAKgB,SA7BQC,IACpBA,EAAEC,iBAEFC,QAAQC,IAAI,mBAAoB9B,GAEhCE,EAAI6B,MAAM,0BAA2BjC,EAAUkC,IAAK,CAClDC,UAAW,KACTJ,QAAQC,IAAI,qBACZI,EAAOC,IAAIJ,MAAM,0BAAyB,EAE5CK,QAAUhC,IACRyB,QAAQQ,MAAM,iBAAkBjC,EAAM,GAEzC,EAgBmCW,UAAU,YACtCF,SAAA,CAAAH,OAAC,MAAA,CACCG,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAMC,UAAU,iCAAiCF,SAAA,6BAGlDC,EAAAA,IAACwB,EAAA,CACCC,YAAY,4DACZC,MAAOxC,EAAKM,UACZmC,SAAWd,GAAM1B,EAAQ,YAAa0B,EAAEe,OAAOF,OAC/CG,UAAQ,EACRC,KAAM,EACN7B,UAAWX,EAAOE,UAAY,iBAAmB,KAElDF,EAAOE,WACNQ,EAAAA,IAAC,KAAEC,UAAU,4BAA6BF,WAAOP,sBAIpD,MAAA,CACCO,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAMC,UAAU,iCAAiCF,SAAA,cAGlDC,EAAAA,IAAC+B,EAAA,CACCN,YAAY,+DACZC,MAAOxC,EAAKO,SACZkC,SAAWd,GAAM1B,EAAQ,WAAY0B,EAAEe,OAAOF,OAC9CzB,UAAWX,EAAOG,SAAW,iBAAmB,KAEjDH,EAAOG,UACNO,EAAAA,IAAC,KAAEC,UAAU,4BAA6BF,WAAON,qBAIpD,MAAA,CACCM,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAMC,UAAU,iCAAiCF,SAAA,yBAGlDC,EAAAA,IAACwB,EAAA,CACCC,YAAY,sCACZC,MAAOxC,EAAKQ,WACZiC,SAAWd,GAAM1B,EAAQ,aAAc0B,EAAEe,OAAOF,OAChDI,KAAM,EACN7B,UAAWX,EAAOI,WAAa,iBAAmB,KAEnDJ,EAAOI,YACNM,EAAAA,IAAC,KAAEC,UAAU,4BAA6BF,WAAOL,uBAIpD,MAAA,CACCK,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAMC,UAAU,iCAAiCF,SAAA,cAGlDH,EAAAA,KAACoC,EAAA,CAAON,MAAOxC,EAAKS,OAAQsC,cAAgBP,GAAUvC,EAAQ,SAAUuC,GACtE3B,SAAA,GAAAC,IAACkC,EAAA,CAAcjC,UAAWX,EAAOK,OAAS,iBAAmB,GAC3DI,SAAAC,EAAAA,IAACmC,EAAA,CAAYV,YAAY,0BAE1BW,EAAA,CACCrC,SAAA,CAAAC,EAAAA,IAACqC,EAAA,CAAWX,MAAM,iBAAiB3B,SAAA,mBACnCC,EAAAA,IAACqC,EAAA,CAAWX,MAAM,SAAS3B,SAAA,oBAC3BC,EAAAA,IAACqC,EAAA,CAAWX,MAAM,UAAU3B,SAAA,YAC5BC,EAAAA,IAACqC,EAAA,CAAWX,MAAM,aAAa3B,SAAA,qBAGlCT,EAAOK,QACNK,EAAAA,IAAC,KAAEC,UAAU,4BAA6BF,WAAOJ,cAIrDC,KAAC,MAAA,CAAIK,UAAU,kBACbF,SAAA,CAAAC,EAAAA,IAACsC,EAAA,CACCC,KAAK,SACLC,SAAUnD,IAAeH,EAAKM,UAAUiD,OAEvC1C,WAAa,kBAAoB,mBAEpCC,EAAAA,IAACsC,EAAA,CACCC,KAAK,SACLG,QAAQ,UACRC,QAAS,IAAMvB,EAAOC,IAAIJ,MAAM,2BAChCuB,SAAUnD,EACXU,SAAA,yBAef"}