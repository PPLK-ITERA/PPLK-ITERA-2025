import{j as e,r as l}from"./BJ63vrvw.js";import{N as a,M as s}from"./CanY_n7f.js";import{R as t}from"./4-8_HxY-.js";import{u as o}from"./B3-r_p_q.js";import{l as r}from"./De0WodCH.js";import{c}from"./cODHpOt1.js";import{C as m}from"./B_ioOCbC.js";import"./Ct_MZYFB.js";import"./DKPdzo17.js";import"./Br3FPSWO.js";import"./CU22SqzI.js";import"./FuNdJX5X.js";import"./DR0cPz1Y.js";import"./z08mKKfS.js";const n={gold:"linear-gradient(to right, #FBDA3D, #FEF39A, #FBDB41, #FCDA3A, #FFF19F, #E4C242)",silver:"linear-gradient(to right, #B0B2BA, #F4F5F7, #BEC1CA, #F4F5F7, #BEC1CA)",bronze:"linear-gradient(to right, #632801, #B3773B, #7D3819, #B3773B, #7D3819)"};function i({children:l,className:a,color:s,maxHeightPx:t}){return e.jsx("div",{className:"overflow-clip flex flex-col w-full rounded-t-lg shadow-inner",children:e.jsx("div",{style:{background:n[s],height:`${t}px`},className:`${a}`,children:e.jsx("div",{className:"place-content-center grid w-full h-full","data-aos":"zoom-in","data-aos-duration":"1000",children:l})})})}function d({kelompok:a,rank:s,className:t,podiumHeight:m,score:n}){o();const[d,x]=l.useState(!1);return l.useEffect((()=>{setTimeout((()=>{x(!0)}),100)}),[]),e.jsxs("div",{style:{transform:d?"translateY(0)":`translateY(${m}px)`},className:`flex flex-col items-center gap-3 ${t} transition-all duration-1000`,children:[e.jsx("div",{className:"grow"}),a&&e.jsxs("div",{className:"md:w-24 md:h-24 relative w-20 h-20 rounded-full shadow-lg",children:[1==s?e.jsx("div",{className:"left-1/2 absolute z-10 w-12 h-12 -translate-x-1/2 -translate-y-1/2",children:e.jsx("img",{"data-aos":"zoom-in","data-aos-duration":"700","data-aos-delay":"300",src:c,alt:"crown",className:""})}):null,e.jsx("img",{src:a.logo_kelompok?a.logo_kelompok:r,alt:a.nama_kelompok,className:"z-0 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full w-full h-full object-contain object-center"})]}),a&&e.jsx("div",{className:"text-lg font-bold",children:a.nama_kelompok}),e.jsxs("p",{className:"bg-gray-400/50 md:px-2 px-0 text-sm rounded-full",children:[a&&e.jsx("span",{className:"font-bold",children:n})," Point"]}),{1:e.jsx(i,{color:"gold",maxHeightPx:m,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})}),2:e.jsx(i,{color:"silver",maxHeightPx:m,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})}),3:e.jsx(i,{color:"bronze",maxHeightPx:m,className:"w-full",children:e.jsx("p",{className:"md:text-5xl text-3xl font-bold",children:s})})}[s]]})}function x(){o();const[c,n]=l.useState([]),[i,x]=l.useState(null),[f,h]=l.useState(!0),p=async()=>{try{const e=await fetch(route("scoreboard.top-score"),{method:"GET"}),l=await e.json();n(Array.isArray(l)?l:[])}catch(e){console.error("Gagal fetch top score:",e),n([])}},u=async()=>{try{const e=await fetch(route("scoreboard.kelompok"),{method:"GET"}),l=await e.json();x(l??null)}catch(e){console.error("Gagal fetch kelompok score:",e),x(null)}};return l.useEffect((()=>{Promise.all([p(),u()]).finally((()=>h(!1)))}),[]),e.jsxs(e.Fragment,{children:[e.jsx(a,{isFixed:!0}),e.jsx("div",{className:"h-screen relative min-h-[40vh] bg-mobile-hero-background bg-cover bg-bottom md:min-h-screen md:bg-desktop-hero-background lg:bg-desktop-hero-background",children:e.jsxs(s,{className:"md:justify-center flex flex-col items-center justify-center min-h-screen",children:[e.jsx("h1",{className:"text-jaffa-100 font-fesbud md:text-[48px] text-[20px] md:leading-none md:items-start flex flex-col items-center justify-center mt-8",children:"Leaderboard Kelompok"}),e.jsxs("div",{className:"md:max-w-2xl w-full max-w-sm mx-auto",children:[f?e.jsx(t,{className:"w-full h-full my-16 text-center text-white"}):c.length>=3?e.jsxs("div",{className:"sm:gap-4 md:max-w-2xl lg:gap-8 flex justify-center w-full max-w-lg gap-2 pt-4 overflow-y-hidden text-center",children:[e.jsx(d,{kelompok:c[1]?.kelompok,score:c[1]?.total_score??0,rank:2,podiumHeight:160,className:"w-full text-white"}),e.jsx(d,{kelompok:c[0]?.kelompok,score:c[0]?.total_score??0,rank:1,podiumHeight:196,className:"w-full text-white"}),e.jsx(d,{kelompok:c[2]?.kelompok,score:c[2]?.total_score??0,rank:3,podiumHeight:144,className:"w-full text-white"})]}):e.jsx("p",{className:"text-center text-white my-8",children:"Data belum tersedia"}),e.jsx("div",{className:"bg-moccaccino-700 w-full h-1"})]})]})}),e.jsxs("div",{className:"bg-pattern-white md:py-24 relative w-full h-full py-10 overflow-hidden border",children:[e.jsx("div",{"data-aos":"fade-up","data-aos-duration":"1000",className:"flex flex-col w-full h-full text-center",children:e.jsxs("div",{className:"z-10 py-5",children:[e.jsx("h1",{className:"font-greek text-[20px] z-10",children:"Top 10 Kelompok PPLK"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:0===c.length?null:e.jsx(m,{className:"w-full mt-8 bg-transparent border-none",children:e.jsx("ul",{className:"flex flex-col gap-2",children:c.map(((l,a)=>e.jsx(m,{className:"bg-jaffa-50 border-jaffa-300 border rounded-lg",children:e.jsxs("li",{className:"flex items-center justify-between w-full px-4 py-1","data-aos":"fade-left","data-aos-duration":200*(a+1),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-jaffa-400 text-xl font-bold",children:["#",a+1]}),e.jsx("img",{src:l.kelompok?.logo_kelompok?l.kelompok.logo_kelompok:r,alt:l.kelompok?.nama_kelompok??"Kelompok",className:"w-16 h-16 rounded-full"}),e.jsx("h2",{className:"font-bold",children:l.kelompok?.nama_kelompok??"Tidak diketahui"})]}),e.jsxs("p",{className:"bg-jaffa-400 px-2 py-1 font-bold text-white rounded-full",children:[l.total_score," pts"]})]})},a)))})})})]})}),i&&i.position>10&&e.jsx(m,{className:"bg-jaffa-300 border-jaffa-600 sticky bottom-0 flex justify-between max-w-2xl mx-auto border rounded-lg",children:e.jsxs("li",{className:"flex items-center justify-between w-full px-4 py-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-jaffa-50 text-xl font-bold",children:["#",i?.position]}),e.jsx("img",{src:i?.kelompok?.logo_kelompok??r,alt:i?.kelompok?.nama_kelompok??"Kelompok",className:"w-16 h-16 rounded-full"}),e.jsx("h2",{className:"text-jaffa-50 font-bold",children:i?.kelompok?.nama_kelompok??"Tidak diketahui"})]}),e.jsxs("p",{className:"bg-jaffa-400 px-2 py-1 font-bold text-white rounded-full",children:[i?.total_score," pts"]})]})})]})]})}export{x as default};
