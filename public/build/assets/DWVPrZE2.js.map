{"version":3,"file":"DWVPrZE2.js","sources":["../../../resources/js/Pages/Dashboard/cui/absensi/Page.tsx"],"sourcesContent":["import QRScanner from \"./QRScanner\";\nimport { IDetectedBarcode, Scanner, outline } from \"@yudiel/react-qr-scanner\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { router, useForm } from \"@inertiajs/react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\n\nimport { Button } from \"@/Components/ui/button\";\n\n// import { Scanner as ScannerComp, IScannerProps, outline, boundingBox, centerText, useDevices } from '@yudiel/react-qr-scanner'\n\nfunction Page({ auth }) {\n  const [result, setResult] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const { data, setData, post, processing } = useForm({\n    qr_code: \"\",\n  });\n\n  const handleScan = (data: string) => {\n    if (data) {\n      setData(\"qr_code\", data);\n      setError(\"\");\n    }\n  };\n\n  useEffect(() => {\n    if (data.qr_code) {\n      post(route(\"cui.scan\"));\n    }\n  }, [data.qr_code]);\n\n  const handleError = (err: Error) => {\n    setError(err.message);\n  };\n\n  return (\n    <DashboardLayout user={auth.user}>\n      <div className=\"relative w-full h-full flex flex-col items-center justify-center\">\n        <div className=\"md:w-[100%] w-[75vw] h-[70vh] items-center justify-center\">\n          {/* <QRScanner\n                        onScan={handleScan}\n                        onError={handleError}\n                        scanDelay={3000}\n                        onBack={() => {\n                            router.get(\n                                route(\"dashboard.cui\", { tab: \"presensi\" }),\n                            );\n                        }}\n                        pause={processing}\n                    /> */}\n          <h1></h1>\n\n          {loading ? (\n            <div className=\"flex items-center justify-center h-full w-full border-b-purple-900\">\n              LOADING\n            </div>\n          ) : (\n            <div className=\"w-full flex justify-center items-center\">\n              <div className=\"md:w-64\">\n                <Scanner\n                  onScan={function (detectedCodes: IDetectedBarcode[]): void {\n                    //  //console.log(detectedCodes.at(-1)?.rawValue);\n                    handleScan(detectedCodes.at(-1)?.rawValue || \"\");\n                    //  //console.log(detectedCodes);\n                  }}\n                  components={{\n                    finder: true,\n                    tracker: outline,\n                    zoom: true,\n                  }}\n                  allowMultiple={true}\n                  scanDelay={2000}\n                  paused={loading}\n                  styles={{\n                    container: {\n                      width: \"100%\",\n                    },\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n        <Button\n          onClick={() =>\n            router.get(route(\"dashboard.cui\", { tab: \"presensi\" }))\n          }\n        >\n          Absensi Manual\n        </Button>\n\n        {result && <p className=\"hidden md:block\">Scanned Result: {result}</p>}\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport default Page;\n"],"names":["Page","auth","result","setResult","useState","error","setError","loading","setLoading","data","setData","post","useForm","qr_code","useEffect","route","jsx","DashboardLayout","user","children","jsxs","className","Scanner","onScan","detectedCodes","at","rawValue","components","finder","tracker","outline","zoom","allowMultiple","scanDelay","paused","styles","container","width","Button","onClick","router","get","tab"],"mappings":"4aAaA,SAASA,GAAKC,KAAEA,IACd,MAAOC,EAAQC,GAAaC,EAAAA,SAAiB,KACtCC,EAAOC,GAAYF,EAAAA,SAAiB,KACpCG,EAASC,GAAcJ,EAAAA,UAAS,IACjCK,KAAEA,EAAAC,QAAMA,EAAAC,KAASA,GAAqBC,EAAQ,CAClDC,QAAS,KAoBX,OAVAC,EAAAA,WAAU,KACJL,EAAKI,SACPF,EAAKI,MAAM,YACb,GACC,CAACN,EAAKI,UAOPG,EAAAA,IAACC,GAAgBC,KAAMjB,EAAKiB,KAC1BC,SAAAC,EAAAA,KAAC,MAAA,CAAIC,UAAU,mEACbF,SAAA,GAAAC,KAAC,MAAA,CAAIC,UAAU,4DAYbF,SAAA,CAAAH,EAAAA,IAAC,KAAA,IAEAT,EACCS,EAAAA,IAAC,MAAA,CAAIK,UAAU,qEAAqEF,SAAA,YAIpFH,EAAAA,IAAC,MAAA,CAAIK,UAAU,0CACbF,SAAAH,EAAAA,IAAC,MAAA,CAAIK,UAAU,UACbF,SAAAH,EAAAA,IAACM,EAAA,CACCC,OAAQ,SAAUC,GA1Cf,IAACf,KA4CSe,EAAcC,IAAG,IAAKC,UAAY,MA1C3DhB,EAAQ,UAAWD,GACnBH,EAAS,IA2CG,EACAqB,WAAY,CACVC,QAAQ,EACRC,QAASC,EACTC,MAAM,GAERC,eAAe,EACfC,UAAW,IACXC,OAAQ3B,EACR4B,OAAQ,CACNC,UAAW,CACTC,MAAO,kBAQrBrB,EAAAA,IAACsB,EAAA,CACCC,QAAS,IACPC,EAAOC,IAAI1B,MAAM,gBAAiB,CAAE2B,IAAK,cAE5CvB,SAAA,mBAIAjB,GAAUkB,EAAAA,KAAC,IAAA,CAAEC,UAAU,kBAAkBF,SAAA,CAAA,mBAAiBjB,SAInE"}