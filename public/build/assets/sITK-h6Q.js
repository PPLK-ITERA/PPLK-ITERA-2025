import{W as s,j as a,y as e}from"./DPkeyV0Z.js";import i from"./CBgECWGI.js";import{D as r}from"./DJkYPbEh.js";import{A as n,a as l,b as t,c as d,d as o,e as c,f as h,g as m,h as j}from"./B8IdjMT5.js";import{B as x}from"./CGKbRqdy.js";import{D as p,a as u,b as g,c as f,d as b,e as k,f as w,g as y}from"./Aj9aYhOD.js";import{L as v}from"./CfsfQZha.js";import{T as N}from"./DkEZjzKt.js";import{T as P}from"./BZKv3Yx_.js";import{t as K}from"./Cbch3Dsg.js";import{D as L}from"./B8W6LvIE.js";import{S as z}from"./UhoGynFQ.js";import{B as _}from"./XDjAWZcj.js";import{C as A,b as C,c as M,a as D}from"./Dq5ng9JT.js";import{S as B,a as I,b as H,c as S,d as T,e as F,f as G}from"./BR1d1T6e.js";import{T as $,a as R,b as U,c as V}from"./M9w7iYvs.js";import"./G8BpqsGO.js";import"./C7BOBBkI.js";import"./Ba4YecwC.js";import"./BZMESt7D.js";import"./DC8fWKBq.js";import"./BW33h4_-.js";import"./Dl7M0piC.js";import"./BDTiwGHV.js";import"./CErQCflw.js";import"./Za4s007u.js";import"./DQVYKXaw.js";import"./7ap_y-tI.js";import"./BZtDV8eV.js";import"./Bv85lZcH.js";import"./B8vkMj7J.js";import"./vJfwK3Dn.js";import"./DyHN3fpo.js";import"./BYlGbGkP.js";const W=({data:i})=>{const{data:r,setData:L,get:z,post:_,processing:A,errors:C}=s({id:i.id,kehadiran:"",keterangan:""});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1 p-2",children:[a.jsxs(n,{children:[a.jsx(l,{asChild:!0,children:a.jsx(x,{size:"sm",children:"Absen"})}),a.jsxs(t,{children:[a.jsxs(d,{children:[a.jsxs(o,{children:["Apakah Anda yakin ingin meng-Absen"," ",i.user.name]}),a.jsx(c,{children:"Aksi ini akan mengubah status maba menjadi hadir."})]}),a.jsxs(h,{children:[a.jsx(m,{children:"Cancel"}),a.jsx(j,{onClick:()=>{"Hadir"!==i.user.status?e.post(route("dashboard.presensi.absen"),{...r,kehadiran:"Hadir"},{onSuccess:()=>{K({title:"Berhasil",description:`Berhasil mengabsen ${i.user.name}`}),window.location.reload()}}):K({title:"Gagal",description:`Maba ${i.user.name} sudah hadir`,variant:"destructive"})},children:"Continue"})]})]})]}),"Hadir"!==i.user.status?a.jsxs(p,{children:[a.jsx(u,{asChild:!0,children:a.jsx(x,{className:"gap-2",size:"sm",variant:"outline",children:"Set Izin"})}),a.jsxs(g,{className:"sm:max-w-[425px]",children:[a.jsxs(f,{children:[a.jsxs(b,{children:["Ingin Set Izin ",i.user.name," ?"]}),a.jsx(k,{children:"Isi bagian catatan dan aksi ini akan mengubah status maba menjadi izin"})]}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx(v,{htmlFor:"asnwer",className:"text-left",children:"Catatan"}),a.jsx(N,{id:"asnwer",value:r.keterangan,onChange:s=>L("keterangan",s.target.value),placeholder:"Berikan catatan izin",className:"mt-1"})]})}),a.jsxs(w,{children:[a.jsx(y,{asChild:!0,children:a.jsx(x,{variant:"outline",children:"Batalkan"})}),a.jsx(y,{asChild:!0,children:a.jsx(x,{onClick:()=>{e.post(route("dashboard.presensi.absen"),{...r,kehadiran:"Izin"},{onSuccess:()=>{K({title:"Berhasil",description:`Berhasil mengizinkan ${i.user.name}`}),window.location.reload()}})},children:"Lanjutkan"})})]})]})]}):null]}),a.jsx(P,{})]})},q=[{id:"no",header:"No",cell:({row:s})=>s.original.no},{id:"photo_profile",accessorKey:"user.photo_profile_url",header:"Foto Profil",cell:({row:s})=>a.jsx("img",{className:"h-[120px] w-[300px] object-cover aspect-3/4",src:s.original.user.photo_profile_url,alt:"Foto Profil"})},{id:"name",accessorKey:"user.name",header:"Nama"},{id:"nim",accessorKey:"user.nim",header:"NIM"},{id:"status",accessorKey:"user.status",header:"Status"},{id:"ket_status",accessorKey:"user.ket_izin",header:"Keterangan Izin"},{id:"nama_kelompok",accessorKey:"user.nama_kelompok",header:"Kelompok"},{id:"pita",accessorKey:"user.penyakit.pita",header:"Warna Pita"},{id:"ket_penyakit",accessorKey:"user.penyakit.ket_penyakit",header:"Riwayat Penyakit",cell:({row:s})=>a.jsx("p",{children:s.original.user.penyakit.ket_penyakit})},{id:"tanggal_presensi",accessorKey:"user.tanggal_presensi",header:"Waktu Presensi",cell:({row:s})=>a.jsx("p",{children:s.original.user.tanggal_presensi})},{id:"actions",header:"Aksi",cell:({row:s})=>a.jsx(W,{data:s.original})}],E=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between"}),a.jsx(z,{}),a.jsx(L,{searchKey:"name",columns:q,apiEndpoint:route("dashboard.presensi.data"),title:"Data Absensi Maba",description:"Gunakan sistem informasi ini untuk manajemen kehadiran maba!"})]}),J=[{title:"Dashboard",link:"/dashboard"},{title:"Absensi Maba",link:"/dashboard/absensi-maba"}];function O({auth:s,response:e}){return a.jsxs(r,{user:s.user,children:[a.jsx(_,{items:J}),a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Absensi Maba"}),a.jsxs(B,{onValueChange:s=>{console.log("date",s)},children:[a.jsx(I,{className:"w-[180px]",children:a.jsx(H,{placeholder:"Pilih Hari/Tanggal"})}),a.jsx(S,{children:a.jsxs(T,{children:[a.jsx(F,{children:"Day PPLK"}),a.jsx(G,{value:"2024-08-01",children:"Pra-PPLK"}),a.jsx(G,{value:"2024-08-12",children:"Day 1 PPLK"}),a.jsx(G,{value:"2024-08-13",children:"Day 2 PPLK"}),a.jsx(G,{value:"2024-08-14",children:"Day 3 PPLK"}),a.jsx(G,{value:"2024-08-15",children:"Day 4 PPLK"}),a.jsx(G,{value:"2024-08-16",children:"Day 5 PPLK"}),a.jsx(G,{value:"2024-08-17",children:"CUI"})]})})]}),a.jsxs("div",{className:"lg:grid-cols-4 grid grid-cols-2 gap-4",children:[a.jsxs(A,{children:[a.jsxs(C,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[a.jsx(M,{className:"text-sm font-medium text-green-500",children:"Maba Hadir"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",className:"fill-green-500",viewBox:"0 0 16 16",children:a.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})]}),a.jsx(D,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.data.hadir})})]}),a.jsxs(A,{children:[a.jsxs(C,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[a.jsx(M,{className:"text-sm font-medium text-red-600",children:"Maba Tidak Hadir"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",className:"fill-red-600",viewBox:"0 0 16 16",children:a.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})]}),a.jsx(D,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.data.tidakHadir})})]}),a.jsxs(A,{children:[a.jsxs(C,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[a.jsx(M,{className:"text-sm font-medium text-yellow-500",children:"Maba Izin"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",className:"fill-yellow-500",viewBox:"0 0 16 16",children:a.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})]}),a.jsx(D,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.data.izin})})]})]}),a.jsxs($,{defaultValue:"tabel-kehadiran",className:"space-y-4",children:[a.jsxs(R,{children:[a.jsx(U,{value:"tabel-kehadiran",children:"Tabel Kehadiran"}),a.jsx(U,{value:"presensi",children:"Presensi"})]}),a.jsx(V,{value:"presensi",children:a.jsx(i,{})}),a.jsx(V,{value:"tabel-kehadiran",children:a.jsx(E,{})})]})]})}export{O as default};
