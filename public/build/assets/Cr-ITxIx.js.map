{"version":3,"file":"Cr-ITxIx.js","sources":["../../../resources/js/Components/tables/kelompok/cell-action.tsx","../../../resources/js/Components/tables/kelompok/columns.tsx","../../../resources/js/Components/tables/kelompok/client.tsx","../../../resources/js/Pages/Dashboard/informasi-kelompok/Page.tsx"],"sourcesContent":["\"use client\";\n\n// import { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n\nimport { Link } from \"@inertiajs/react\";\n\nimport { Edit, MoreHorizontal, Trash } from \"lucide-react\";\n\nimport { AlertModal } from \"@/Components/dashboard/modal/alert-modal\";\nimport { Button, buttonVariants } from \"@/Components/ui/button\";\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuLabel,\n    DropdownMenuTrigger,\n} from \"@/Components/ui/dropdown-menu\";\n\nimport { User } from \"@/lib/data/data\";\nimport { UserMaba } from \"@/lib/types/User\";\n\ninterface CellActionProps {\n    data: UserMaba;\n}\n\nexport const CellAction: React.FC<CellActionProps> = ({ data }) => {\n    const [loading, setLoading] = useState(false);\n    const [open, setOpen] = useState(false);\n    // const router = useRouter();\n\n    const onConfirm = async () => {};\n\n    return (\n        <>\n            <AlertModal\n                isOpen={open}\n                onClose={() => setOpen(false)}\n                onConfirm={onConfirm}\n                loading={loading}\n            />\n            <div className=\"flex gap-1 p-2\">\n                <Link\n                    href={`/dashboard/user/edit/${data.id}`}\n                    className={`${buttonVariants({ size: \"sm\" })}`}\n                >\n                    Edit\n                </Link>\n            </div>\n        </>\n    );\n};\n","\"use client\";\n\nimport { CellAction } from \"./cell-action\";\nimport { ColumnDef } from \"@tanstack/react-table\";\nimport { format } from \"date-fns\";\nimport QRCode from \"react-qr-code\";\n\nimport { UserMaba } from \"@/lib/types/User\";\n\nexport const columns: ColumnDef<UserMaba>[] = [\n    {\n        id: \"no\",\n        header: \"No\",\n        cell: ({ row }) => row.original.no,\n    },\n    {\n        id: \"name\",\n        accessorKey: \"user.name\",\n        header: \"Nama\",\n        cell: ({ row }) => row.original.user.name,\n    },\n    {\n        id: \"nim\",\n        accessorKey: \"user.nim\",\n        header: \"NIM\",\n        cell: ({ row }) => row.original.user.nim,\n    },\n    {\n        id: \"email\",\n        accessorKey: \"user.email\",\n        header: \"Email\",\n        cell: ({ row }) => row.original.user.email,\n    },\n    {\n        id: \"actions\",\n        header: \"Aksi\",\n        cell: ({ row }) => <CellAction data={row.original} />,\n    },\n];\n","\"use client\";\n\nimport { columns } from \"./columns\";\n\nimport { DataTable } from \"@/Components/ui/data-table\";\nimport { Separator } from \"@/Components/ui/separator\";\n\nexport const KelompokClient = () => {\n    return (\n        <>\n            <div className=\"flex items-start justify-between\"></div>\n            <Separator />\n            <DataTable\n                searchKey=\"Nama, Nim, Email\"\n                columns={columns}\n                apiEndpoint={route(\"dashboard.user.data.maba\")}\n                title={\"Data Kelompok\"}\n                description={\n                    \"Gunakan sistem informasi ini untuk melihat data kelompok!\"\n                }\n            />\n        </>\n    );\n};\n","import { PageProps } from \"vendor/laravel/breeze/stubs/inertia-react-ts/resources/js/types\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport { useForm, usePage } from \"@inertiajs/react\";\n\nimport { IconPencil } from \"@tabler/icons-react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\n\nimport { KelompokClient } from \"@/Components/tables/kelompok/client\";\nimport { Breadcrumbs } from \"@/Components/ui/breadcrumbs\";\nimport { Button } from \"@/Components/ui/button\";\nimport {\n    Dialog,\n    DialogClose,\n    DialogContent,\n    DialogFooter,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/Components/ui/dialog\";\nimport { Input } from \"@/Components/ui/input\";\nimport { Label } from \"@/Components/ui/label\";\nimport { Toaster } from \"@/Components/ui/toaster\";\nimport { useToast } from \"@/Components/ui/use-toast\";\n\nimport { Kelompok } from \"@/lib/types/InformasiKelompok\";\n\nimport logopplk from \"!assets/logo-pplk-2024.png\";\n\nconst breadcrumbItems = [\n    { title: \"Dashboard\", link: \"/dashboard\" },\n    { title: \"Informasi Kelompok\", link: \"/dashboard/informasi-kelompok\" },\n];\n\ninterface flashresponse extends PageProps {\n    flash: {\n        response: {\n            status: number;\n            message: string;\n        };\n    };\n}\n\nexport default function Page({ auth }: { auth: any }) {\n    const { toast } = useToast();\n\n    const { flash } = usePage<flashresponse>().props;\n\n    useEffect(() => {\n        if (flash.response) {\n            if (flash.response.status === 200) {\n                toast({\n                    title: \"Berhasil\",\n                    description: flash.response.message,\n                    variant: \"default\",\n                });\n            } else {\n                toast({\n                    title: \"Gagal\",\n                    description: flash.response.message,\n                    variant: \"destructive\",\n                });\n            }\n\n            window.location.reload();\n        }\n    }, [flash, toast]);\n\n    const [file, setFile] = useState(null);\n    const [previewUrl, setPreviewUrl] = useState(\"\");\n    const [dataKelompok, setDataKelompok] = useState<Kelompok>();\n\n    const { data, setData, post } = useForm({\n        nama_kelompok: \"\",\n        logo_kelompok: null,\n        _method: \"put\",\n    });\n\n    const handleImageChange = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            // Check if the file is an image\n            if (!file.type.startsWith(\"image\")) {\n                toast({\n                    title: \"Invalid File Type\",\n                    description: \"Tolong pilih file gambar.\",\n                    variant: \"destructive\",\n                });\n                setFile(null);\n                setData(\"logo_kelompok\", null);\n                setPreviewUrl(\"\");\n                return;\n            }\n\n            // Check if the file size exceeds 2MB\n            if (file.size > 2048000) {\n                // 2MB in bytes\n                toast({\n                    title: \"File Too Large\",\n                    description: \"Pilih foto yang berukuran dibawah 2MB.\",\n                    variant: \"destructive\",\n                });\n                setFile(null);\n                setData(\"logo_kelompok\", null);\n                setPreviewUrl(\"\");\n                return;\n            }\n\n            // If all checks pass, update state and set the file for upload\n            setFile(file);\n            setPreviewUrl(URL.createObjectURL(file));\n            setData(\"logo_kelompok\", file);\n        } else {\n            setFile(null);\n            setData(\"logo_kelompok\", null);\n            setPreviewUrl(\"\");\n        }\n    };\n\n    const getDataKelompok = async () => {\n        const response = await fetch(route(\"dashboard.kelompok.data\"), {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        const data = await response.json();\n\n        setDataKelompok(data);\n        setData(\"nama_kelompok\", data.nama_kelompok);\n    };\n\n    useEffect(() => {\n        getDataKelompok();\n    }, []);\n\n    // useEffect(() => {}, []);\n\n    const changeDataKelompok = () => {\n        post(route(\"dashboard.kelompok.update\"));\n    };\n\n    return (\n        <>\n            <DashboardLayout user={auth.user}>\n                <Breadcrumbs items={breadcrumbItems} />\n                <h2 className=\"text-3xl font-bold tracking-tight\">\n                    Informasi Kelompok\n                </h2>\n\n                <div className=\"w-36 h-36 md:mx-0 mx-auto overflow-hidden border rounded-full\">\n                    {dataKelompok?.logo_kelompok ? (\n                        <img\n                            src={dataKelompok?.logo_kelompok}\n                            alt={`logo kelompok ${dataKelompok?.nama_kelompok}`}\n                        />\n                    ) : (\n                        <img src={logopplk} alt=\"logopplk\" />\n                    )}\n                </div>\n\n                <div className=\"flex items-center justify-start gap-2 font-semibold\">\n                    <p className=\"line-clamp-1 text-lg capitalize\">\n                        Kelompok {dataKelompok?.no_kelompok}{\" \"}\n                        {dataKelompok?.nama_kelompok}\n                    </p>\n\n                    <Dialog>\n                        <DialogTrigger asChild>\n                            <IconPencil className=\"-mt-[1px] cursor-pointer\" />\n                        </DialogTrigger>\n\n                        <DialogContent className=\"sm:max-w-[425px]\">\n                            <DialogHeader>\n                                <DialogTitle>\n                                    Edit Informasi Kelompok\n                                </DialogTitle>\n                            </DialogHeader>\n                            <div className=\"grid gap-4 py-4\">\n                                <div className=\"w-36 h-36 relative flex items-center justify-center mx-auto border rounded-full\">\n                                    {previewUrl ? (\n                                        <div className=\"w-36 h-36 overflow-hidden rounded-full\">\n                                            <img\n                                                src={previewUrl}\n                                                alt=\"preview-image-kelompok w-full h-full\"\n                                            />\n                                        </div>\n                                    ) : (\n                                        <div className=\"w-36 h-36 overflow-hidden rounded-full\">\n                                            <img\n                                                src={\n                                                    dataKelompok?.logo_kelompok\n                                                }\n                                                alt={`logo kelompok ${dataKelompok?.nama_kelompok}`}\n                                            />\n                                        </div>\n                                    )}\n\n                                    <Label htmlFor=\"upload-logo-kelompok\">\n                                        <IconPencil\n                                            size={32}\n                                            color=\"white\"\n                                            className=\"-mt-[1px] cursor-pointer absolute bottom-1 right-1 bg-primary border rounded-full p-1\"\n                                        />\n                                    </Label>\n\n                                    <Input\n                                        type=\"file\"\n                                        onChange={handleImageChange}\n                                        accept=\"image/*\"\n                                        className=\"hidden\"\n                                        id=\"upload-logo-kelompok\"\n                                    />\n                                </div>\n\n                                <div className=\"flex flex-col\">\n                                    <Label\n                                        htmlFor=\"nama-kelompok\"\n                                        className=\"text-left\"\n                                    >\n                                        Nama Kelompok\n                                    </Label>\n\n                                    <Input\n                                        id=\"nama-kelompok\"\n                                        value={data.nama_kelompok}\n                                        onChange={(e) =>\n                                            setData(\n                                                \"nama_kelompok\",\n                                                e.target.value,\n                                            )\n                                        }\n                                        placeholder=\"Nama Kelompok Anda\"\n                                        className=\"mt-1\"\n                                    />\n                                </div>\n                            </div>\n                            <DialogFooter>\n                                <DialogClose asChild>\n                                    <Button\n                                        variant={\"outline\"}\n                                        // disabled={processing}\n                                    >\n                                        Batalkan\n                                    </Button>\n                                </DialogClose>\n                                <DialogClose asChild>\n                                    <Button\n                                        type=\"submit\"\n                                        onClick={changeDataKelompok}\n                                        // disabled={processing}\n                                    >\n                                        Simpan\n                                    </Button>\n                                </DialogClose>\n                            </DialogFooter>\n                        </DialogContent>\n                    </Dialog>\n                </div>\n\n                <div className=\"flex max-w-sm gap-2\">\n                    <div className=\"w-full px-2 py-3 border-2 rounded-md\">\n                        <h2 className=\"font-bold\">Daplok</h2>\n\n                        <div className=\"mt-5\">\n                            <p className=\"text-lg font-bold\">\n                                {dataKelompok?.daplok.name}\n                            </p>\n                            <p className=\"font-semibold\">\n                                {dataKelompok?.daplok.prodi.nama_prodi}\n                            </p>\n                        </div>\n                    </div>\n\n                    <div className=\"w-full px-2 py-3 border-2 rounded-md\">\n                        <h2 className=\"font-bold\">Mentor</h2>\n\n                        <div className=\"mt-5\">\n                            <p className=\"text-lg font-bold\">\n                                {dataKelompok?.mentor.name}\n                            </p>\n                            <p className=\"font-semibold\">\n                                {dataKelompok?.mentor.prodi.nama_prodi}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"flex flex-col items-center justify-center max-w-sm px-10 py-5 border-2 rounded-md\">\n                    <h2 className=\"font-semibold\">Absensi Maba</h2>\n\n                    <Button className=\"mt-3\">Mulai Absen Maba</Button>\n                </div>\n\n                <KelompokClient />\n            </DashboardLayout>\n            <Toaster />\n        </>\n    );\n}\n"],"names":["CellAction","data","loading","setLoading","useState","open","setOpen","jsxRuntimeExports","jsxs","Fragment","children","jsx","AlertModal","isOpen","onClose","onConfirm","async","className","Link","href","id","buttonVariants","size","columns","header","cell","row","original","no","accessorKey","user","name","nim","email","KelompokClient","Separator","DataTable","searchKey","apiEndpoint","route","title","description","breadcrumbItems","link","Page","auth","toast","useToast","flash","usePage","props","useEffect","response","status","message","variant","window","location","reload","file","setFile","previewUrl","setPreviewUrl","dataKelompok","setDataKelompok","setData","post","useForm","nama_kelompok","logo_kelompok","_method","fetch","method","headers","json","DashboardLayout","Breadcrumbs","items","src","alt","logopplk","no_kelompok","Dialog","DialogTrigger","asChild","IconPencil","DialogContent","DialogHeader","DialogTitle","Label","htmlFor","color","Input","type","onChange","event","target","files","startsWith","URL","createObjectURL","accept","value","e","placeholder","DialogFooter","DialogClose","Button","onClick","daplok","prodi","nama_prodi","mentor","Toaster"],"mappings":"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"}