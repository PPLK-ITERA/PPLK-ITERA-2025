import{W as e,j as l,r as a,Y as s}from"./BY-GGcvP.js";import{Q as t}from"./Ce__vhOk.js";import{F as r}from"./BSbMXc4h.js";import{N as o}from"./fb5xXWss.js";import{T as i}from"./BV2G3g2m.js";import{B as m}from"./f1uPbqpn.js";import{D as n,f as d,a as x,b as c,c as p,g as u,e as h}from"./C_sxBxTN.js";import{I as f}from"./CtFxohYU.js";import{L as g}from"./Dh3FlciD.js";import{T as j}from"./B6B-TmYA.js";import{t as b}from"./CRjfKT3B.js";import{u as w}from"./Dtq8WJaY.js";import{I as k}from"./Dv5acnvy.js";import"./C0u18CNn.js";import"./CO0I9pYX.js";import"./CNyTlPDr.js";import"./BtYB3mo9.js";import"./CiCbmGtf.js";import"./Sc4NIWF5.js";import"./Dja-iDAc.js";import"./z08mKKfS.js";import"./3-sYBDTW.js";const v=({props:a})=>{const{data:s,setData:t,put:r}=e({linkedinURL:a.linkedin_url||"",instagramURL:a.instagram_url||"",bio:a.bio||""});return l.jsx("div",{className:"bg-[url('/image/profile/background1.png')] bg-repeat bg-[length:450px_450px] bg-origin-border w-full bg-transparent",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-full max-w-7-xl xl:max-w-7xl lg:max-w-7xl md:max-w-7xl sm:max-w-7xl flex flex-col lg:flex-row gap-4",children:l.jsx("div",{className:"flex flex-col w-full items-center lg:items-start",children:l.jsx("div",{className:"w-full max-w-3xl",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-md border p-6 w-full",children:[l.jsx("h2",{className:"font-bold text-lg mb-4",children:"Profil Kamu"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Nama Lengkap"}),l.jsx("input",{type:"text",value:a.name,readOnly:!0,className:"w-full bg-[#98989840] text-[#3F150B] border border-[#C2C2C2] rounded-md px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"NIM"}),l.jsx("input",{type:"text",value:a.nim??"",placeholder:a.nim?"":"Silahkan menghubungi Dapmen",readOnly:!0,className:"w-full bg-[#98989840] text-[#3F150B] border rounded-md px-3 py-2 "+(a.nim,"border-[#C2C2C2]")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Prodi"}),l.jsx("input",{type:"text",value:a.prodi.nama_prodi,readOnly:!0,className:"w-full bg-[#98989840] text-[#3F150B] border border-[#C2C2C2] rounded-md px-3 py-2"})]})]}),l.jsx("h2",{className:"font-bold text-lg mt-6 mb-3",children:"Sosial Media"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{htmlFor:"linkedin",className:"block text-sm mb-1",children:"Link LinkedIn"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"linkedin",value:s.linkedinURL,onChange:e=>{t("linkedinURL",e.target.value)},placeholder:"ex. https://www.linkedin.com/in/username/",className:"xl:max-w-[396px] xl:max-h-[44px] w-full h-[48px] rounded-sm border border-jaffa-600 bg-white text-monserrat text-[16px] pl-10 p-1"}),l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none ",children:l.jsx("img",{src:"/image/profile/lock.png",className:"w-[20px] ml-1"})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{htmlFor:"instagram",className:"block text-sm mb-1",children:"Link Instagram"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"instagram",value:s.instagramURL,onChange:e=>{t("instagramURL",e.target.value)},placeholder:"ex. https://www.instagram.com/pplkitera/",className:"xl:max-w-[396px] xl:max-h-[44px] w-full h-[48px] rounded-sm border border-jaffa-600 bg-white text-monserrat text-[16px] pl-10 p-1"}),l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:l.jsx("img",{src:"/image/profile/lock.png",className:"w-[20px] ml-1"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bio",className:"block text-sm mb-1",children:"Bio Relasi Jaringan"}),l.jsx(i,{id:"bio",value:s.bio,onChange:e=>{t("bio",e.target.value)},placeholder:"Tulis bio kamu disini...",className:"xl:max-w-[396px] xl:h-[88px] w-full h-full rounded-sm border border-jaffa-600 bg-white text-monserrat text-[16px] max-h-[150px] resize-none"})]}),l.jsx(m,{className:"flex justify-center items-center xl:w-[396px] xl:h-[40px] w-full h-full p-2 bg-gradient-to-b from-[#B9822F] to-[#A6680C] rounded-sm md:mt-4",onClick:()=>{r(route("profile.update"))},children:l.jsx("h2",{className:"text-[14px] font-montserrat font-medium text-center text-white",children:"Simpan"})})]})]})})})})})})},N=({props:e})=>{const a=(e=>{switch(e){case 1:return{nama:"Fakultas Sains",image:"/image/profile/fs.png"};case 2:return{nama:"Fakultas Teknologi Infrastruktur dan Kewilayahan",image:"/image/profile/ftik.png"};case 3:return{nama:"Fakultas Teknologi Industri",image:"/image/profile/fti.png"};default:return{nama:"Fakultas Tidak Diketahui",image:"/image/profile/default.png"}}})(e.fakultas_id??3);return l.jsxs("div",{className:"xl:max-w-xs lg:max-w-xs md:max-w-xs sm:max-w-lg mx-auto flex flex-col gap-2",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md border px-6 py-4 text-center space-y-2",children:[l.jsx("p",{className:"text-xs font-bold text-black",children:"Asal Fakultas Mahasiswa"}),l.jsx("img",{src:a.image,alt:a.nama,className:"w-36 mx-auto"}),l.jsx("p",{className:"text-md text-[#B18E63] font-semibold",children:a.nama})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md border p-4 flex-1",children:[l.jsx("h3",{className:"font-medium text-md mb-3",children:"Tentang PPLK"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold",children:"Nama Kelompok"}),l.jsx("input",{type:"text",value:e.nama_kelompok,readOnly:!0,className:"w-full h-[40px] bg-[#F0EFEF] rounded-md px-3 py-1 text-[#3F150B] border-1 border-[#C2C2C2] mt-1 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold",children:"Nomor Kelompok"}),l.jsx("input",{type:"text",value:e.no_kelompok,readOnly:!0,className:"w-full h-[40px] bg-[#F0EFEF] rounded-md px-3 py-1 text-[#3F150B] border-1 border-[#C2C2C2] mt-1 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold",children:"Nama Daplok"}),l.jsx("input",{type:"text",value:e.nama_daplok,readOnly:!0,className:"w-full h-[40px] bg-[#F0EFEF] rounded-md px-3 py-1 text-[#3F150B] border-1 border-[#C2C2C2] mt-1 text-sm mb-3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold ",children:"Nama Mentor"}),l.jsx("input",{type:"text",value:e.nama_mentor,readOnly:!0,className:"w-full h-[40px] bg-[#F0EFEF] rounded-md px-3 py-1 text-[#3F150B] border-1 border-[#C2C2C2] mt-1 text-sm"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"text-sm font-medium",children:"Sertifikat Kelulusan PPLK"}),l.jsx("input",{className:"w-full rounded-md px-2 py-1 resize-none h-36 mt-3 border-1 border-[#000000]",readOnly:!0})]}),l.jsx("button",{className:"w-full bg-gradient-to-r from-[#B9822F] to-[#A6680C] text-white text-xs font-semibold py-2 rounded-sm mt-3",children:"Download Sertifikat"})]})]})},y=({response:i})=>{w();const y=i.data,[C,F]=a.useState(null),[_,B]=a.useState(""),[L,P]=a.useState(""),{setData:E,post:S}=e({photo:null,_method:"put"});a.useEffect((()=>{P(y.qrcode)}),[]);return l.jsxs(l.Fragment,{children:[l.jsx(s,{title:"Profil Saya"}),l.jsx("div",{className:"",style:{backgroundImage:"url(/image/profile/patern3.png)",backgroundRepeat:"repeat",backgroundSize:"1400px"},children:l.jsxs("div",{className:"bg-pattern-white",children:[l.jsx(o,{isSolid:!0,isFixed:!0}),l.jsx(j,{}),l.jsxs("div",{className:"sm:flex-row mb-28 flex flex-col justify-center gap-3 pt-32 mx-auto",children:[l.jsxs("div",{className:"flex flex-col items-center gap-4 mx-2",children:[l.jsxs("div",{className:"relative w-[212px] h-[212px] overflow-hidden flex justify-center items-center rounded-full border",children:[_?l.jsx("img",{src:_??"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"preview-image-kelompok",className:"object-cover object-center w-full h-full"}):l.jsx("img",{src:y.photo_profile_url??"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"logopplk",className:"object-cover object-center w-full h-full"}),l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"bendera",className:"absolute bottom-1 right-1 w-8 h-8 rounded-full border border-white shadow-md"})]}),l.jsx("h2",{className:"text-center text-[16px] font-montserrat font-bold",children:y.name}),l.jsx("div",{className:"",children:l.jsxs(n,{children:[l.jsx(d,{asChild:!0,children:l.jsx(m,{className:"bg-white text-[#CF7A1F] border border-[#CF7A1F] hover:bg-white hover:border-[#cf7a1f] hover:shadow-md transition-colors duration-200",children:"Edit Foto Profil"})}),l.jsxs(x,{className:"sm:max-w-[425px]",children:[l.jsx(c,{children:l.jsx(p,{children:"Edit Foto Profilmu"})}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"relative flex items-center justify-center mx-auto rounded-full",children:[l.jsx("div",{className:"w-36 h-36 flex items-center justify-center overflow-hidden border rounded-full",children:_?l.jsx("img",{src:_,alt:"preview-image-kelompok",className:"object-cover object-center w-full h-full"}):l.jsx("img",{src:y.photo_profile_url??"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"logopplk",className:"object-cover object-center w-full h-full"})}),l.jsx(g,{htmlFor:"upload-logo-kelompok",children:l.jsx(k,{size:32,color:"white",className:"-mt-[1px] cursor-pointer absolute bottom-1 right-1 bg-gradient-to-b from-[#B9822F] to-[#A6680C] border rounded-full p-1"})}),l.jsx(f,{type:"file",onChange:e=>{const l=e.target.files[0];if(l){if(!l.type.startsWith("image"))return b({title:"Invalid File Type",description:"Tolong pilih file gambar.",variant:"destructive"}),F(null),E("photo",null),void B("");if(l.size>2048e3)return b({title:"File Too Large",description:"Pilih foto yang berukuran dibawah 2MB.",variant:"destructive"}),F(null),E("photo",null),void B("");F(l),B(URL.createObjectURL(l)),E("photo",l)}else F(null),E("photo",null),B("")},accept:"image/*",className:"hidden",id:"upload-logo-kelompok"})]})}),l.jsxs(u,{children:[l.jsx(h,{asChild:!0,children:l.jsx(m,{variant:"outline",children:"Batalkan"})}),l.jsx(h,{asChild:!0,children:l.jsx(m,{onClick:()=>{S(route("profile.update.profile"))},className:"bg-gradient-to-b from-[#B9822F] to-[#A6680C]",children:"Simpan"})})]})]})]})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-black font-montserrat font-bold text-[16px] text-center mt-9 md:mt-5 sm:mt-1 ",children:"QR Presensi"}),l.jsx("div",{className:"aspect-square bg-[#DA5B1C] border flex justify-center items-center mt-1 w-[200px] h-[200px] rounded-md",children:""===L?l.jsx("p",{children:"Loading..."}):l.jsx(t,{value:L,size:200,includeMargin:!0,level:"H",width:500,height:500,bgColor:"#DA5B1C",fgColor:"#ffffff"})})]}),l.jsx(m,{className:"bg-gradient-to-b from-[#B9822F] to-[#A6680C]",onClick:()=>{const e=document.querySelector("canvas").toDataURL("image/png").replace("image/png","image/octet-stream");let l=document.createElement("a");l.href=e,l.download=`${y.name}_${y.nim}_qrcode.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},children:"Download QR Code"})]}),l.jsxs("div",{className:"flex flex-col gap-6 mx-2",children:[l.jsx("div",{className:"mx-auto flex  xl:items-start xl:justify-start xl:max-w-[945px] md:max-w-[920px] lg:max-w-[800px] md:max-h-[108px] w-full h-full bg-jaffa-600 rounded-xl",children:l.jsxs("div",{className:"xl:p-3 flex flex-col gap-2 p-5 ml-1",children:[l.jsxs("h2",{className:"flex md:text-[19px] lg:text-[19px] text-[19px] font-montserrat font-semibold text-white items-center",children:[l.jsx("img",{src:"/build/assets/BVbdTp-4.png",alt:"info",className:"mr-2"}),"Informasi"]}),l.jsx("p",{className:"md:text-[15px] lg:text-[15px] text-[15px] font-montserrat font-normal text-white",children:"Hubungi Daplok atau Mentor jika terdapat kesalahan data"})]})}),l.jsxs("div",{className:"md:flex-row flex flex-col gap-8",children:[l.jsx("div",{className:"xl:max-h-auto xl:max-w-[444px] lg:max-w-[350px] mx-auto w-full rounded-md bg-transparent",children:l.jsx(v,{props:{name:y.name,nim:y.nim,role:y.role,photo_profile_url:y.photo_profile_url,linkedin_url:y.linkedin_url,instagram_url:y.instagram_url,kelompok:y.kelompok,pilar:y.pilar,viewCount:y.viewCount,followersCount:y.followersCount,followingsCount:y.followingsCount,qrcode:y.qrcode,prodi:y.prodi,bio:y.bio}})}),l.jsx("div",{className:"md:max-h-[605px] lg:max-h-[590px] xl:max-w-[444px] lg:max-w-[350px] mx-auto w-full h-full rounded-md",children:l.jsx(N,{props:{nama_daplok:y.kelompok.daplok,nama_mentor:y.kelompok.mentor,nama_kelompok:y.kelompok.nama_kelompok,no_kelompok:y.kelompok.no_kelompok,fakultas_id:y.prodi.fakultas_id}})})]})]})]}),l.jsx(r,{})]})}),l.jsx(j,{})]})};export{y as default};
