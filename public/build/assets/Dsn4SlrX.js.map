{"version":3,"file":"Dsn4SlrX.js","sources":["../../../resources/js/Pages/Dashboard/cui/izin/Page.tsx"],"sourcesContent":["import { format } from \"date-fns\";\nimport { PageProps } from \"vendor/laravel/breeze/stubs/inertia-react-ts/resources/js/types\";\n\nimport React from \"react\";\n\nimport { router, useForm, usePage } from \"@inertiajs/react\";\n\nimport { ArrowLeft } from \"lucide-react\";\n\nimport DashboardLayout from \"@/Layouts/DashboardLayout\";\n\nimport { Breadcrumbs } from \"@/Components/ui/breadcrumbs\";\nimport { Button } from \"@/Components/ui/button\";\nimport { Input } from \"@/Components/ui/input\";\nimport { Separator } from \"@/Components/ui/separator\";\nimport { Toaster } from \"@/Components/ui/toaster\";\nimport { useToast } from \"@/Components/ui/use-toast\";\n\nconst breadcrumbItems = [\n  { title: \"Dashboard\", link: \"/dashboard\" },\n  { title: \"CUI\", link: \"/dashboard/cui\" },\n  { title: \"Izin\", link: \"/dashboard/cui/izin\" },\n];\n\nfunction TextBox({ value, label }: { value: string; label: string }) {\n  return (\n    <div className=\"flex items-center gap-2\">\n      <p className=\"outline outline-1 py-1 px-2 rounded-full\">{label}</p>\n      <p className=\"outline outline-1 py-1 px-2 rounded-full\">{value}</p>\n    </div>\n  );\n}\n\nfunction DateTimeBox({ value, label }: { value: string; label: string }) {\n  return (\n    <div className=\"flex items-center gap-2 \">\n      <div className=\"bg-gray-200 w-40 py-1 px-2 outline outline-1 outline-black/30 rounded-md font-medium\">\n        {label}\n      </div>\n      {value ? format(value, \"dd/MM/yyyy HH:mm\") : \"-\"}\n    </div>\n  );\n}\n\nfunction StatusPita({ pita }: { pita: string }) {\n  if (pita === \"hijau\") {\n    return (\n      <div className=\"bg-green-500 flex justify-center items-center p-2 rounded-lg\">\n        <p className=\"font-bold text-lg text-white\">Pita Hijau</p>\n      </div>\n    );\n  } else if (pita === \"kuning\") {\n    return (\n      <div className=\"bg-yellow-500 flex justify-center items-center p-2 rounded-lg\">\n        <p className=\"font-bold text-lg text-white\">Pita Kuning</p>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"bg-red-500 flex justify-center items-center p-2 rounded-lg\">\n        <p className=\"font-bold text-lg text-white\">Pita Merah</p>\n      </div>\n    );\n  }\n}\n\nfunction Page({ auth, data, flash }) {\n  const {\n    data: formData,\n    setData: setFormData,\n    post,\n    patch,\n    processing,\n  } = useForm({\n    ket_izin: \"\",\n  });\n  const { toast } = useToast();\n\n  React.useEffect(() => {\n    if (flash.response) {\n      if (flash.response.status === 200) {\n        toast({\n          title: \"Berhasil\",\n          description: flash.response.message,\n          variant: \"default\",\n        });\n      } else {\n        toast({\n          title: \"Gagal\",\n          description: flash.response.message,\n          variant: \"destructive\",\n        });\n      }\n    }\n  }, [flash, toast]);\n\n  const handleIzin = () => {\n    post(route(\"cui.izin\", data.qr_code));\n  };\n\n  const handleCabutIzin = () => {\n    patch(route(\"cui.destroy\", data.qr_code));\n  };\n\n  return (\n    <>\n      <DashboardLayout user={auth.user}>\n        <div className=\"flex items-center justify-between space-y-2\">\n          <h2 className=\"text-3xl font-bold tracking-tight\">\n            Izin Peserta CUI\n          </h2>\n        </div>\n\n        <Breadcrumbs items={breadcrumbItems} />\n        <Separator />\n        <Button\n          variant=\"outline\"\n          onClick={() => router.replace(route(\"dashboard.cui\"))}\n        >\n          <ArrowLeft className=\"mr-2\" /> Kembali\n        </Button>\n        <div className=\"flex flex-col md:flex-row md:items-start justify-center items-center gap-4\">\n          <img\n            className=\"w-64 h-96 rounded-lg drop-shadow-lg\"\n            src={data.photo_profile_url}\n            alt=\"Foto Profil\"\n          />\n          <div className=\"flex flex-col w-full gap-2 ml-3 outline rounded-md outline-1 outline-black/30 p-2\">\n            <p className=\"font-bold text-lg\">Deskripsi</p>\n            <TextBox value={data.nama} label=\"Nama\" />\n            <TextBox value={data.nim} label=\"NIM\" />\n            <TextBox value={data.prodi} label=\"Prodi\" />\n            <Separator />\n\n            <div className=\"flex items-center gap-2\">\n              <p className=\"font-bold text-lg\">Status</p>\n              <p className=\"uppercase outline px-2 rounded-md bg-slate-200 font-medium outline-black/30 outline-1\">\n                {data.status}\n              </p>\n            </div>\n            <StatusPita pita={data.pita} />\n            <DateTimeBox label={\"Waktu Hadir\"} value={data.waktu_hadir} />\n            <DateTimeBox label={\"Waktu Izin\"} value={data.waktu_izin} />\n            <DateTimeBox\n              label={\"Waktu Selesai Izin\"}\n              value={data.selesai_izin}\n            />\n          </div>\n\n          <div className=\"flex flex-col w-full gap-2 ml-3 outline rounded-md outline-1 outline-black/30 p-2\">\n            <p className=\"font-bold text-lg\">Atur Izin</p>\n            <Separator />\n            {data.status === \"hadir\" ? (\n              <div className=\"flex flex-col gap-2\">\n                <Input\n                  onChange={(e) => setFormData(\"ket_izin\", e.target.value)}\n                  value={formData.ket_izin}\n                  placeholder=\"Keterangan\"\n                />\n\n                <Button\n                  className=\"w-full\"\n                  disabled={processing}\n                  onClick={handleIzin}\n                >\n                  Submit\n                </Button>\n              </div>\n            ) : (\n              <div>\n                <p>\n                  <span className=\"font-medium\">Keterangan izin</span>\n                  <br />\n                  {data.ket_izin}\n                </p>\n                <Separator className=\"my-3\" />\n                <Button\n                  className=\"w-full\"\n                  disabled={processing}\n                  onClick={handleCabutIzin}\n                >\n                  Cabut Izin\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </DashboardLayout>\n      <Toaster />\n    </>\n  );\n}\n\nexport default Page;\n"],"names":["breadcrumbItems","title","link","TextBox","value","label","jsxs","className","children","jsx","DateTimeBox","format","StatusPita","pita","Page","auth","data","flash","formData","setData","setFormData","post","patch","processing","useForm","ket_izin","toast","useToast","React","useEffect","response","status","description","message","variant","jsxRuntimeExports","Fragment","DashboardLayout","user","Breadcrumbs","items","Separator","Button","onClick","router","replace","route","ArrowLeft","src","photo_profile_url","alt","nama","nim","prodi","waktu_hadir","waktu_izin","selesai_izin","Input","onChange","e","target","placeholder","disabled","qr_code","Toaster"],"mappings":"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"}