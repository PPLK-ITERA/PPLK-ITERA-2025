import{j as e,W as s,a,r as l}from"./Bn9ZB4In.js";import{D as i}from"./U86jyzg0.js";import{D as r,f as o,a as t,b as d,c as n,d as m,g as c,e as h}from"./Cg3mTt2p.js";import{p,a as x,b as j,c as u,P as k}from"./CZwMuaGl.js";import{A as f,a as g,b,c as v,d as N,e as w,f as y,g as _,h as C}from"./DM9viDYg.js";import{b as K,B as D}from"./BhP6A7-3.js";import{D as A}from"./DNdxwxjl.js";import{S as E}from"./DJ4ylmyw.js";import{B as F}from"./BCUoiaoS.js";import{I as P}from"./DGsWg_ya.js";import{L as B}from"./Bc7mUC1l.js";import{T as I}from"./Ct0xQGWr.js";import{u as S}from"./B_92FyG_.js";import{u as M}from"./Ba_OPeBv.js";import{l as $}from"./z08mKKfS.js";import{I as T}from"./BDypoFMx.js";import"./BSAxLKsk.js";import"./CBVuIHIj.js";import"./BxDPZtBj.js";import"./BvDxZe5W.js";import"./BELJS3jY.js";import"./CgL7Faz3.js";import"./qz5uz89B.js";import"./BKpOc1Zl.js";import"./DS-qx-uy.js";import"./DgNwS5Up.js";import"./BWAKTBD8.js";import"./DjK13lC_.js";import"./DyKupxJf.js";import"./WBiqt6TG.js";import"./BaD9fAq3.js";import"./CgSkoW6E.js";const z=({dataPilar:s})=>{const a=({textColor:s,gradient:a,angka:l,hasil:i})=>e.jsxs("div",{className:"font-montserrat mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("p",{className:`${s} text-lg font-bold`,children:["Pilar ",l," :"," "+(1===l?"Work Hard":2===l?"Sharing is Caring":3===l?"Equity":"Refinement")]}),e.jsxs("p",{className:`${s} self-end font-medium `,children:[i,"/",10]})]}),"Belum memiliki Pilar",e.jsx("div",{className:"text-xl font-bold",children:e.jsx(k,{className:a,value:100*i/10})})]});return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs w-full text-center",children:s.user.pilar.nama}),e.jsxs(r,{children:[e.jsx(o,{asChild:!0,children:e.jsx("div",{className:"flex justify-center hover:cursor-pointer",children:1===s.user.pilar.id?e.jsx("img",{src:p,height:60,width:60}):2===s.user.pilar.id?e.jsx("img",{src:x,height:60,width:60}):3===s.user.pilar.id?e.jsx("img",{src:j,height:60,width:60}):4===s.user.pilar.id?e.jsx("img",{src:u,height:60,width:60}):null})}),e.jsxs(t,{className:"sm:max-w-[425px]",children:[e.jsxs(d,{children:[e.jsxs(n,{children:["Pilar ",s.user.pilar.nama]}),e.jsxs(m,{children:["Berikut detail asesmen oleh ",s.user.name," yang mendapatkan pilar ",s.user.pilar.nama]})]}),e.jsxs("div",{className:"flex justify-center flex-col items-center gap-5",children:[1===s.user.pilar.id?e.jsx("img",{src:p,height:100,width:100}):2===s.user.pilar.id?e.jsx("img",{src:x,height:100,width:100}):3===s.user.pilar.id?e.jsx("img",{src:j,height:100,width:100}):4===s.user.pilar.id?e.jsx("img",{src:u,height:100,width:100}):null,e.jsxs("div",{className:"font-montserrat border-2 drop-shadow-xl bg-white py-5 px-10 rounded-xl border-[#74211A]",children:[e.jsx("div",{children:e.jsx(a,{angka:1,hasil:s.user.pilar.hasil.sifat_1,textColor:"text-[#74301A]",gradient:"bg-gradient-to-r from-[#864D0D] to-[#432005]"})}),e.jsx("div",{children:e.jsx(a,{angka:2,hasil:s.user.pilar.hasil.sifat_2,textColor:"text-[#9A241A]",gradient:"bg-gradient-to-r from-[#B54419] to-[#90381C]"})}),e.jsx("div",{children:e.jsx(a,{angka:3,hasil:s.user.pilar.hasil.sifat_3,textColor:"text-[#DA5B1C]",gradient:"bg-gradient-to-r from-[#ED8F45] to-[#ED8F45]"})})]})]})]})]})]})},L=({data:l})=>{const{data:i,setData:r,put:o}=s({id:l.id,_method:"put"});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1 p-2",children:[e.jsx(a,{href:`/dashboard/user/edit/${l.id}`,className:`${K({size:"sm"})}`,children:"Edit"}),e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsx(D,{variant:"outline",size:"sm",children:"Set Ketua Kelompok"})}),e.jsxs(b,{children:[e.jsxs(v,{children:[e.jsx(N,{children:"Apakah kamu yakin?"}),e.jsx(w,{children:"Kamu akan mengubah status user ini menjadi ketua kelompok."})]}),e.jsxs(y,{children:[e.jsx(_,{children:"Cancel"}),e.jsx(C,{onClick:()=>{o(route("dashboard.kelompok.set-ketua"))},children:"Continue"})]})]})]})]})})},R=[{id:"no",header:"No",cell:({row:e})=>e.original.no},{id:"name",accessorKey:"user.name",header:"Nama",cell:({row:e})=>e.original.user.name},{id:"nim",accessorKey:"user.nim",header:"NIM",cell:({row:e})=>e.original.user.nim},{id:"email",accessorKey:"user.email",header:"Email",cell:({row:e})=>e.original.user.email},{id:"pilar",header:"Pilar",cell:({row:s})=>e.jsx(z,{dataPilar:s.original})},{id:"status",accessorKey:"user.isKetua",header:"Status",cell:({row:e})=>e.original.user.isKetua?"Ketua":"Anggota"},{id:"actions",header:"Aksi",cell:({row:s})=>e.jsx(L,{data:s.original})}],G=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-between"}),e.jsx(E,{}),e.jsx(A,{searchKey:"Nama, Nim, Email",columns:R,apiEndpoint:route("dashboard.user.data.maba"),title:"Data Kelompok",description:"Gunakan sistem informasi ini untuk melihat data kelompok!"})]}),q=[{title:"Dashboard",link:"/dashboard"},{title:"Informasi Kelompok",link:"/dashboard/informasi-kelompok"}];function O({auth:m}){const{toast:p}=S();M();const[x,j]=l.useState(null),[u,k]=l.useState(""),[f,g]=l.useState(),{data:b,setData:v,post:N}=s({nama_kelompok:"",logo_kelompok:null,_method:"put"});l.useEffect((()=>{(async()=>{const e=await fetch(route("dashboard.kelompok.data"),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();g(s),v("nama_kelompok",s.nama_kelompok)})()}),[]);return e.jsxs(e.Fragment,{children:[e.jsxs(i,{user:m.user,children:[e.jsx(F,{items:q}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Informasi Kelompok"}),e.jsx("div",{className:"w-36 h-36 md:mx-0 mx-auto overflow-hidden border rounded-full",children:(null==f?void 0:f.logo_kelompok)?e.jsx("img",{src:null==f?void 0:f.logo_kelompok,alt:`logo kelompok ${null==f?void 0:f.nama_kelompok}`}):e.jsx("img",{src:$,alt:"logopplk"})}),e.jsxs("div",{className:"flex items-center justify-start gap-2 font-semibold",children:[e.jsxs("p",{className:"line-clamp-1 text-lg capitalize",children:["Kelompok ",null==f?void 0:f.no_kelompok," ",null==f?void 0:f.nama_kelompok]}),e.jsxs(r,{children:[e.jsx(o,{asChild:!0,children:e.jsx(T,{className:"-mt-[1px] cursor-pointer"})}),e.jsxs(t,{className:"sm:max-w-[425px]",children:[e.jsx(d,{children:e.jsx(n,{children:"Edit Informasi Kelompok"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"w-36 h-36 relative flex items-center justify-center mx-auto border rounded-full",children:[u?e.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:e.jsx("img",{src:u,alt:"preview-image-kelompok w-full h-full"})}):e.jsx("div",{className:"w-36 h-36 overflow-hidden rounded-full",children:e.jsx("img",{src:(null==f?void 0:f.logo_kelompok)?null==f?void 0:f.logo_kelompok:$,alt:`logo kelompok ${null==f?void 0:f.nama_kelompok}`})}),e.jsx(B,{htmlFor:"upload-logo-kelompok",children:e.jsx(T,{size:32,color:"white",className:"-mt-[1px] cursor-pointer absolute bottom-1 right-1 bg-primary border rounded-full p-1"})}),e.jsx(P,{type:"file",onChange:e=>{const s=e.target.files[0];if(s){if(!s.type.startsWith("image"))return p({title:"Invalid File Type",description:"Tolong pilih file gambar.",variant:"destructive"}),j(null),v("logo_kelompok",null),void k("");if(s.size>2048e3)return p({title:"File Too Large",description:"Pilih foto yang berukuran dibawah 2MB.",variant:"destructive"}),j(null),v("logo_kelompok",null),void k("");j(s),k(URL.createObjectURL(s)),v("logo_kelompok",s)}else j(null),v("logo_kelompok",null),k("")},accept:"image/*",className:"hidden",id:"upload-logo-kelompok"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(B,{htmlFor:"nama-kelompok",className:"text-left",children:"Nama Kelompok"}),e.jsx(P,{id:"nama-kelompok",value:b.nama_kelompok,onChange:e=>v("nama_kelompok",e.target.value),placeholder:"Nama Kelompok Anda",className:"mt-1"})]})]}),e.jsxs(c,{children:[e.jsx(h,{asChild:!0,children:e.jsx(D,{variant:"outline",children:"Batalkan"})}),e.jsx(h,{asChild:!0,children:e.jsx(D,{type:"submit",onClick:()=>{N(route("dashboard.kelompok.update"))},children:"Simpan"})})]})]})]})]}),e.jsxs("div",{className:"flex max-w-sm gap-2",children:[e.jsxs("div",{className:"w-full px-2 py-3 border-2 rounded-md",children:[e.jsx("h2",{className:"font-bold",children:"Daplok"}),e.jsxs("div",{className:"mt-5",children:[e.jsx("p",{className:"text-lg font-bold",children:null==f?void 0:f.daplok.name}),e.jsx("p",{className:"font-semibold",children:null==f?void 0:f.daplok.prodi.nama_prodi})]})]}),e.jsxs("div",{className:"w-full px-2 py-3 border-2 rounded-md",children:[e.jsx("h2",{className:"font-bold",children:"Mentor"}),e.jsxs("div",{className:"mt-5",children:[e.jsx("p",{className:"text-lg font-bold",children:null==f?void 0:f.mentor.name}),e.jsx("p",{className:"font-semibold",children:null==f?void 0:f.mentor.prodi.nama_prodi})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-sm px-10 py-5 border-2 rounded-md",children:[e.jsx("h2",{className:"font-semibold",children:"Absensi Maba"}),e.jsx(a,{href:route("dashboard.absensi-maba/presensi"),className:`${K()} mt-2`,children:"Mulai Absen Maba"})]}),e.jsx(G,{})]}),e.jsx(I,{})]})}export{O as default};
