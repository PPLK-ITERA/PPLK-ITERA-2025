import{j as e,r as s,y as a}from"./Bz8SZWRk.js";import{D as t}from"./BZoNY6fk.js";import{T as l}from"./DjQhxjbt.js";import{c as i}from"./BPBzuKzv.js";import{B as n}from"./Cj141LS1.js";import{P as r}from"./C2Qhw3z1.js";import{u as o}from"./C_Fr9O0H.js";import{m}from"./DUzdFDD5.js";import{A as c}from"./Dw0DIQYb.js";import"./BP7_iprW.js";import"./BTz_fBL6.js";import"./bKzaXQS6.js";import"./5epn7TdO.js";import"./DntUL_3w.js";import"./DqPY_V92.js";import"./ySNKc6ss.js";import"./CY9_FK64.js";import"./BZtDV8eV.js";import"./7ap_y-tI.js";import"./D0R_arE2.js";const d=({className:s=""})=>e.jsxs("div",{className:`max-md:grow ${s}`,children:[e.jsx("div",{className:"animate-pulse w-full h-6 text-xl font-semibold bg-gray-300 rounded-lg"}),e.jsx("div",{className:"animate-pulse w-full h-4 mt-2 bg-gray-300 rounded-lg"}),e.jsx("div",{className:"animate-pulse w-full h-16 p-4 mt-4 bg-gray-300 rounded-lg shadow-inner"}),e.jsx("ul",{className:"flex flex-col w-full gap-2 mt-8",children:Array.from({length:4}).map(((s,a)=>e.jsx("li",{children:e.jsx("div",{className:"animate-pulse w-full h-12 bg-gray-300 rounded-lg"})},a)))}),e.jsx("div",{className:"max-md:grow"}),e.jsx("div",{className:"animate-pulse w-full h-12 my-8 bg-gray-300 rounded-lg"})]});function u(){const{toast:t}=o(),[u,f]=s.useState([]),[x,h]=s.useState(!0),[j,g]=s.useState(!1),[p,w]=s.useState(0),[v,y]=s.useState(null),[N,b]=s.useState("");s.useEffect((()=>{(async()=>{try{const e=await fetch(route("csrf")),s=await e.json();b(s.csrfToken)}catch(e){console.error("Error fetching CSRF token:",e)}})(),async function(){h(!0),await fetch(route("asesmen.question")).then((e=>e.json())).then((e=>{f(e.data.questions),h(!1)}))}()}),[]);return e.jsxs(m.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,ease:[.16,1,.3,1]},className:"mt-20 mx-auto px-8 flex flex-col items-center justify-center h-full max-w-3xl text-start place-content-center text-white gap-4 overflow-y-auto font-montserrat",children:[x?e.jsx(d,{className:"w-full"}):e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("div",{className:"max-md:grow"}),e.jsxs("span",{className:"text-sm md:text-xl font-semibold w-full text-moccaccino-950",children:["Pertanyaan ",p+1,"/",u.length]}),e.jsx(r,{value:100*(p+1)/u.length}),e.jsx("div",{className:"w-full min-h-48 max-h-64 overflow-y-auto p-4 rounded-lg shadow-inner bg-black/25",children:e.jsx("h2",{className:"max-md:text-sm font-semibold text-justify",children:u[p].teks_pertanyaan})}),e.jsx("ul",{className:"w-full flex flex-col gap-2 mt-4 md:mt-8",children:u[p].answers.map((s=>e.jsx("li",{children:e.jsx(n,{disabled:j,onClick:()=>{return e=s.id,void y(e);var e},className:i({" text-candlelight-800 hover:bg-jaffa-100 ring-1 ring-black/5 ":s.id!==v," bg-gradient-to-r from-candlelight-800 to-candlelight-950":s.id===v},"bg-white transition duration-400 w-full h-full font-medium text-wrap py-2 max-md:text-sm "),children:s.teks_jawaban})},s.id)))}),e.jsx("div",{className:"max-md:grow"}),e.jsxs(n,{onClick:async function(){if(null!==v)try{if(g(!0),await fetch(route("asesmen.answer",{question_id:u[p].id,answer_id:v}),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":N}}),g(!1),p===u.length-1)return void a.get(route("asesmen.result"));w(p+1),y(null)}catch(e){t({variant:"destructive",title:"Gagal mengirim jawaban, mohon coba lagi hehe"})}},disabled:null===v||j,className:"w-full bg-jaffa-600 my-4 md:my-8 hover:bg-jaffa-600/80",children:[p<u.length-1?"Next":"Submit",p<u.length-1?e.jsx(c,{className:"ml-2"}):e.jsx("svg",{className:"ml-2",width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.5 1.62503C0.500012 1.54192 0.516601 1.45964 0.548796 1.38302C0.580991 1.30639 0.628146 1.23696 0.6875 1.17878C1.36865 0.511053 2.27866 0.127987 3.23229 0.107551C4.18592 0.0871153 5.11149 0.430846 5.82063 1.06878L6.04 1.27378C6.49589 1.67322 7.08138 1.89342 7.6875 1.89342C8.29363 1.89342 8.87911 1.67322 9.335 1.27378L9.49063 1.1319C9.87188 0.83003 10.445 1.07128 10.4969 1.5544L10.5 1.62503V7.25003C10.5 7.33314 10.4834 7.41542 10.4512 7.49204C10.419 7.56867 10.3719 7.6381 10.3125 7.69628C9.63135 8.36401 8.72134 8.74707 7.76772 8.76751C6.81409 8.78794 5.88851 8.44421 5.17938 7.80628L4.96 7.60128C4.51846 7.21441 3.95486 6.99526 3.36795 6.98223C2.78104 6.9692 2.20827 7.16313 1.75 7.53003V11.625C1.74982 11.7843 1.68883 11.9376 1.57947 12.0534C1.47011 12.1692 1.32065 12.2389 1.16163 12.2483C1.0026 12.2576 0.846013 12.2059 0.723855 12.1036C0.601697 12.0014 0.52319 11.8563 0.504375 11.6982L0.5 11.625V1.62503Z",fill:"white"})})]})]}),e.jsx(l,{})]})}function f({auth:s}){return e.jsx("div",{children:e.jsx(t,{isSolid:!0,children:e.jsx("div",{className:"bg-pattern-white",children:e.jsx(u,{})})})})}export{f as default};
