{"version":3,"file":"D5_y8G9T.js","sources":["../../../resources/js/Pages/Tesla/Page.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { TeslaSoal, TeslaFeedback } from \"@/lib/types/tesla\";\nimport Navbar from \"@/Components/Navbar\";\nimport { Card } from \"@/Components/ui/card\";\nimport MaxWidthWrapper from \"@/Components/MaxWidthWrapper\";\n\nconst TeslaPage: React.FC = () => {\n    const [soals, setSoals] = useState<TeslaSoal[]>([]);\n    const [jawaban, setJawaban] = useState<{ [key: number]: string }>({});\n    const [feedback, setFeedback] = useState<{ [nomor: number]: TeslaFeedback }>({});\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchSoals = async () => {\n            setLoading(true);\n            const res = await fetch(\"/api/get-tesla\");\n            const data = await res.json();\n            setSoals(data.data || []);\n            setLoading(false);\n        };\n        fetchSoals();\n    }, []);\n\n    const handleChange = (nomor: number, value: string) => {\n        setJawaban(prev => ({ ...prev, [nomor]: value }));\n    };\n\n    const handleSubmit = async (nomor: number) => {\n        try {\n            const trimmedJawaban = (jawaban[nomor] || \"\").trim();\n            const res = await fetch(`/api/tesla/jawab/${nomor}`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-Requested-With\": \"XMLHttpRequest\",\n                    \"X-CSRF-TOKEN\": (document.querySelector('meta[name=\"csrf-token\"]') as HTMLMetaElement)?.content || \"\",\n                },\n                body: JSON.stringify({\n                    jawaban: trimmedJawaban\n                }),\n            });\n            const data = await res.json();\n            setFeedback(prev => ({\n                ...prev,\n                [nomor]: {\n                    message: data?.message || \"Jawaban dikirim!\",\n                    hasil: data?.hasil || \"\",\n                    jawaban_user: trimmedJawaban\n                }\n            }));\n        } catch (err) {\n            setFeedback(prev => ({\n                ...prev,\n                [nomor]: {\n                    message: \"Terjadi kesalahan.\",\n                    hasil: \"error\"\n                }\n            }));\n        }\n    };\n\n    // Pisahkan soal mendatar dan menurun\n    const mendatar = soals.filter(s => s.tipe === \"mendatar\");\n    const menurun = soals.filter(s => s.tipe === \"menurun\");\n\n    return (\n        <>\n            <Navbar isFixed={true} />\n            <MaxWidthWrapper className=\"flex flex-col items-center justify-center min-h-screen py-8 mt-20\">\n                <h2 className=\"text-3xl font-bold mb-6 text-center text-jaffa-700\">TTS Tesla</h2>\n                {loading ? (\n                    <div className=\"text-center py-8\">Memuat soal...</div>\n                ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-4xl\">\n                    <Card className=\"p-6 bg-white shadow-md border\">\n                        <h3 className=\"text-xl font-semibold mb-4 text-jaffa-600\">Mendatar</h3>\n                        <div className=\"flex flex-col gap-4\">\n                            {mendatar.map(soal => (\n                                <div key={soal.nomor} className=\"flex flex-col md:flex-row md:items-center gap-2\">\n                                    <span className=\"font-bold text-jaffa-500\">{soal.nomor}.</span>\n                                    <span className=\"flex-1\">{soal.pertanyaan}</span>\n                                    {/* Tidak tampilkan jawaban di sini */}\n                                    <input\n                                        className=\"border rounded px-2 py-1\"\n                                        type=\"text\"\n                                        value={jawaban[soal.nomor] || \"\"}\n                                        onChange={e => handleChange(soal.nomor, e.target.value)}\n                                    />\n                                    <button\n                                        className=\"bg-jaffa-500 hover:bg-jaffa-600 text-white px-3 py-1 rounded ml-2\"\n                                        onClick={() => handleSubmit(soal.nomor)}\n                                    >\n                                        Jawab\n                                    </button>\n                                    {feedback[soal.nomor] && (\n                                        <span className={`ml-2 font-semibold ${feedback[soal.nomor].hasil === \"benar\" ? \"text-green-600\" : feedback[soal.nomor].hasil === \"salah\" ? \"text-red-600\" : \"text-orange-600\"}`}>\n                                            {feedback[soal.nomor].message}\n                                        </span>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </Card>\n                    <Card className=\"p-6 bg-white shadow-md border\">\n                        <h3 className=\"text-xl font-semibold mb-4 text-jaffa-600\">Menurun</h3>\n                        <div className=\"flex flex-col gap-4\">\n                            {menurun.map(soal => (\n                                <div key={soal.nomor} className=\"flex flex-col md:flex-row md:items-center gap-2\">\n                                    <span className=\"font-bold text-jaffa-500\">{soal.nomor}.</span>\n                                    <span className=\"flex-1\">{soal.pertanyaan}</span>\n                                    {/* Tidak tampilkan jawaban di sini */}\n                                    <input\n                                        className=\"border rounded px-2 py-1\"\n                                        type=\"text\"\n                                        value={jawaban[soal.nomor] || \"\"}\n                                        onChange={e => handleChange(soal.nomor, e.target.value)}\n                                    />\n                                    <button\n                                        className=\"bg-jaffa-500 hover:bg-jaffa-600 text-white px-3 py-1 rounded ml-2\"\n                                        onClick={() => handleSubmit(soal.nomor)}\n                                    >\n                                        Jawab\n                                    </button>\n                                    {feedback[soal.nomor] && (\n                                        <span className={`ml-2 font-semibold ${feedback[soal.nomor].hasil === \"benar\" ? \"text-green-600\" : feedback[soal.nomor].hasil === \"salah\" ? \"text-red-600\" : \"text-orange-600\"}`}>\n                                            {feedback[soal.nomor].message}\n                                        </span>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </Card>\n                </div>\n                )}\n            </MaxWidthWrapper>\n        </>\n    );\n};\n\nexport default TeslaPage;\n\n"],"names":["TeslaPage","soals","setSoals","useState","jawaban","setJawaban","feedback","setFeedback","loading","setLoading","useEffect","async","res","fetch","data","json","fetchSoals","handleChange","nomor","value","prev","handleSubmit","trimmedJawaban","trim","method","headers","_a","document","querySelector","content","body","JSON","stringify","message","hasil","jawaban_user","err","mendatar","filter","s","tipe","menurun","jsxs","Fragment","children","jsx","Navbar","isFixed","MaxWidthWrapper","className","Card","map","soal","pertanyaan","type","onChange","e","target","onClick"],"mappings":"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"}