import{r as e,d as t,j as s,S as a,R as n}from"./mCs0_5eZ.js";import{D as r}from"./4YLRUzvw.js";import"./DocJWecp.js";import"./Cfxdy0pn.js";import"./B2D7BOnK.js";import"./BsNXE2dy.js";import"./CY3pyCHT.js";import"./CGT3pM0Y.js";import"./CHG9B3YZ.js";import"./BqiQOqiG.js";import"./z08mKKfS.js";import"./C0u18CNn.js";function l(){const[l,o]=e.useState("Petunjuk Soal"),[i,d]=e.useState(!1),[c,m]=e.useState(!1),[x,h]=e.useState(!1),[u,g]=e.useState(!1),[w,f]=e.useState(!1),[p,b]=e.useState(null),[j,y]=e.useState(null),[v,N]=e.useState("across"),[k,C]=e.useState({across:[],down:[]}),[S,W]=e.useState([]),[R,$]=e.useState(0),[E,L]=e.useState(!0),[H,A]=e.useState(""),[T,_]=e.useState(""),[M,P]=e.useState({correct:0,wrong:0}),[B,z]=e.useState(!0),[I,J]=e.useState(!1),[F,D]=e.useState({}),[O,X]=e.useState([]),Y=e.useRef(null),[K,U]=e.useState({across:[],down:[]}),[G,q]=e.useState([]);e.useEffect((()=>{(async()=>{z(!0);try{const e=(await t.get("/api/admin/tesla/")).data.data;let s=0,a=0;e.forEach((e=>{"mendatar"===e.tipe?(s=Math.max(s,e.start_row),a=Math.max(a,e.start_col+(e.jawaban?.length||0)-1)):"menurun"===e.tipe&&(s=Math.max(s,e.start_row+(e.jawaban?.length||0)-1),a=Math.max(a,e.start_col))}));const n=Math.max(s+1,a+1,10),r=e.filter((e=>"mendatar"===e.tipe)).map((e=>({number:e.nomor,clue:e.pertanyaan,answer:e.jawaban,direction:"across",startRow:e.start_row,startCol:e.start_col,isAnswered:!1}))),l=e.filter((e=>"menurun"===e.tipe)).map((e=>({number:e.nomor,clue:e.pertanyaan,answer:e.jawaban,direction:"down",startRow:e.start_row,startCol:e.start_col,isAnswered:!1}))),o=Array(n).fill(null).map((()=>Array(n).fill(null).map((()=>({letter:"",isBlack:!1,isSelected:!1,isHighlighted:!1,isCorrect:!1,isWrong:!1})))));e.forEach((e=>{e.start_row>=0&&e.start_row<n&&e.start_col>=0&&e.start_col<n&&(o[e.start_row][e.start_col].number=e.nomor)})),U({across:r,down:l}),q(o)}catch{U({across:[],down:[]}),q([])}z(!1)})()}),[]),e.useEffect((()=>{I&&(Q(),L(!0),$(0))}),[I]),e.useEffect((()=>{if(!I)return;const e=setInterval((()=>{E&&$((e=>e+1))}),1e3);return()=>clearInterval(e)}),[E,I]);const Q=()=>{z(!0),C({across:K.across.map((e=>({...e,isAnswered:!1}))),down:K.down.map((e=>({...e,isAnswered:!1})))}),W(G.map((e=>e.map((e=>({...e,letter:"",isSelected:!1,isHighlighted:!1,isCorrect:!1,isWrong:!1})))))),z(!1)},V=()=>{const e=S.map((e=>e.map((e=>e.isWrong?{...e,letter:""}:e))));W(e),D({})},Z=e=>{const t=S.map((e=>e.map((e=>({...e,isHighlighted:!1,isSelected:!1,isWrong:!1})))));if("across"===e.direction){for(let s=e.startCol;s<e.startCol+e.answer.length;s++)s<t[e.startRow].length&&(t[e.startRow][s].isHighlighted=!0);t[e.startRow][e.startCol].isSelected=!0,b({row:e.startRow,col:e.startCol})}else{for(let s=e.startRow;s<e.startRow+e.answer.length;s++)s<t.length&&(t[s][e.startCol].isHighlighted=!0);t[e.startRow][e.startCol].isSelected=!0,b({row:e.startRow,col:e.startCol})}y(e),W(t)},ee=async()=>{if(!H||!T||!j)return;const e=T.toUpperCase();if(e.length!==j.answer.length)return;let s="salah";try{const e=await t.post(`/api/admin/tesla/${j.number}`,{jawaban:T});s=e.data.hasil}catch{s="salah"}let a=[...S.map((e=>[...e]))],n=a.length,r=!1;if("across"===j.direction){j.startCol+j.answer.length-1>=n&&(r=!0)}else{j.startRow+j.answer.length-1>=n&&(r=!0)}if("benar"===s&&r){const e=Math.max("across"===j.direction?j.startCol+j.answer.length:n,"down"===j.direction?j.startRow+j.answer.length:n,n+1),t=()=>({letter:"",isBlack:!1,isSelected:!1,isHighlighted:!1,isCorrect:!1,isWrong:!1});for(;a.length<e;)a.push(Array(e).fill(null).map(t));for(let s=0;s<a.length;s++)for(;a[s].length<e;)a[s].push(t());n=e}if("across"===j.direction)for(let t=0;t<j.answer.length;t++){const e=j.startCol+t;e>=a[j.startRow].length||(a[j.startRow][e].isCorrect||(a[j.startRow][e].isWrong=!1,"salah"===s&&(a[j.startRow][e].letter="")))}else for(let t=0;t<j.answer.length;t++){const e=j.startRow+t;e>=a.length||(a[e][j.startCol].isCorrect||(a[e][j.startCol].isWrong=!1,"salah"===s&&(a[e][j.startCol].letter="")))}if("across"===j.direction)for(let t=0;t<j.answer.length;t++){const n=j.startCol+t;n>=a[j.startRow].length||("benar"===s?(a[j.startRow][n].letter=e[t]||"",a[j.startRow][n].isCorrect=!0,a[j.startRow][n].isWrong=!1):a[j.startRow][n].isCorrect||(a[j.startRow][n].letter="",a[j.startRow][n].isWrong=!0))}else for(let t=0;t<j.answer.length;t++){const n=j.startRow+t;n>=a.length||("benar"===s?(a[n][j.startCol].letter=e[t]||"",a[n][j.startCol].isCorrect=!0,a[n][j.startCol].isWrong=!1):a[n][j.startCol].isCorrect||(a[n][j.startCol].letter="",a[n][j.startCol].isWrong=!0))}C((e=>"across"===j.direction?{...e,across:e.across.map((e=>e.number===j.number?{...e,isAnswered:"benar"===s}:e))}:{...e,down:e.down.map((e=>e.number===j.number?{...e,isAnswered:"benar"===s}:e))})),W(a),D((e=>{const t=H;if("salah"===s)return{...e,[t]:""};{const s={...e};return delete s[t],s}})),_(""),A(""),y(null)},te=e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},se=(()=>{const e=k.across.length+k.down.length;if(!I||0===e)return{percentage:0,answered:0,total:e};const t=[...k.across,...k.down].filter((e=>{const t=e.answer;let s=!0;for(let a=0;a<t.length;a++){const n="across"===e.direction?e.startRow:e.startRow+a,r="across"===e.direction?e.startCol+a:e.startCol;if(!(n>=S.length||r>=S[0].length)&&S[n][r].letter!==t[a]){s=!1;break}}return s})).length;return{percentage:Math.round(t/e*100),answered:t,total:e}})(),ae=({isOpen:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 md:hidden",children:s.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-b from-[#BF4000] to-[#591E00] text-white",children:[s.jsx("h3",{className:"font-medium",children:"Progress"}),s.jsx("button",{onClick:t,className:"text-white text-xl font-bold",children:"×"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${se.percentage}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-gray-800",children:te(R)}),s.jsx("div",{children:"Waktu"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-gray-800",children:[se.percentage,"%"]}),s.jsx("div",{children:"Selesai"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-gray-800",children:[se.answered,"/",se.total]}),s.jsx("div",{children:"Pertanyaan"})]})]})]})]})}):null,ne=({isOpen:e,onClose:t,correct:a,wrong:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 pt-[15vh]",children:s.jsxs("div",{className:"bg-white w-full max-w-md mx-auto rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-b from-[#BF4000] to-[#591E00] text-white",children:[s.jsx("h3",{className:"font-medium",children:"Hasil Pemeriksaan"}),s.jsx("button",{onClick:t,className:"text-white text-xl font-bold",children:"×"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:a}),s.jsx("div",{className:"text-sm text-gray-600",children:"Benar"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:"Salah"})]})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("div",{className:"text-lg font-medium text-gray-800",children:a===se.total?"Selamat! Anda telah menyelesaikan semua soal dengan benar!":a>n?"Bagus! Tingkatkan lagi jawaban yang salah!":"Coba periksa kembali jawaban Anda!"})}),s.jsx("button",{onClick:t,className:"mt-6 w-full bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600",children:"Tutup"})]})]})}):null,re=()=>K.across.length>0?{clue:K.across[0],key:`across-${K.across[0].number}`}:K.down.length>0?{clue:K.down[0],key:`down-${K.down[0].number}`}:null,le=e=>{if(!e)return null;const t=[...k.across,...k.down].sort(((e,t)=>e.number-t.number));for(let s=t.findIndex((t=>t.direction===e.direction&&t.number===e.number))+1;s<t.length;s++)if(!t[s].isAnswered)return t[s];for(let s=0;s<t.length;s++)if(!t[s].isAnswered)return t[s];return t[0]||null},[oe,ie]=e.useState("DAY ?");e.useEffect((()=>{t.get("/api/day/").then((e=>{"string"==typeof e.data?ie(e.data):e.data?.day?ie(e.data.day):e.data?.data?.change_day&&ie(e.data.data.change_day)})).catch((()=>ie("DAY 1")))}),[]);const[de,ce]=e.useState(!1),me=e.useRef(null);return e.useEffect((()=>{if(!de)return;const e=e=>{me.current&&!me.current.contains(e.target)&&ce(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[de]),s.jsxs(s.Fragment,{children:[s.jsx(a,{title:"Tesla"}),s.jsxs(r,{children:[s.jsx("style",{children:"\n                html, body {\n                    overflow-x: hidden !important;\n                    width: 100% !important;\n                    max-width: 100vw !important;\n                    position: relative;\n                }\n                #app, #root {\n                    width: 100% !important;\n                    max-width: 100vw !important;\n                    overflow-x: hidden !important;\n                }\n            "}),s.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat overflow-x-hidden",style:{backgroundImage:"url(/build/assets/CvYg2ffC.png)",width:"100vw",maxWidth:"100vw",left:0,right:0},children:s.jsx("div",{className:"absolute inset-0 bg-[#BF400099] mix-blend-multiply pointer-events-none"})}),s.jsxs("div",{className:"relative z-10 my-4 md:my-40 md:mx-auto w-full overflow-x-hidden",style:{maxWidth:1092,marginLeft:"auto",marginRight:"auto"},children:[s.jsx("div",{className:"bg-[#b84c19] w-full text-white p-3 md:p-4 md:mt-0 mt-32 rounded-lg mb-4 relative",style:{maxWidth:1092,marginLeft:"auto",marginRight:"auto"},children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between w-full",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-8 w-full",children:[s.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between w-full md:w-auto md:justify-start md:space-x-8 gap-y-2",style:{position:"relative",top:0,left:0},children:[s.jsx("div",{className:"flex flex-col items-center justify-center w-24",children:s.jsx("div",{className:"text-2xl md:text-3xl font-bold leading-tight",children:oe})}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-24",children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold leading-tight",children:10*se.answered}),s.jsx("div",{className:"text-xs md:text-sm",children:"Skor"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-24",children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold leading-tight",children:te(R)}),s.jsx("div",{className:"text-xs md:text-sm",children:"Waktu"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-24",children:[s.jsxs("div",{className:"text-2xl md:text-3xl font-bold leading-tight",children:[se.answered,"/",se.total]}),s.jsx("div",{className:"text-xs md:text-sm",children:"Pertanyaan"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-24",children:[s.jsxs("div",{className:"text-2xl md:text-3xl font-bold leading-tight",children:[se.percentage,"%"]}),s.jsx("div",{className:"text-xs md:text-sm",children:"Selesai"})]})]}),s.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-center md:justify-end gap-2 md:space-x-5 mt-4 md:mt-0 w-full md:w-auto",children:[s.jsx("button",{onClick:I?()=>{const e=[...S];let t=0,s=0;const a={...k};for(const n of["across","down"])a[n]=a[n].map((a=>{let n=!0;const r=a.answer;for(let t=0;t<r.length;t++){const s="across"===a.direction?a.startRow:a.startRow+t,n="across"===a.direction?a.startCol+t:a.startCol;s>=e.length||n>=e[0].length||(e[s][n].isCorrect||(e[s][n].isWrong=!1))}for(let t=0;t<r.length;t++){const s="across"===a.direction?a.startRow:a.startRow+t,l="across"===a.direction?a.startCol+t:a.startCol;s>=e.length||l>=e[0].length||(e[s][l].letter!==r[t]?(e[s][l].isCorrect||(e[s][l].isWrong=!0),n=!1):(e[s][l].isCorrect=!0,e[s][l].isWrong=!1))}return n?t++:s++,{...a,isAnswered:n}}));W(e),C(a),P({correct:t,wrong:s}),h(!0)}:void 0,className:`bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150\n                                        ${I?"hover:scale-105 hover:bg-orange-100":"opacity-50 cursor-not-allowed"}\n                                    `,style:{minWidth:110,minHeight:40},disabled:!I,children:"Cek Jawaban"}),s.jsx("button",{onClick:()=>g(!0),className:"bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150 hover:scale-105 hover:bg-orange-100",style:{minWidth:110,minHeight:40},children:"Petunjuk"}),s.jsx("button",{onClick:()=>{(async()=>{let e=[];try{const t=localStorage.getItem("tesla_progress_history");t&&(e=JSON.parse(t))}catch{}X(e)})(),f(!0)},className:"bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150 hover:scale-105 hover:bg-orange-100",style:{minWidth:110,minHeight:40},children:"Riwayat"})]})]})})}),s.jsx("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-full overflow-x-hidden",children:s.jsxs("div",{className:"flex-1 order-2 md:order-1 mx-auto max-w-5xl md:w-full w-full overflow-x-hidden",children:[s.jsx("div",{className:"p-2 md:p-4 rounded-lg mb-4 w-full max-w-full overflow-x-hidden",children:I&&s.jsxs("div",{className:"w-full max-w-full overflow-x-hidden",style:{maxWidth:1092,marginLeft:"auto",marginRight:"auto"},children:[s.jsx("div",{className:"mb-4 bg-white p-4 rounded-lg shadow w-full",style:{maxWidth:"100%"},children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-[220px] w-full",style:{maxWidth:"100%",position:"relative"},children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pilih Soal"}),s.jsxs("div",{className:"relative",ref:me,children:[s.jsxs("button",{type:"button",className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white text-left focus:outline-none focus:ring-2 focus:ring-orange-500 flex justify-between items-center",onClick:()=>ce((e=>!e)),children:[s.jsx("span",{children:H?(()=>{const[e,t]=H.split("-"),s=parseInt(t),a=("across"===e?k.across:k.down).find((e=>e.number===s));return a?`${a.number}. ${a.clue} (${a.answer.length} huruf)`:"-- Pilih Soal --"})():"-- Pilih Soal --"}),s.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform "+(de?"rotate-180":""),fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),de&&s.jsx("div",{className:"absolute left-0 mt-2 w-full bg-white border border-gray-200 rounded-md shadow-lg z-30 max-h-72 overflow-y-auto animate-dropdown",style:{minWidth:220,boxShadow:"0 8px 24px 0 rgba(191,64,0,0.10)"},children:s.jsxs("div",{className:"py-1",children:[s.jsx("div",{className:"px-3 py-1 text-xs font-semibold text-orange-700 bg-orange-50 rounded-t",children:"Mendatar"}),0===k.across.length&&s.jsx("div",{className:"px-4 py-2 text-gray-400 text-sm",children:"Tidak ada soal mendatar"}),k.across.map((e=>s.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-orange-100 transition rounded "+(H===`across-${e.number}`?"bg-orange-50 font-semibold text-orange-700":""),onClick:()=>{A(`across-${e.number}`),y(e),N("across"),_(""),V(),Z(e),ce(!1),setTimeout((()=>{Y.current&&Y.current.focus()}),0)},children:[e.number,". ",e.clue," ",s.jsxs("span",{className:"text-gray-400",children:["(",e.answer.length," huruf)"]})]},`across-${e.number}`))),s.jsx("div",{className:"px-3 py-1 text-xs font-semibold text-orange-700 bg-orange-50 mt-2 rounded-t",children:"Menurun"}),0===k.down.length&&s.jsx("div",{className:"px-4 py-2 text-gray-400 text-sm",children:"Tidak ada soal menurun"}),k.down.map((e=>s.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-orange-100 transition rounded "+(H===`down-${e.number}`?"bg-orange-50 font-semibold text-orange-700":""),onClick:()=>{A(`down-${e.number}`),y(e),N("down"),_(""),V(),Z(e),ce(!1),setTimeout((()=>{Y.current&&Y.current.focus()}),0)},children:[e.number,". ",e.clue," ",s.jsxs("span",{className:"text-gray-400",children:["(",e.answer.length," huruf)"]})]},`down-${e.number}`)))]})}),s.jsx("style",{children:"\n                                                        @keyframes dropdown {\n                                                            0% { opacity: 0; transform: translateY(-10px);}\n                                                            100% { opacity: 1; transform: translateY(0);}\n                                                        }\n                                                        .animate-dropdown {\n                                                            animation: dropdown 0.18s cubic-bezier(.4,0,.2,1);\n                                                        }\n                                                    "})]})]}),H&&j&&s.jsxs("div",{className:"flex-1 min-w-[180px] w-full",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jawaban (",j.answer.length," huruf)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:Y,type:"text",value:T,onChange:e=>_(e.target.value.toUpperCase()),maxLength:j.answer.length,className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 uppercase bg-white",placeholder:`Masukkan ${j.answer.length} huruf`,onKeyDown:async e=>{if("Enter"===e.key&&T.length===j.answer.length){let e="salah";try{e=(await t.post(`/api/admin/tesla/${j.number}`,{jawaban:T})).data.hasil}catch{e="salah"}if(await ee(),"benar"===e){const e=le(j);e&&(A(`${e.direction}-${e.number}`),y(e),_(""),Z(e),setTimeout((()=>{Y.current&&Y.current.focus()}),0))}else A(`${j.direction}-${j.number}`),y(j),setTimeout((()=>{Y.current&&Y.current.focus()}),0)}}}),s.jsx("button",{onClick:async()=>{let e="salah";try{e=(await t.post(`/api/admin/tesla/${j.number}`,{jawaban:T})).data.hasil}catch{e="salah"}if(await ee(),"benar"===e){const e=le(j);e&&(A(`${e.direction}-${e.number}`),y(e),_(""),Z(e),setTimeout((()=>{Y.current&&Y.current.focus()}),0))}else A(`${j.direction}-${j.number}`),y(j),setTimeout((()=>{Y.current&&Y.current.focus()}),0)},className:"bg-orange-500 text-white px-4 py-2 rounded-md hover:bg-orange-600 transition-all duration-150",children:"Submit"})]})]})]})}),!B&&s.jsxs("div",{className:"bg-white rounded-lg shadow w-full max-w-full overflow-x-auto",style:{border:"1px solid #e5e7eb",display:"block",minWidth:0,width:"100%",padding:0,maxWidth:"100%",WebkitOverflowScrolling:"touch",overflowX:"auto"},onMouseDown:e=>{const t=e.currentTarget;let s=e.pageX-t.offsetLeft,a=t.scrollLeft;const n=e=>{const n=e.pageX-t.offsetLeft;t.scrollLeft=a-(n-s)},r=()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",r)},onTouchStart:e=>{const t=e.currentTarget;let s=e.touches[0].pageX-t.offsetLeft,a=t.scrollLeft;const n=e=>{const n=e.touches[0].pageX-t.offsetLeft;t.scrollLeft=a-(n-s)},r=()=>{window.removeEventListener("touchmove",n),window.removeEventListener("touchend",r)};window.addEventListener("touchmove",n),window.addEventListener("touchend",r)},children:[s.jsx("div",{className:"grid gap-0",style:{gridTemplateColumns:S[0]?.length?`repeat(${S[0].length}, 1fr)`:void 0,width:"100%",maxWidth:"100%"},children:(S.length>0?S:[]).map(((e,t)=>s.jsx(n.Fragment,{children:(e||[]).map(((e,a)=>s.jsxs("div",{className:`\n                                                                    border border-gray-400\n                                                                    flex items-center justify-center relative\n                                                                    text-xs md:text-base\n                                                                    transition-all\n                                                                    ${e?.isBlack?"bg-black":""}\n                                                                    ${e?.isCorrect?"bg-green-200":e?.isWrong?"bg-red-200":e?.isSelected?"bg-yellow-200":e?.isHighlighted?"bg-yellow-100":"bg-gray-50"}\n                                                                    ${e?.letter?"font-bold":""}\n                                                                    select-none\n                                                                `,style:{width:"100%",aspectRatio:"1 / 1",minWidth:32,minHeight:32,maxWidth:"100%",maxHeight:"100%",padding:0,boxSizing:"border-box",cursor:e?.number?"pointer":"default",borderRadius:4,borderWidth:1,borderColor:e?.isCorrect?"#22c55e":e?.isWrong?"#ef4444":"#a3a3a3",backgroundColor:e?.isBlack?"#000":e?.isCorrect?"#bbf7d0":e?.isWrong?"#fecaca":e?.isSelected?"#fef08a":e?.isHighlighted?"#fef9c3":"#f9fafb"},children:[e?.number&&s.jsx("span",{className:"absolute top-0 left-0 text-[10px] text-gray-800 pl-0.5 pt-0.5 leading-none cursor-pointer select-none",style:{zIndex:2,background:"rgba(255,255,255,0.7)",borderRadius:2,minWidth:12,textAlign:"left",pointerEvents:"auto"},onClick:()=>{if(!I)return;const e=((e,t)=>{let s=k.across.find((s=>s.startRow===e&&s.startCol===t));return s||(s=k.down.find((s=>s.startRow===e&&s.startCol===t)),s||null)})(t,a);e&&(A(`${e.direction}-${e.number}`),Z(e))},children:e.number}),s.jsx("span",{className:""+(e?.isSelected?"text-black font-bold":"text-gray-800"),style:{zIndex:1,width:"100%",textAlign:"center",fontSize:"1rem",lineHeight:"1.5rem",position:"relative"},children:e?.letter||""})]},`${t}-${a}`)))},t)))}),s.jsx("style",{children:"\n                                                .grid::-webkit-scrollbar {\n                                                    display: none !important;\n                                                    width: 0 !important;\n                                                    height: 0 !important;\n                                                    background: transparent !important;\n                                                }\n                                                /* Hide scrollbar for the board container */\n                                                .bg-white.rounded-lg.shadow::-webkit-scrollbar {\n                                                    display: none !important;\n                                                    width: 0 !important;\n                                                    height: 0 !important;\n                                                    background: transparent !important;\n                                                }\n                                                .bg-white.rounded-lg.shadow {\n                                                    -ms-overflow-style: none;  /* IE and Edge */\n                                                    scrollbar-width: none;     /* Firefox */\n                                                }\n                                                "})]})]})}),s.jsxs("div",{className:"flex flex-row flex-wrap gap-2 justify-center items-center",children:[I?s.jsx("button",{onClick:()=>{C({across:K.across.map((e=>({...e,isAnswered:!1}))),down:K.down.map((e=>({...e,isAnswered:!1})))}),W(G.map((e=>e.map((e=>({...e,letter:"",isSelected:!1,isHighlighted:!1,isCorrect:!1,isWrong:!1})))))),b(null),y(null),A(""),_(""),$(0),L(!0),J(!0),D({}),P({correct:0,wrong:0});const e=re();e?(A(e.key),y(e.clue),setTimeout((()=>{Z(e.clue),Y.current&&Y.current.focus()}),0)):(A(""),y(null))},className:"bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150 hover:scale-105 hover:bg-orange-100",style:{minWidth:110,minHeight:40,transition:"transform 0.15s",fontWeight:500,boxShadow:"0 2px 8px 0 rgba(191,64,0,0.08)"},children:"Mulai Dari Awal"}):s.jsx("button",{onClick:()=>{if(B)return;C({across:K.across.map((e=>({...e,isAnswered:!1}))),down:K.down.map((e=>({...e,isAnswered:!1})))}),W(G.map((e=>e.map((e=>({...e,letter:"",isSelected:!1,isHighlighted:!1,isCorrect:!1,isWrong:!1})))))),J(!0),$(0),L(!0),b(null),y(null),_("");const e=re();e?(A(e.key),y(e.clue),setTimeout((()=>{Z(e.clue)}),0)):(A(""),y(null))},className:"bg-gradient-to-r from-orange-500 to-[#b84c19] text-white font-bold text-lg rounded-xl shadow-lg px-10 py-3 transition-all duration-200 hover:scale-105 hover:from-orange-600 hover:to-[#a03c15] focus:outline-none"+(B?" opacity-50 cursor-not-allowed":""),style:{minWidth:180,minHeight:56,letterSpacing:1,margin:"0 auto",display:"block"},disabled:B,children:"Mulai"}),I&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{L((e=>!e))},className:"bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150 hover:scale-105 hover:bg-orange-100",style:{minWidth:110,minHeight:40,transition:"transform 0.15s",fontWeight:500,boxShadow:"0 2px 8px 0 rgba(191,64,0,0.08)"},children:E?"Pause":"Lanjutkan"}),s.jsx("button",{onClick:async()=>{const e={time:R,percentage:se.percentage,answered:se.answered,total:se.total,date:(new Date).toLocaleString(),score:10*se.answered};let t=[];try{const e=localStorage.getItem("tesla_progress_history");e&&(t=JSON.parse(e))}catch{}t=[e,...t].slice(0,6),localStorage.setItem("tesla_progress_history",JSON.stringify(t)),X(t),J(!1),$(0),L(!0),b(null),y(null),A(""),_(""),W([]),C({across:[],down:[]}),D({})},className:"bg-white shadow-lg text-orange-600 px-4 py-2 rounded text-xs md:text-sm font-medium transition-all duration-150 hover:scale-105 hover:bg-orange-100",style:{minWidth:110,minHeight:40,transition:"transform 0.15s",fontWeight:500,boxShadow:"0 2px 8px 0 rgba(191,64,0,0.08)"},children:"Simpan Progres"})]})]})]})})]}),s.jsx(ae,{isOpen:c,onClose:()=>m(!1)}),s.jsx(ne,{isOpen:x,onClose:()=>h(!1),correct:M.correct,wrong:M.wrong}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 pt-[15vh]",children:s.jsxs("div",{className:"bg-white w-full max-w-md mx-auto rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-b from-[#BF4000] to-[#591E00] text-white",children:[s.jsx("h3",{className:"font-medium",children:"Petunjuk Bermain"}),s.jsx("button",{onClick:()=>g(!1),className:"text-white text-xl font-bold",children:"×"})]}),s.jsx("div",{className:"p-6",children:s.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Pilih soal dari dropdown atau daftar soal"}),s.jsx("li",{children:"Masukkan jawaban pada kolom input"}),s.jsx("li",{children:"Tekan Submit untuk mengisi jawaban"}),s.jsx("li",{children:"Jawaban benar akan berwarna hijau"}),s.jsx("li",{children:"Jawaban salah akan berwarna merah"}),s.jsx("li",{children:'Tekan "Check Jawaban" untuk memeriksa semua jawaban'}),s.jsx("li",{children:'Tekan "Simpan Progres" untuk menyimpan progres permainan'})]})})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 pt-[15vh]",children:s.jsxs("div",{className:"bg-white w-full max-w-md mx-auto rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-b from-[#BF4000] to-[#591E00] text-white",children:[s.jsx("h3",{className:"font-medium",children:"Riwayat Progres"}),s.jsx("button",{onClick:()=>f(!1),className:"text-white text-xl font-bold",children:"×"})]}),s.jsx("div",{className:"p-6",children:O.length>0?s.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:320,overflowX:"auto"},children:[s.jsxs("table",{className:"min-w-full text-sm text-gray-700 table-auto",style:{width:"100%"},children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:"Tanggal"}),s.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:"Waktu"}),s.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:"Selesai"}),s.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:"Jawaban"}),s.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:"Skor"})]})}),s.jsx("tbody",{children:O.map(((e,t)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-2 py-1 break-words","data-label":"Tanggal",children:e.date}),s.jsx("td",{className:"px-2 py-1 break-words","data-label":"Waktu",children:te(e.time)}),s.jsxs("td",{className:"px-2 py-1 break-words","data-label":"Selesai",children:[e.percentage,"%"]}),s.jsxs("td",{className:"px-2 py-1 break-words","data-label":"Jawaban",children:[e.answered,"/",e.total]}),s.jsx("td",{className:"px-2 py-1 break-words","data-label":"Skor",children:"number"==typeof e.score?e.score:10*e.answered})]},t)))})]}),s.jsx("style",{children:'\n            @media (max-width: 640px) {\n                table, thead, tbody, th, td, tr {\n                    display: block;\n                    width: 100%;\n                }\n                thead {\n                    display: none;\n                }\n                tbody tr {\n                    margin-bottom: 12px;\n                    border: none;\n                    background: #fff;\n                    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n                    border-radius: 8px;\n                    padding: 8px 0;\n                }\n                td {\n                    padding: 8px 12px;\n                    border: none;\n                    position: relative;\n                    min-width: 0;\n                    word-break: break-word;\n                }\n                td[data-label]:before {\n                    content: attr(data-label) ": ";\n                    font-weight: 600;\n                    color: #b84c19;\n                    display: inline;\n                    margin-right: 4px;\n                    font-size: 0.95em;\n                }\n            }\n        '})]}):s.jsx("div",{className:"text-center text-gray-500",children:"Belum ada history progress."})}),"                    "]})})]})]})}export{l as default};
